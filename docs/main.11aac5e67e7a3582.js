"use strict";(self.webpackChunkshop=self.webpackChunkshop||[]).push([[179],{333:()=>{function Ce(t){return"function"==typeof t}function es(t){const n=t(r=>{Error.call(r),r.stack=(new Error).stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}const Xs=es(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:\n${n.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=n});function ts(t,e){if(t){const n=t.indexOf(e);0<=n&&t.splice(n,1)}}class Ut{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(const o of n)o.remove(this);else n.remove(this);const{initialTeardown:r}=this;if(Ce(r))try{r()}catch(o){e=o instanceof Xs?o.errors:[o]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const o of i)try{ea(o)}catch(s){e=e??[],s instanceof Xs?e=[...e,...s.errors]:e.push(s)}}if(e)throw new Xs(e)}}add(e){var n;if(e&&e!==this)if(this.closed)ea(e);else{if(e instanceof Ut){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(n=this._finalizers)&&void 0!==n?n:[]).push(e)}}_hasParent(e){const{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){const{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){const{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&ts(n,e)}remove(e){const{_finalizers:n}=this;n&&ts(n,e),e instanceof Ut&&e._removeParent(this)}}Ut.EMPTY=(()=>{const t=new Ut;return t.closed=!0,t})();const id=Ut.EMPTY;function Up(t){return t instanceof Ut||t&&"closed"in t&&Ce(t.remove)&&Ce(t.add)&&Ce(t.unsubscribe)}function ea(t){Ce(t)?t():t.unsubscribe()}const ns={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},Tu={setTimeout(t,e,...n){const{delegate:r}=Tu;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){const{delegate:e}=Tu;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function nv(t){Tu.setTimeout(()=>{const{onUnhandledError:e}=ns;if(!e)throw t;e(t)})}function ta(){}const rv=od("C",void 0,void 0);function od(t,e,n){return{kind:t,value:e,error:n}}let mo=null;function Bi(t){if(ns.useDeprecatedSynchronousErrorHandling){const e=!mo;if(e&&(mo={errorThrown:!1,error:null}),t(),e){const{errorThrown:n,error:r}=mo;if(mo=null,n)throw r}}else t()}class Cu extends Ut{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Up(e)&&e.add(this)):this.destination=ad}static create(e,n,r){return new _o(e,n,r)}next(e){this.isStopped?sd(function ov(t){return od("N",t,void 0)}(e),this):this._next(e)}error(e){this.isStopped?sd(function iv(t){return od("E",void 0,t)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?sd(rv,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const jp=Function.prototype.bind;function Du(t,e){return jp.call(t,e)}class $p{constructor(e){this.partialObserver=e}next(e){const{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){kr(r)}}error(e){const{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){kr(r)}else kr(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){kr(n)}}}class _o extends Cu{constructor(e,n,r){let i;if(super(),Ce(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let o;this&&ns.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&Du(e.next,o),error:e.error&&Du(e.error,o),complete:e.complete&&Du(e.complete,o)}):i=e}this.destination=new $p(i)}}function kr(t){ns.useDeprecatedSynchronousErrorHandling?function sv(t){ns.useDeprecatedSynchronousErrorHandling&&mo&&(mo.errorThrown=!0,mo.error=t)}(t):nv(t)}function sd(t,e){const{onStoppedNotification:n}=ns;n&&Tu.setTimeout(()=>n(t,e))}const ad={closed:!0,next:ta,error:function Hp(t){throw t},complete:ta},ud="function"==typeof Symbol&&Symbol.observable||"@@observable";function _i(t){return t}function zp(t){return 0===t.length?_i:1===t.length?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}let Fe=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){const r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){const o=function uv(t){return t&&t instanceof Cu||function av(t){return t&&Ce(t.next)&&Ce(t.error)&&Ce(t.complete)}(t)&&Up(t)}(n)?n:new _o(n,r,i);return Bi(()=>{const{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return new(r=qp(r))((i,o)=>{const s=new _o({next:a=>{try{n(a)}catch(u){o(u),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(n){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(n)}[ud](){return this}pipe(...n){return zp(n)(this)}toPromise(n){return new(n=qp(n))((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return t.create=e=>new t(e),t})();function qp(t){var e;return null!==(e=t??ns.Promise)&&void 0!==e?e:Promise}const cv=es(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let $e=(()=>{class t extends Fe{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){const r=new Wp(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new cv}next(n){Bi(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(n)}})}error(n){Bi(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;const{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){Bi(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return(null===(n=this.observers)||void 0===n?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){const{hasError:r,isStopped:i,observers:o}=this;return r||i?id:(this.currentObservers=null,o.push(n),new Ut(()=>{this.currentObservers=null,ts(o,n)}))}_checkFinalizedStatuses(n){const{hasError:r,thrownError:i,isStopped:o}=this;r?n.error(i):o&&n.complete()}asObservable(){const n=new Fe;return n.source=this,n}}return t.create=(e,n)=>new Wp(e,n),t})();class Wp extends $e{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.next)||void 0===r||r.call(n,e)}error(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.error)||void 0===r||r.call(n,e)}complete(){var e,n;null===(n=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===n||n.call(e)}_subscribe(e){var n,r;return null!==(r=null===(n=this.source)||void 0===n?void 0:n.subscribe(e))&&void 0!==r?r:id}}function cd(t){return Ce(t?.lift)}function St(t){return e=>{if(cd(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function lt(t,e,n,r,i){return new lv(t,e,n,r,i)}class lv extends Cu{constructor(e,n,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=n?function(a){try{n(a)}catch(u){e.error(u)}}:super._next,this._error=i?function(a){try{i(a)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:n}=this;super.unsubscribe(),!n&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function ve(t,e){return St((n,r)=>{let i=0;n.subscribe(lt(r,o=>{r.next(t.call(e,o,i++))}))})}function Jp(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n}function vr(t){return this instanceof vr?(this.v=t,this):new vr(t)}function br(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,e=t[Symbol.asyncIterator];return e?e.call(t):(t=function jt(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(t),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=t[o]&&function(s){return new Promise(function(a,u){!function i(o,s,a,u){Promise.resolve(u).then(function(c){o({value:c,done:a})},s)}(a,u,(s=t[o](s)).done,s.value)})}}}"function"==typeof SuppressedError&&SuppressedError;const mv=t=>t&&"number"==typeof t.length&&"function"!=typeof t;function bA(t){return Ce(t?.then)}function EA(t){return Ce(t[ud])}function wA(t){return Symbol.asyncIterator&&Ce(t?.[Symbol.asyncIterator])}function IA(t){return new TypeError(`You provided ${null!==t&&"object"==typeof t?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const TA=function o6(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function CA(t){return Ce(t?.[TA])}function DA(t){return function na(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=n.apply(t,e||[]),o=[];return i={},s("next"),s("throw"),s("return"),i[Symbol.asyncIterator]=function(){return this},i;function s(h){r[h]&&(i[h]=function(f){return new Promise(function(m,y){o.push([h,f,m,y])>1||a(h,f)})})}function a(h,f){try{!function u(h){h.value instanceof vr?Promise.resolve(h.value.v).then(c,l):d(o[0][2],h)}(r[h](f))}catch(m){d(o[0][3],m)}}function c(h){a("next",h)}function l(h){a("throw",h)}function d(h,f){h(f),o.shift(),o.length&&a(o[0][0],o[0][1])}}(this,arguments,function*(){const n=t.getReader();try{for(;;){const{value:r,done:i}=yield vr(n.read());if(i)return yield vr(void 0);yield yield vr(r)}}finally{n.releaseLock()}})}function SA(t){return Ce(t?.getReader)}function sn(t){if(t instanceof Fe)return t;if(null!=t){if(EA(t))return function s6(t){return new Fe(e=>{const n=t[ud]();if(Ce(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(t);if(mv(t))return function a6(t){return new Fe(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}(t);if(bA(t))return function u6(t){return new Fe(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,nv)})}(t);if(wA(t))return AA(t);if(CA(t))return function c6(t){return new Fe(e=>{for(const n of t)if(e.next(n),e.closed)return;e.complete()})}(t);if(SA(t))return function l6(t){return AA(DA(t))}(t)}throw IA(t)}function AA(t){return new Fe(e=>{(function d6(t,e){var n,r,i,o;return function N(t,e,n,r){return new(n||(n=Promise))(function(o,s){function a(l){try{c(r.next(l))}catch(d){s(d)}}function u(l){try{c(r.throw(l))}catch(d){s(d)}}function c(l){l.done?o(l.value):function i(o){return o instanceof n?o:new n(function(s){s(o)})}(l.value).then(a,u)}c((r=r.apply(t,e||[])).next())})}(this,void 0,void 0,function*(){try{for(n=br(t);!(r=yield n.next()).done;)if(e.next(r.value),e.closed)return}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=n.return)&&(yield o.call(n))}finally{if(i)throw i.error}}e.complete()})})(t,e).catch(n=>e.error(n))})}function yo(t,e,n,r=0,i=!1){const o=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(o),!i)return o}function an(t,e,n=1/0){return Ce(e)?an((r,i)=>ve((o,s)=>e(r,o,i,s))(sn(t(r,i))),n):("number"==typeof e&&(n=e),St((r,i)=>function h6(t,e,n,r,i,o,s,a){const u=[];let c=0,l=0,d=!1;const h=()=>{d&&!u.length&&!c&&e.complete()},f=y=>c<r?m(y):u.push(y),m=y=>{o&&e.next(y),c++;let v=!1;sn(n(y,l++)).subscribe(lt(e,T=>{i?.(T),o?f(T):e.next(T)},()=>{v=!0},void 0,()=>{if(v)try{for(c--;u.length&&c<r;){const T=u.shift();s?yo(e,s,()=>m(T)):m(T)}h()}catch(T){e.error(T)}}))};return t.subscribe(lt(e,f,()=>{d=!0,h()})),()=>{a?.()}}(r,i,t,n)))}function Ru(t=1/0){return an(_i,t)}const Zr=new Fe(t=>t.complete());function RA(t){return t&&Ce(t.schedule)}function _v(t){return t[t.length-1]}function Zp(t){return Ce(_v(t))?t.pop():void 0}function dd(t){return RA(_v(t))?t.pop():void 0}function Xp(t,e=0){return St((n,r)=>{n.subscribe(lt(r,i=>yo(r,t,()=>r.next(i),e),()=>yo(r,t,()=>r.complete(),e),i=>yo(r,t,()=>r.error(i),e)))})}function eg(t,e=0){return St((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function PA(t,e){if(!t)throw new Error("Iterable cannot be null");return new Fe(n=>{yo(n,e,()=>{const r=t[Symbol.asyncIterator]();yo(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function en(t,e){return e?function b6(t,e){if(null!=t){if(EA(t))return function g6(t,e){return sn(t).pipe(eg(e),Xp(e))}(t,e);if(mv(t))return function _6(t,e){return new Fe(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}(t,e);if(bA(t))return function m6(t,e){return sn(t).pipe(eg(e),Xp(e))}(t,e);if(wA(t))return PA(t,e);if(CA(t))return function y6(t,e){return new Fe(n=>{let r;return yo(n,e,()=>{r=t[TA](),yo(n,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){return void n.error(s)}o?n.complete():n.next(i)},0,!0)}),()=>Ce(r?.return)&&r.return()})}(t,e);if(SA(t))return function v6(t,e){return PA(DA(t),e)}(t,e)}throw IA(t)}(t,e):sn(t)}class Xr extends $e{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){const{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}function ce(...t){return en(t,dd(t))}function NA(t={}){const{connector:e=(()=>new $e),resetOnError:n=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=t;return o=>{let s,a,u,c=0,l=!1,d=!1;const h=()=>{a?.unsubscribe(),a=void 0},f=()=>{h(),s=u=void 0,l=d=!1},m=()=>{const y=s;f(),y?.unsubscribe()};return St((y,v)=>{c++,!d&&!l&&h();const T=u=u??e();v.add(()=>{c--,0===c&&!d&&!l&&(a=yv(m,i))}),T.subscribe(v),!s&&c>0&&(s=new _o({next:b=>T.next(b),error:b=>{d=!0,h(),a=yv(f,n,b),T.error(b)},complete:()=>{l=!0,h(),a=yv(f,r),T.complete()}}),sn(y).subscribe(s))})(o)}}function yv(t,e,...n){if(!0===e)return void t();if(!1===e)return;const r=new _o({next:()=>{r.unsubscribe(),t()}});return sn(e(...n)).subscribe(r)}function ei(t,e){return St((n,r)=>{let i=null,o=0,s=!1;const a=()=>s&&!i&&r.complete();n.subscribe(lt(r,u=>{i?.unsubscribe();let c=0;const l=o++;sn(t(u,l)).subscribe(i=lt(r,d=>r.next(e?e(u,d,l,c++):d),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function E6(t,e){return t===e}function et(t){for(let e in t)if(t[e]===et)return e;throw Error("Could not find renamed property on target object.")}function tg(t,e){for(const n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function un(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(un).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function vv(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const w6=et({__forward_ref__:et});function De(t){return t.__forward_ref__=De,t.toString=function(){return un(this())},t}function he(t){return bv(t)?t():t}function bv(t){return"function"==typeof t&&t.hasOwnProperty(w6)&&t.__forward_ref__===De}function Ev(t){return t&&!!t.\u0275providers}const OA="https://g.co/ng/security#xss";class L extends Error{constructor(e,n){super(function ng(t,e){return`NG0${Math.abs(t)}${e?": "+e:""}`}(e,n)),this.code=e}}function pe(t){return"string"==typeof t?t:null==t?"":String(t)}function wv(t,e){throw new L(-201,!1)}function ti(t,e){null==t&&function le(t,e,n,r){throw new Error(`ASSERTION ERROR: ${t}`+(null==r?"":` [Expected=> ${n} ${r} ${e} <=Actual]`))}(e,t,null,"!=")}function G(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Re(t){return{providers:t.providers||[],imports:t.imports||[]}}function rg(t){return kA(t,og)||kA(t,FA)}function kA(t,e){return t.hasOwnProperty(e)?t[e]:null}function ig(t){return t&&(t.hasOwnProperty(Iv)||t.hasOwnProperty(P6))?t[Iv]:null}const og=et({\u0275prov:et}),Iv=et({\u0275inj:et}),FA=et({ngInjectableDef:et}),P6=et({ngInjectorDef:et});var Se=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(Se||{});let Tv;function Er(t){const e=Tv;return Tv=t,e}function LA(t,e,n){const r=rg(t);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&Se.Optional?null:void 0!==e?e:void wv(un(t))}const dt=globalThis;class Z{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=G({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const hd={},Rv="__NG_DI_FLAG__",sg="ngTempTokenPath",M6=/\n/gm,UA="__source";let Pu;function is(t){const e=Pu;return Pu=t,e}function F6(t,e=Se.Default){if(void 0===Pu)throw new L(-203,!1);return null===Pu?LA(t,void 0,e):Pu.get(t,e&Se.Optional?null:void 0,e)}function j(t,e=Se.Default){return(function VA(){return Tv}()||F6)(he(t),e)}function z(t,e=Se.Default){return j(t,ag(e))}function ag(t){return typeof t>"u"||"number"==typeof t?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function Pv(t){const e=[];for(let n=0;n<t.length;n++){const r=he(t[n]);if(Array.isArray(r)){if(0===r.length)throw new L(900,!1);let i,o=Se.Default;for(let s=0;s<r.length;s++){const a=r[s],u=V6(a);"number"==typeof u?-1===u?i=a.token:o|=u:i=a}e.push(j(i,o))}else e.push(j(r))}return e}function fd(t,e){return t[Rv]=e,t.prototype[Rv]=e,t}function V6(t){return t[Rv]}function vo(t){return{toString:t}.toString()}var ug=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(ug||{}),yi=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(yi||{});const Ui={},He=[],cg=et({\u0275cmp:et}),xv=et({\u0275dir:et}),Nv=et({\u0275pipe:et}),$A=et({\u0275mod:et}),bo=et({\u0275fac:et}),pd=et({__NG_ELEMENT_ID__:et}),HA=et({__NG_ENV_ID__:et});function GA(t,e,n){let r=t.length;for(;;){const i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const o=e.length;if(i+o===r||t.charCodeAt(i+o)<=32)return i}n=i+1}}function Mv(t,e,n){let r=0;for(;r<n.length;){const i=n[r];if("number"==typeof i){if(0!==i)break;r++;const o=n[r++],s=n[r++],a=n[r++];t.setAttribute(e,s,a,o)}else{const o=i,s=n[++r];qA(o)?t.setProperty(e,o,s):t.setAttribute(e,o,s),r++}}return r}function zA(t){return 3===t||4===t||6===t}function qA(t){return 64===t.charCodeAt(0)}function gd(t,e){if(null!==e&&0!==e.length)if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?n=i:0===n||WA(t,n,i,null,-1===n||2===n?e[++r]:null)}}return t}function WA(t,e,n,r,i){let o=0,s=t.length;if(-1===e)s=-1;else for(;o<t.length;){const a=t[o++];if("number"==typeof a){if(a===e){s=-1;break}if(a>e){s=o-1;break}}}for(;o<t.length;){const a=t[o];if("number"==typeof a)break;if(a===n){if(null===r)return void(null!==i&&(t[o+1]=i));if(r===t[o+1])return void(t[o+2]=i)}o++,null!==r&&o++,null!==i&&o++}-1!==s&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,n),null!==r&&t.splice(o++,0,r),null!==i&&t.splice(o++,0,i)}const KA="ng-template";function U6(t,e,n){let r=0,i=!0;for(;r<t.length;){let o=t[r++];if("string"==typeof o&&i){const s=t[r++];if(n&&"class"===o&&-1!==GA(s.toLowerCase(),e,0))return!0}else{if(1===o){for(;r<t.length&&"string"==typeof(o=t[r++]);)if(o.toLowerCase()===e)return!0;return!1}"number"==typeof o&&(i=!1)}}return!1}function QA(t){return 4===t.type&&t.value!==KA}function j6(t,e,n){return e===(4!==t.type||n?t.value:KA)}function $6(t,e,n){let r=4;const i=t.attrs||[],o=function z6(t){for(let e=0;e<t.length;e++)if(zA(t[e]))return e;return t.length}(i);let s=!1;for(let a=0;a<e.length;a++){const u=e[a];if("number"!=typeof u){if(!s)if(4&r){if(r=2|1&r,""!==u&&!j6(t,u,n)||""===u&&1===e.length){if(vi(r))return!1;s=!0}}else{const c=8&r?u:e[++a];if(8&r&&null!==t.attrs){if(!U6(t.attrs,c,n)){if(vi(r))return!1;s=!0}continue}const d=H6(8&r?"class":u,i,QA(t),n);if(-1===d){if(vi(r))return!1;s=!0;continue}if(""!==c){let h;h=d>o?"":i[d+1].toLowerCase();const f=8&r?h:null;if(f&&-1!==GA(f,c,0)||2&r&&c!==h){if(vi(r))return!1;s=!0}}}}else{if(!s&&!vi(r)&&!vi(u))return!1;if(s&&vi(u))continue;s=!1,r=u|1&r}}return vi(r)||s}function vi(t){return 0==(1&t)}function H6(t,e,n,r){if(null===e)return-1;let i=0;if(r||!n){let o=!1;for(;i<e.length;){const s=e[i];if(s===t)return i;if(3===s||6===s)o=!0;else{if(1===s||2===s){let a=e[++i];for(;"string"==typeof a;)a=e[++i];continue}if(4===s)break;if(0===s){i+=4;continue}}i+=o?1:2}return-1}return function q6(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function JA(t,e,n=!1){for(let r=0;r<e.length;r++)if($6(t,e[r],n))return!0;return!1}function W6(t,e){e:for(let n=0;n<e.length;n++){const r=e[n];if(t.length===r.length){for(let i=0;i<t.length;i++)if(t[i]!==r[i])continue e;return!0}}return!1}function YA(t,e){return t?":not("+e.trim()+")":e}function K6(t){let e=t[0],n=1,r=2,i="",o=!1;for(;n<t.length;){let s=t[n];if("string"==typeof s)if(2&r){const a=t[++n];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+s:4&r&&(i+=" "+s);else""!==i&&!vi(s)&&(e+=YA(o,i),i=""),r=s,o=o||!vi(r);n++}return""!==i&&(e+=YA(o,i)),e}function Ue(t){return vo(()=>{const e=XA(t),n={...e,decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===ug.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||yi.Emulated,styles:t.styles||He,_:null,schemas:t.schemas||null,tView:null,id:""};eR(n);const r=t.dependencies;return n.directiveDefs=lg(r,!1),n.pipeDefs=lg(r,!0),n.id=function nG(t){let e=0;const n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(const i of n)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}(n),n})}function Z6(t){return Ve(t)||Dn(t)}function X6(t){return null!==t}function Me(t){return vo(()=>({type:t.type,bootstrap:t.bootstrap||He,declarations:t.declarations||He,imports:t.imports||He,exports:t.exports||He,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function ZA(t,e){if(null==t)return Ui;const n={};for(const r in t)if(t.hasOwnProperty(r)){let i=t[r],o=i;Array.isArray(i)&&(o=i[1],i=i[0]),n[i]=r,e&&(e[i]=o)}return n}function W(t){return vo(()=>{const e=XA(t);return eR(e),e})}function wr(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,standalone:!0===t.standalone,onDestroy:t.type.prototype.ngOnDestroy||null}}function Ve(t){return t[cg]||null}function Dn(t){return t[xv]||null}function tr(t){return t[Nv]||null}function Vr(t,e){const n=t[$A]||null;if(!n&&!0===e)throw new Error(`Type ${un(t)} does not have '\u0275mod' property.`);return n}function XA(t){const e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||Ui,exportAs:t.exportAs||null,standalone:!0===t.standalone,signals:!0===t.signals,selectors:t.selectors||He,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:ZA(t.inputs,e),outputs:ZA(t.outputs)}}function eR(t){t.features?.forEach(e=>e(t))}function lg(t,e){if(!t)return null;const n=e?tr:Z6;return()=>("function"==typeof t?t():t).map(r=>n(r)).filter(X6)}const Mt=0,ee=1,ye=2,wt=3,bi=4,md=5,Wn=6,Nu=7,$t=8,os=9,Mu=10,ge=11,_d=12,tR=13,Ou=14,Ht=15,yd=16,ku=17,ji=18,vd=19,nR=20,ss=21,Eo=22,bd=23,Ed=24,Ae=25,Ov=1,rR=2,$i=7,Fu=9,Sn=11;function Ir(t){return Array.isArray(t)&&"object"==typeof t[Ov]}function nr(t){return Array.isArray(t)&&!0===t[Ov]}function kv(t){return 0!=(4&t.flags)}function oa(t){return t.componentOffset>-1}function hg(t){return 1==(1&t.flags)}function Ei(t){return!!t.template}function Fv(t){return 0!=(512&t[ye])}function sa(t,e){return t.hasOwnProperty(bo)?t[bo]:null}let An=null,fg=!1;function ni(t){const e=An;return An=t,e}const sR={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function uR(t){if(!Id(t)||t.dirty){if(!t.producerMustRecompute(t)&&!dR(t))return void(t.dirty=!1);t.producerRecomputeValue(t),t.dirty=!1}}function lR(t){t.dirty=!0,function cR(t){if(void 0===t.liveConsumerNode)return;const e=fg;fg=!0;try{for(const n of t.liveConsumerNode)n.dirty||lR(n)}finally{fg=e}}(t),t.consumerMarkedDirty?.(t)}function Lv(t){return t&&(t.nextProducerIndex=0),ni(t)}function Bv(t,e){if(ni(e),t&&void 0!==t.producerNode&&void 0!==t.producerIndexOfThis&&void 0!==t.producerLastReadVersion){if(Id(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)pg(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function dR(t){Vu(t);for(let e=0;e<t.producerNode.length;e++){const n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(uR(n),r!==n.version))return!0}return!1}function hR(t){if(Vu(t),Id(t))for(let e=0;e<t.producerNode.length;e++)pg(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function pg(t,e){if(function pR(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}(t),Vu(t),1===t.liveConsumerNode.length)for(let r=0;r<t.producerNode.length;r++)pg(t.producerNode[r],t.producerIndexOfThis[r]);const n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){const r=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];Vu(i),i.producerIndexOfThis[r]=e}}function Id(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function Vu(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}let gR=null;const vR=()=>{},gG=(()=>({...sR,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:t=>{t.schedule(t.ref)},hasRun:!1,cleanupFn:vR}))();class mG{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}}function Rn(){return bR}function bR(t){return t.type.prototype.ngOnChanges&&(t.setInput=yG),_G}function _G(){const t=wR(this),e=t?.current;if(e){const n=t.previous;if(n===Ui)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function yG(t,e,n,r){const i=this.declaredInputs[n],o=wR(t)||function vG(t,e){return t[ER]=e}(t,{previous:Ui,current:null}),s=o.current||(o.current={}),a=o.previous,u=a[i];s[i]=new mG(u&&u.currentValue,e,a===Ui),t[r]=e}Rn.ngInherit=!0;const ER="__ngSimpleChanges__";function wR(t){return t[ER]||null}const Hi=function(t,e,n){};function ht(t){for(;Array.isArray(t);)t=t[Mt];return t}function gg(t,e){return ht(e[t])}function Tr(t,e){return ht(e[t.index])}function CR(t,e){return t.data[e]}function Lr(t,e){const n=e[t];return Ir(n)?n:n[Mt]}function us(t,e){return null==e?null:t[e]}function DR(t){t[ku]=0}function CG(t){1024&t[ye]||(t[ye]|=1024,AR(t,1))}function SR(t){1024&t[ye]&&(t[ye]&=-1025,AR(t,-1))}function AR(t,e){let n=t[wt];if(null===n)return;n[md]+=e;let r=n;for(n=n[wt];null!==n&&(1===e&&1===r[md]||-1===e&&0===r[md]);)n[md]+=e,r=n,n=n[wt]}const de={lFrame:BR(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function xR(){return de.bindingsEnabled}function Bu(){return null!==de.skipHydrationRootTNode}function O(){return de.lFrame.lView}function Le(){return de.lFrame.tView}function we(t){return de.lFrame.contextLView=t,t[$t]}function Ie(t){return de.lFrame.contextLView=null,t}function Pn(){let t=NR();for(;null!==t&&64===t.type;)t=t.parent;return t}function NR(){return de.lFrame.currentTNode}function Gi(t,e){const n=de.lFrame;n.currentTNode=t,n.isParent=e}function Gv(){return de.lFrame.isParent}function zv(){de.lFrame.isParent=!1}function rr(){const t=de.lFrame;let e=t.bindingRootIndex;return-1===e&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function Uu(){return de.lFrame.bindingIndex++}function Io(t){const e=de.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function VG(t,e){const n=de.lFrame;n.bindingIndex=n.bindingRootIndex=t,qv(e)}function qv(t){de.lFrame.currentDirectiveIndex=t}function FR(){return de.lFrame.currentQueryIndex}function Kv(t){de.lFrame.currentQueryIndex=t}function BG(t){const e=t[ee];return 2===e.type?e.declTNode:1===e.type?t[Wn]:null}function VR(t,e,n){if(n&Se.SkipSelf){let i=e,o=t;for(;!(i=i.parent,null!==i||n&Se.Host||(i=BG(o),null===i||(o=o[Ou],10&i.type))););if(null===i)return!1;e=i,t=o}const r=de.lFrame=LR();return r.currentTNode=e,r.lView=t,!0}function Qv(t){const e=LR(),n=t[ee];de.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function LR(){const t=de.lFrame,e=null===t?null:t.child;return null===e?BR(t):e}function BR(t){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=e),e}function UR(){const t=de.lFrame;return de.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const jR=UR;function Jv(){const t=UR();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function ir(){return de.lFrame.selectedIndex}function aa(t){de.lFrame.selectedIndex=t}function At(){const t=de.lFrame;return CR(t.tView,t.selectedIndex)}let HR=!0;function mg(){return HR}function cs(t){HR=t}function _g(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){const o=t.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:u,ngAfterViewChecked:c,ngOnDestroy:l}=o;s&&(t.contentHooks??=[]).push(-n,s),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),u&&(t.viewHooks??=[]).push(-n,u),c&&((t.viewHooks??=[]).push(n,c),(t.viewCheckHooks??=[]).push(n,c)),null!=l&&(t.destroyHooks??=[]).push(n,l)}}function yg(t,e,n){GR(t,e,3,n)}function vg(t,e,n,r){(3&t[ye])===n&&GR(t,e,n,r)}function Yv(t,e){let n=t[ye];(3&n)===e&&(n&=8191,n+=1,t[ye]=n)}function GR(t,e,n,r){const o=r??-1,s=e.length-1;let a=0;for(let u=void 0!==r?65535&t[ku]:0;u<s;u++)if("number"==typeof e[u+1]){if(a=e[u],null!=r&&a>=r)break}else e[u]<0&&(t[ku]+=65536),(a<o||-1==o)&&(WG(t,n,e,u),t[ku]=(4294901760&t[ku])+u+2),u++}function zR(t,e){Hi(4,t,e);const n=ni(null);try{e.call(t)}finally{ni(n),Hi(5,t,e)}}function WG(t,e,n,r){const i=n[r]<0,o=n[r+1],a=t[i?-n[r]:n[r]];i?t[ye]>>13<t[ku]>>16&&(3&t[ye])===e&&(t[ye]+=8192,zR(a,o)):zR(a,o)}const ju=-1;class Cd{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}}function Xv(t){return t!==ju}function Dd(t){return 32767&t}function Sd(t,e){let n=function YG(t){return t>>16}(t),r=e;for(;n>0;)r=r[Ou],n--;return r}let eb=!0;function bg(t){const e=eb;return eb=t,e}const qR=255,WR=5;let ZG=0;const zi={};function Eg(t,e){const n=KR(t,e);if(-1!==n)return n;const r=e[ee];r.firstCreatePass&&(t.injectorIndex=e.length,tb(r.data,t),tb(e,null),tb(r.blueprint,null));const i=wg(t,e),o=t.injectorIndex;if(Xv(i)){const s=Dd(i),a=Sd(i,e),u=a[ee].data;for(let c=0;c<8;c++)e[o+c]=a[s+c]|u[s+c]}return e[o+8]=i,o}function tb(t,e){t.push(0,0,0,0,0,0,0,0,e)}function KR(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function wg(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;null!==i;){if(r=tP(i),null===r)return ju;if(n++,i=i[Ou],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return ju}function nb(t,e,n){!function XG(t,e,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(pd)&&(r=n[pd]),null==r&&(r=n[pd]=ZG++);const i=r&qR;e.data[t+(i>>WR)]|=1<<i}(t,e,n)}function QR(t,e,n){if(n&Se.Optional||void 0!==t)return t;wv()}function JR(t,e,n,r){if(n&Se.Optional&&void 0===r&&(r=null),!(n&(Se.Self|Se.Host))){const i=t[os],o=Er(void 0);try{return i?i.get(e,r,n&Se.Optional):LA(e,r,n&Se.Optional)}finally{Er(o)}}return QR(r,0,n)}function YR(t,e,n,r=Se.Default,i){if(null!==t){if(2048&e[ye]&&!(r&Se.Self)){const s=function oz(t,e,n,r,i){let o=t,s=e;for(;null!==o&&null!==s&&2048&s[ye]&&!(512&s[ye]);){const a=ZR(o,s,n,r|Se.Self,zi);if(a!==zi)return a;let u=o.parent;if(!u){const c=s[nR];if(c){const l=c.get(n,zi,r);if(l!==zi)return l}u=tP(s),s=s[Ou]}o=u}return i}(t,e,n,r,zi);if(s!==zi)return s}const o=ZR(t,e,n,r,zi);if(o!==zi)return o}return JR(e,n,r,i)}function ZR(t,e,n,r,i){const o=function nz(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty(pd)?t[pd]:void 0;return"number"==typeof e?e>=0?e&qR:iz:e}(n);if("function"==typeof o){if(!VR(e,t,r))return r&Se.Host?QR(i,0,r):JR(e,n,r,i);try{let s;if(s=o(r),null!=s||r&Se.Optional)return s;wv()}finally{jR()}}else if("number"==typeof o){let s=null,a=KR(t,e),u=ju,c=r&Se.Host?e[Ht][Wn]:null;for((-1===a||r&Se.SkipSelf)&&(u=-1===a?wg(t,e):e[a+8],u!==ju&&eP(r,!1)?(s=e[ee],a=Dd(u),e=Sd(u,e)):a=-1);-1!==a;){const l=e[ee];if(XR(o,a,l.data)){const d=tz(a,e,n,s,r,c);if(d!==zi)return d}u=e[a+8],u!==ju&&eP(r,e[ee].data[a+8]===c)&&XR(o,a,e)?(s=l,a=Dd(u),e=Sd(u,e)):a=-1}}return i}function tz(t,e,n,r,i,o){const s=e[ee],a=s.data[t+8],l=Ig(a,s,n,null==r?oa(a)&&eb:r!=s&&0!=(3&a.type),i&Se.Host&&o===a);return null!==l?ua(e,s,l,a):zi}function Ig(t,e,n,r,i){const o=t.providerIndexes,s=e.data,a=1048575&o,u=t.directiveStart,l=o>>20,h=i?a+l:t.directiveEnd;for(let f=r?a:a+l;f<h;f++){const m=s[f];if(f<u&&n===m||f>=u&&m.type===n)return f}if(i){const f=s[u];if(f&&Ei(f)&&f.type===n)return u}return null}function ua(t,e,n,r){let i=t[n];const o=e.data;if(function KG(t){return t instanceof Cd}(i)){const s=i;s.resolving&&function I6(t,e){const n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new L(-200,`Circular dependency in DI detected for ${t}${n}`)}(function Ke(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():pe(t)}(o[n]));const a=bg(s.canSeeViewProviders);s.resolving=!0;const c=s.injectImpl?Er(s.injectImpl):null;VR(t,r,Se.Default);try{i=t[n]=s.factory(void 0,o,t,r),e.firstCreatePass&&n>=r.directiveStart&&function qG(t,e,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){const s=bR(e);(n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s)}i&&(n.preOrderHooks??=[]).push(0-t,i),o&&((n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o))}(n,o[n],e)}finally{null!==c&&Er(c),bg(a),s.resolving=!1,jR()}}return i}function XR(t,e,n){return!!(n[e+(t>>WR)]&1<<t)}function eP(t,e){return!(t&Se.Self||t&Se.Host&&e)}class or{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return YR(this._tNode,this._lView,e,ag(r),n)}}function iz(){return new or(Pn(),O())}function Gt(t){return vo(()=>{const e=t.prototype.constructor,n=e[bo]||rb(e),r=Object.prototype;let i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){const o=i[bo]||rb(i);if(o&&o!==n)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function rb(t){return bv(t)?()=>{const e=rb(he(t));return e&&e()}:sa(t)}function tP(t){const e=t[ee],n=e.type;return 2===n?e.declTNode:1===n?t[Wn]:null}const Hu="__parameters__";function zu(t,e,n){return vo(()=>{const r=function ib(t){return function(...n){if(t){const r=t(...n);for(const i in r)this[i]=r[i]}}}(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;const s=new i(...o);return a.annotation=s,a;function a(u,c,l){const d=u.hasOwnProperty(Hu)?u[Hu]:Object.defineProperty(u,Hu,{value:[]})[Hu];for(;d.length<=l;)d.push(null);return(d[l]=d[l]||[]).push(s),u}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}function Wu(t,e){t.forEach(n=>Array.isArray(n)?Wu(n,e):e(n))}function rP(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function Tg(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function Pd(t,e){const n=[];for(let r=0;r<t;r++)n.push(e);return n}function Br(t,e,n){let r=Ku(t,e);return r>=0?t[1|r]=n:(r=~r,function hz(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(1===i)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;)t[i]=t[i-2],i--;t[e]=n,t[e+1]=r}}(t,r,e,n)),r}function ob(t,e){const n=Ku(t,e);if(n>=0)return t[1|n]}function Ku(t,e){return function iP(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){const o=r+(i-r>>1),s=t[o<<n];if(e===s)return o<<n;s>e?i=o:r=o+1}return~(i<<n)}(t,e,1)}const xn=fd(zu("Optional"),8),Dg=fd(zu("SkipSelf"),4);function xg(t){return 128==(128&t.flags)}var ls=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(ls||{});const Mz=/^>|^->|<!--|-->|--!>|<!-$/g,Oz=/(<|>)/g,kz="\u200b$1\u200b";const lb=new Map;let Fz=0;const hb="__ngContext__";function Kn(t,e){Ir(e)?(t[hb]=e[vd],function Lz(t){lb.set(t[vd],t)}(e)):t[hb]=e}let fb;function pb(t,e){return fb(t,e)}function Md(t){const e=t[wt];return nr(e)?e[wt]:e}function TP(t){return DP(t[_d])}function CP(t){return DP(t[bi])}function DP(t){for(;null!==t&&!nr(t);)t=t[bi];return t}function Yu(t,e,n,r,i){if(null!=r){let o,s=!1;nr(r)?o=r:Ir(r)&&(s=!0,r=r[Mt]);const a=ht(r);0===t&&null!==n?null==i?PP(e,n,a):la(e,n,a,i||null,!0):1===t&&null!==n?la(e,n,a,i||null,!0):2===t?function Lg(t,e,n){const r=Fg(t,e);r&&function r9(t,e,n,r){t.removeChild(e,n,r)}(t,r,e,n)}(e,a,s):3===t&&e.destroyNode(a),null!=o&&function s9(t,e,n,r,i){const o=n[$i];o!==ht(n)&&Yu(e,t,r,o,i);for(let a=Sn;a<n.length;a++){const u=n[a];kd(u[ee],u,t,e,r,o)}}(e,t,o,n,i)}}function gb(t,e){return t.createComment(function mP(t){return t.replace(Mz,e=>e.replace(Oz,kz))}(e))}function Og(t,e,n){return t.createElement(e,n)}function AP(t,e){const n=t[Fu],r=n.indexOf(e);SR(e),n.splice(r,1)}function kg(t,e){if(t.length<=Sn)return;const n=Sn+e,r=t[n];if(r){const i=r[yd];null!==i&&i!==t&&AP(i,r),e>0&&(t[n-1][bi]=r[bi]);const o=Tg(t,Sn+e);!function Qz(t,e){kd(t,e,e[ge],2,null,null),e[Mt]=null,e[Wn]=null}(r[ee],r);const s=o[ji];null!==s&&s.detachView(o[ee]),r[wt]=null,r[bi]=null,r[ye]&=-129}return r}function mb(t,e){if(!(256&e[ye])){const n=e[ge];e[bd]&&hR(e[bd]),e[Ed]&&hR(e[Ed]),n.destroyNode&&kd(t,e,n,3,null,null),function Zz(t){let e=t[_d];if(!e)return _b(t[ee],t);for(;e;){let n=null;if(Ir(e))n=e[_d];else{const r=e[Sn];r&&(n=r)}if(!n){for(;e&&!e[bi]&&e!==t;)Ir(e)&&_b(e[ee],e),e=e[wt];null===e&&(e=t),Ir(e)&&_b(e[ee],e),n=e&&e[bi]}e=n}}(e)}}function _b(t,e){if(!(256&e[ye])){e[ye]&=-129,e[ye]|=256,function n9(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let r=0;r<n.length;r+=2){const i=e[n[r]];if(!(i instanceof Cd)){const o=n[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){const a=i[o[s]],u=o[s+1];Hi(4,a,u);try{u.call(a)}finally{Hi(5,a,u)}}else{Hi(4,i,o);try{o.call(i)}finally{Hi(5,i,o)}}}}}(t,e),function t9(t,e){const n=t.cleanup,r=e[Nu];if(null!==n)for(let o=0;o<n.length-1;o+=2)if("string"==typeof n[o]){const s=n[o+3];s>=0?r[s]():r[-s].unsubscribe(),o+=2}else n[o].call(r[n[o+1]]);null!==r&&(e[Nu]=null);const i=e[ss];if(null!==i){e[ss]=null;for(let o=0;o<i.length;o++)(0,i[o])()}}(t,e),1===e[ee].type&&e[ge].destroy();const n=e[yd];if(null!==n&&nr(e[wt])){n!==e[wt]&&AP(n,e);const r=e[ji];null!==r&&r.detachView(t)}!function Bz(t){lb.delete(t[vd])}(e)}}function yb(t,e,n){return function RP(t,e,n){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return n[Mt];{const{componentOffset:i}=r;if(i>-1){const{encapsulation:o}=t.data[r.directiveStart+i];if(o===yi.None||o===yi.Emulated)return null}return Tr(r,n)}}(t,e.parent,n)}function la(t,e,n,r,i){t.insertBefore(e,n,r,i)}function PP(t,e,n){t.appendChild(e,n)}function xP(t,e,n,r,i){null!==r?la(t,e,n,r,i):PP(t,e,n)}function Fg(t,e){return t.parentNode(e)}function NP(t,e,n){return OP(t,e,n)}let vb,Ib,Ug,OP=function MP(t,e,n){return 40&t.type?Tr(t,n):null};function Vg(t,e,n,r){const i=yb(t,r,e),o=e[ge],a=NP(r.parent||e[Wn],r,e);if(null!=i)if(Array.isArray(n))for(let u=0;u<n.length;u++)xP(o,i,n[u],a,!1);else xP(o,i,n,a,!1);void 0!==vb&&vb(o,r,e,n,i)}function Od(t,e){if(null!==e){const n=e.type;if(3&n)return Tr(e,t);if(4&n)return bb(-1,t[e.index]);if(8&n){const r=e.child;if(null!==r)return Od(t,r);{const i=t[e.index];return nr(i)?bb(-1,i):ht(i)}}if(32&n)return pb(e,t)()||ht(t[e.index]);{const r=FP(t,e);return null!==r?Array.isArray(r)?r[0]:Od(Md(t[Ht]),r):Od(t,e.next)}}return null}function FP(t,e){return null!==e?t[Ht][Wn].projection[e.projection]:null}function bb(t,e){const n=Sn+t+1;if(n<e.length){const r=e[n],i=r[ee].firstChild;if(null!==i)return Od(r,i)}return e[$i]}function Eb(t,e,n,r,i,o,s){for(;null!=n;){const a=r[n.index],u=n.type;if(s&&0===e&&(a&&Kn(ht(a),r),n.flags|=2),32!=(32&n.flags))if(8&u)Eb(t,e,n.child,r,i,o,!1),Yu(e,t,i,a,o);else if(32&u){const c=pb(n,r);let l;for(;l=c();)Yu(e,t,i,l,o);Yu(e,t,i,a,o)}else 16&u?LP(t,e,r,n,i,o):Yu(e,t,i,a,o);n=s?n.projectionNext:n.next}}function kd(t,e,n,r,i,o){Eb(n,r,t.firstChild,e,i,o,!1)}function LP(t,e,n,r,i,o){const s=n[Ht],u=s[Wn].projection[r.projection];if(Array.isArray(u))for(let c=0;c<u.length;c++)Yu(e,t,i,u[c],o);else{let c=u;const l=s[wt];xg(r)&&(c.flags|=128),Eb(t,e,c,l,i,o,!0)}}function BP(t,e,n){""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function UP(t,e,n){const{mergedAttrs:r,classes:i,styles:o}=n;null!==r&&Mv(t,e,r),null!==i&&BP(t,e,i),null!==o&&function u9(t,e,n){t.setAttribute(e,"style",n)}(t,e,o)}function HP(t){return function Tb(){if(void 0===Ug&&(Ug=null,dt.trustedTypes))try{Ug=dt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Ug}()?.createScriptURL(t)||t}class GP{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${OA})`}}function ds(t){return t instanceof GP?t.changingThisBreaksApplicationSecurity:t}function Fd(t,e){const n=function y9(t){return t instanceof GP&&t.getTypeName()||null}(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${OA})`)}return n===e}const w9=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;var ec=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(ec||{});function sr(t){const e=Ld();return e?e.sanitize(ec.URL,t)||"":Fd(t,"URL")?ds(t):function Cb(t){return(t=String(t)).match(w9)?t:"unsafe:"+t}(pe(t))}function YP(t){const e=Ld();if(e)return HP(e.sanitize(ec.RESOURCE_URL,t)||"");if(Fd(t,"ResourceURL"))return HP(ds(t));throw new L(904,!1)}function Ld(){const t=O();return t&&t[Mu].sanitizer}const Bd=new Z("ENVIRONMENT_INITIALIZER"),XP=new Z("INJECTOR",-1),ex=new Z("INJECTOR_DEF_TYPES");class Rb{get(e,n=hd){if(n===hd){const r=new Error(`NullInjectorError: No provider for ${un(e)}!`);throw r.name="NullInjectorError",r}return n}}function k9(...t){return{\u0275providers:tx(0,t),\u0275fromNgModule:!0}}function tx(t,...e){const n=[],r=new Set;let i;const o=s=>{n.push(s)};return Wu(e,s=>{const a=s;$g(a,o,[],r)&&(i||=[],i.push(a))}),void 0!==i&&nx(i,o),n}function nx(t,e){for(let n=0;n<t.length;n++){const{ngModule:r,providers:i}=t[n];xb(i,o=>{e(o,r)})}}function $g(t,e,n,r){if(!(t=he(t)))return!1;let i=null,o=ig(t);const s=!o&&Ve(t);if(o||s){if(s&&!s.standalone)return!1;i=t}else{const u=t.ngModule;if(o=ig(u),!o)return!1;i=u}const a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){const u="function"==typeof s.dependencies?s.dependencies():s.dependencies;for(const c of u)$g(c,e,n,r)}}else{if(!o)return!1;{if(null!=o.imports&&!a){let c;r.add(i);try{Wu(o.imports,l=>{$g(l,e,n,r)&&(c||=[],c.push(l))})}finally{}void 0!==c&&nx(c,e)}if(!a){const c=sa(i)||(()=>new i);e({provide:i,useFactory:c,deps:He},i),e({provide:ex,useValue:i,multi:!0},i),e({provide:Bd,useValue:()=>j(i),multi:!0},i)}const u=o.providers;if(null!=u&&!a){const c=t;xb(u,l=>{e(l,c)})}}}return i!==t&&void 0!==t.providers}function xb(t,e){for(let n of t)Ev(n)&&(n=n.\u0275providers),Array.isArray(n)?xb(n,e):e(n)}const F9=et({provide:String,useValue:et});function Nb(t){return null!==t&&"object"==typeof t&&F9 in t}function da(t){return"function"==typeof t}const Mb=new Z("Set Injector scope."),Hg={},L9={};let Ob;function Gg(){return void 0===Ob&&(Ob=new Rb),Ob}class ar{}class tc extends ar{get destroyed(){return this._destroyed}constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Fb(e,s=>this.processProvider(s)),this.records.set(XP,nc(void 0,this)),i.has("environment")&&this.records.set(ar,nc(void 0,this));const o=this.records.get(Mb);null!=o&&"string"==typeof o.value&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(ex.multi,He,Se.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const n of this._ngOnDestroyHooks)n.ngOnDestroy();const e=this._onDestroyHooks;this._onDestroyHooks=[];for(const n of e)n()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();const n=is(this),r=Er(void 0);try{return e()}finally{is(n),Er(r)}}get(e,n=hd,r=Se.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(HA))return e[HA](this);r=ag(r);const o=is(this),s=Er(void 0);try{if(!(r&Se.SkipSelf)){let u=this.records.get(e);if(void 0===u){const c=function H9(t){return"function"==typeof t||"object"==typeof t&&t instanceof Z}(e)&&rg(e);u=c&&this.injectableDefInScope(c)?nc(kb(e),Hg):null,this.records.set(e,u)}if(null!=u)return this.hydrate(e,u)}return(r&Se.Self?Gg():this.parent).get(e,n=r&Se.Optional&&n===hd?null:n)}catch(a){if("NullInjectorError"===a.name){if((a[sg]=a[sg]||[]).unshift(un(e)),o)throw a;return function L6(t,e,n,r){const i=t[sg];throw e[UA]&&i.unshift(e[UA]),t.message=function B6(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.slice(2):t;let i=un(e);if(Array.isArray(e))i=e.map(un).join(" -> ");else if("object"==typeof e){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];o.push(s+":"+("string"==typeof a?JSON.stringify(a):un(a)))}i=`{${o.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(M6,"\n  ")}`}("\n"+t.message,i,n,r),t.ngTokenPath=i,t[sg]=null,t}(a,e,"R3InjectorError",this.source)}throw a}finally{Er(s),is(o)}}resolveInjectorInitializers(){const e=is(this),n=Er(void 0);try{const i=this.get(Bd.multi,He,Se.Self);for(const o of i)o()}finally{is(e),Er(n)}}toString(){const e=[],n=this.records;for(const r of n.keys())e.push(un(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new L(205,!1)}processProvider(e){let n=da(e=he(e))?e:he(e&&e.provide);const r=function U9(t){return Nb(t)?nc(void 0,t.useValue):nc(ox(t),Hg)}(e);if(da(e)||!0!==e.multi)this.records.get(n);else{let i=this.records.get(n);i||(i=nc(void 0,Hg,!0),i.factory=()=>Pv(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){return n.value===Hg&&(n.value=L9,n.value=n.factory()),"object"==typeof n.value&&n.value&&function $9(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}injectableDefInScope(e){if(!e.providedIn)return!1;const n=he(e.providedIn);return"string"==typeof n?"any"===n||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){const n=this._onDestroyHooks.indexOf(e);-1!==n&&this._onDestroyHooks.splice(n,1)}}function kb(t){const e=rg(t),n=null!==e?e.factory:sa(t);if(null!==n)return n;if(t instanceof Z)throw new L(204,!1);if(t instanceof Function)return function B9(t){const e=t.length;if(e>0)throw Pd(e,"?"),new L(204,!1);const n=function R6(t){return t&&(t[og]||t[FA])||null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new L(204,!1)}function ox(t,e,n){let r;if(da(t)){const i=he(t);return sa(i)||kb(i)}if(Nb(t))r=()=>he(t.useValue);else if(function ix(t){return!(!t||!t.useFactory)}(t))r=()=>t.useFactory(...Pv(t.deps||[]));else if(function rx(t){return!(!t||!t.useExisting)}(t))r=()=>j(he(t.useExisting));else{const i=he(t&&(t.useClass||t.provide));if(!function j9(t){return!!t.deps}(t))return sa(i)||kb(i);r=()=>new i(...Pv(t.deps))}return r}function nc(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function Fb(t,e){for(const n of t)Array.isArray(n)?Fb(n,e):n&&Ev(n)?Fb(n.\u0275providers,e):e(n)}const zg=new Z("AppId",{providedIn:"root",factory:()=>G9}),G9="ng",sx=new Z("Platform Initializer"),hs=new Z("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),ax=new Z("CSP nonce",{providedIn:"root",factory:()=>function Xu(){if(void 0!==Ib)return Ib;if(typeof document<"u")return document;throw new L(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let ux=(t,e,n)=>null;function Gb(t,e,n=!1){return ux(t,e,n)}class e7{}class dx{}class n7{resolveComponentFactory(e){throw function t7(t){const e=Error(`No component factory found for ${un(t)}.`);return e.ngComponent=t,e}(e)}}let Yg=(()=>{class t{static#e=this.NULL=new n7}return t})();function r7(){return oc(Pn(),O())}function oc(t,e){return new Qe(Tr(t,e))}let Qe=(()=>{class t{constructor(n){this.nativeElement=n}static#e=this.__NG_ELEMENT_ID__=r7}return t})();function i7(t){return t instanceof Qe?t.nativeElement:t}class Wb{}let Ur=(()=>{class t{constructor(){this.destroyNode=null}static#e=this.__NG_ELEMENT_ID__=()=>function o7(){const t=O(),n=Lr(Pn().index,t);return(Ir(n)?n:t)[ge]}()}return t})(),s7=(()=>{class t{static#e=this.\u0275prov=G({token:t,providedIn:"root",factory:()=>null})}return t})();class sc{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const fx=new sc("16.2.12"),Kb={};function _x(t,e=null,n=null,r){const i=yx(t,e,n,r);return i.resolveInjectorInitializers(),i}function yx(t,e=null,n=null,r,i=new Set){const o=[n||He,k9(t)];return r=r||("object"==typeof t?void 0:un(t)),new tc(o,e||Gg(),r||null,i)}let zt=(()=>{class t{static#e=this.THROW_IF_NOT_FOUND=hd;static#t=this.NULL=new Rb;static create(n,r){if(Array.isArray(n))return _x({name:""},r,n,"");{const i=n.name??"";return _x({name:i},n.parent,n.providers,i)}}static#n=this.\u0275prov=G({token:t,providedIn:"any",factory:()=>j(XP)});static#r=this.__NG_ELEMENT_ID__=-1}return t})();function Qb(t){return t.ngOriginalError}class Co{constructor(){this._console=console}handleError(e){const n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&Qb(e);for(;n&&Qb(n);)n=Qb(n);return n||null}}function Jb(t){return e=>{setTimeout(t,void 0,e)}}const ae=class p7 extends $e{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,n,r){let i=e,o=n||(()=>null),s=r;if(e&&"object"==typeof e){const u=e;i=u.next?.bind(u),o=u.error?.bind(u),s=u.complete?.bind(u)}this.__isAsync&&(o=Jb(o),i&&(i=Jb(i)),s&&(s=Jb(s)));const a=super.subscribe({next:i,error:o,complete:s});return e instanceof Ut&&e.add(a),a}};function bx(...t){}class Te{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new ae(!1),this.onMicrotaskEmpty=new ae(!1),this.onStable=new ae(!1),this.onError=new ae(!1),typeof Zone>"u")throw new L(908,!1);Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function g7(){const t="function"==typeof dt.requestAnimationFrame;let e=dt[t?"requestAnimationFrame":"setTimeout"],n=dt[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&n){const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r);const i=n[Zone.__symbol__("OriginalDelegate")];i&&(n=i)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:n}}().nativeRequestAnimationFrame,function y7(t){const e=()=>{!function _7(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(dt,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,Zb(t),t.isCheckStableRunning=!0,Yb(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),Zb(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,o,s,a)=>{if(function b7(t){return!(!Array.isArray(t)||1!==t.length)&&!0===t[0].data?.__ignore_ng_zone__}(a))return n.invokeTask(i,o,s,a);try{return Ex(t),n.invokeTask(i,o,s,a)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===o.type||t.shouldCoalesceRunChangeDetection)&&e(),wx(t)}},onInvoke:(n,r,i,o,s,a,u)=>{try{return Ex(t),n.invoke(i,o,s,a,u)}finally{t.shouldCoalesceRunChangeDetection&&e(),wx(t)}},onHasTask:(n,r,i,o)=>{n.hasTask(i,o),r===i&&("microTask"==o.change?(t._hasPendingMicrotasks=o.microTask,Zb(t),Yb(t)):"macroTask"==o.change&&(t.hasPendingMacrotasks=o.macroTask))},onHandleError:(n,r,i,o)=>(n.handleError(i,o),t.runOutsideAngular(()=>t.onError.emit(o)),!1)})}(i)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Te.isInAngularZone())throw new L(909,!1)}static assertNotInAngularZone(){if(Te.isInAngularZone())throw new L(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){const o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,m7,bx,bx);try{return o.runTask(s,n,r)}finally{o.cancelTask(s)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}}const m7={};function Yb(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function Zb(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function Ex(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function wx(t){t._nesting--,Yb(t)}class v7{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new ae,this.onMicrotaskEmpty=new ae,this.onStable=new ae,this.onError=new ae}run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}}const Ix=new Z("",{providedIn:"root",factory:Tx});function Tx(){const t=z(Te);let e=!0;return function xA(...t){const e=dd(t),n=function p6(t,e){return"number"==typeof _v(t)?t.pop():e}(t,1/0),r=t;return r.length?1===r.length?sn(r[0]):Ru(n)(en(r,e)):Zr}(new Fe(i=>{e=t.isStable&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks,t.runOutsideAngular(()=>{i.next(e),i.complete()})}),new Fe(i=>{let o;t.runOutsideAngular(()=>{o=t.onStable.subscribe(()=>{Te.assertNotInAngularZone(),queueMicrotask(()=>{!e&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks&&(e=!0,i.next(!0))})})});const s=t.onUnstable.subscribe(()=>{Te.assertInAngularZone(),e&&(e=!1,t.runOutsideAngular(()=>{i.next(!1)}))});return()=>{o.unsubscribe(),s.unsubscribe()}}).pipe(NA()))}function Do(t){return t instanceof Function?t():t}let Xb=(()=>{class t{constructor(){this.renderDepth=0,this.handler=null}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){this.renderDepth--,0===this.renderDepth&&this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null}static#e=this.\u0275prov=G({token:t,providedIn:"root",factory:()=>new t})}return t})();function $d(t){for(;t;){t[ye]|=64;const e=Md(t);if(Fv(t)&&!e)return t;t=e}return null}const Rx=new Z("",{providedIn:"root",factory:()=>!1});let em=null;function Mx(t,e){return t[e]??Fx()}function Ox(t,e){const n=Fx();n.producerNode?.length&&(t[e]=em,n.lView=t,em=kx())}const P7={...sR,consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{$d(t.lView)},lView:null};function kx(){return Object.create(P7)}function Fx(){return em??=kx(),em}const _e={};function I(t){Vx(Le(),O(),ir()+t,!1)}function Vx(t,e,n,r){if(!r)if(3==(3&e[ye])){const o=t.preOrderCheckHooks;null!==o&&yg(e,o,n)}else{const o=t.preOrderHooks;null!==o&&vg(e,o,0,n)}aa(n)}function E(t,e=Se.Default){const n=O();return null===n?j(t,e):YR(Pn(),n,he(t),e)}function tm(t,e,n,r,i,o,s,a,u,c,l){const d=e.blueprint.slice();return d[Mt]=i,d[ye]=140|r,(null!==c||t&&2048&t[ye])&&(d[ye]|=2048),DR(d),d[wt]=d[Ou]=t,d[$t]=n,d[Mu]=s||t&&t[Mu],d[ge]=a||t&&t[ge],d[os]=u||t&&t[os]||null,d[Wn]=o,d[vd]=function Vz(){return Fz++}(),d[Eo]=l,d[nR]=c,d[Ht]=2==e.type?t[Ht]:d,d}function lc(t,e,n,r,i){let o=t.data[e];if(null===o)o=function e1(t,e,n,r,i){const o=NR(),s=Gv(),u=t.data[e]=function L7(t,e,n,r,i,o){let s=e?e.injectorIndex:-1,a=0;return Bu()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?o:o&&o.parent,n,e,r,i);return null===t.firstChild&&(t.firstChild=u),null!==o&&(s?null==o.child&&null!==u.parent&&(o.child=u):null===o.next&&(o.next=u,u.prev=o)),u}(t,e,n,r,i),function FG(){return de.lFrame.inI18n}()&&(o.flags|=32);else if(64&o.type){o.type=n,o.value=r,o.attrs=i;const s=function Td(){const t=de.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}();o.injectorIndex=null===s?-1:s.injectorIndex}return Gi(o,!0),o}function Hd(t,e,n,r){if(0===n)return-1;const i=e.length;for(let o=0;o<n;o++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function Bx(t,e,n,r,i){const o=Mx(e,bd),s=ir(),a=2&r;try{aa(-1),a&&e.length>Ae&&Vx(t,e,Ae,!1),Hi(a?2:0,i);const c=a?o:null,l=Lv(c);try{null!==c&&(c.dirty=!1),n(r,i)}finally{Bv(c,l)}}finally{a&&null===e[bd]&&Ox(e,bd),aa(s),Hi(a?3:1,i)}}function t1(t,e,n){if(kv(e)){const r=ni(null);try{const o=e.directiveEnd;for(let s=e.directiveStart;s<o;s++){const a=t.data[s];a.contentQueries&&a.contentQueries(1,n[s],s)}}finally{ni(r)}}}function n1(t,e,n){xR()&&(function z7(t,e,n,r){const i=n.directiveStart,o=n.directiveEnd;oa(n)&&function Z7(t,e,n){const r=Tr(e,t),i=Ux(n);let s=16;n.signals?s=4096:n.onPush&&(s=64);const a=nm(t,tm(t,i,null,s,r,e,null,t[Mu].rendererFactory.createRenderer(r,n),null,null,null));t[e.index]=a}(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||Eg(n,e),Kn(r,e);const s=n.initialInputs;for(let a=i;a<o;a++){const u=t.data[a],c=ua(e,t,a,n);Kn(c,e),null!==s&&X7(0,a-i,c,u,0,s),Ei(u)&&(Lr(n.index,e)[$t]=ua(e,t,a,n))}}(t,e,n,Tr(n,e)),64==(64&n.flags)&&zx(t,e,n))}function r1(t,e,n=Tr){const r=e.localNames;if(null!==r){let i=e.index+1;for(let o=0;o<r.length;o+=2){const s=r[o+1],a=-1===s?n(e,t):t[s];t[i++]=a}}}function Ux(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=i1(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function i1(t,e,n,r,i,o,s,a,u,c,l){const d=Ae+r,h=d+i,f=function N7(t,e){const n=[];for(let r=0;r<e;r++)n.push(r<t?null:_e);return n}(d,h),m="function"==typeof c?c():c;return f[ee]={type:t,blueprint:f,template:n,queries:null,viewQuery:a,declTNode:e,data:f.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:u,consts:m,incompleteFirstPass:!1,ssrId:l}}let jx=t=>null;function $x(t,e,n,r){for(let i in t)if(t.hasOwnProperty(i)){n=null===n?{}:n;const o=t[i];null===r?Hx(n,e,i,o):r.hasOwnProperty(i)&&Hx(n,e,r[i],o)}return n}function Hx(t,e,n,r){t.hasOwnProperty(n)?t[n].push(e,r):t[n]=[e,r]}function jr(t,e,n,r,i,o,s,a){const u=Tr(e,n);let l,c=e.inputs;!a&&null!=c&&(l=c[r])?(c1(t,n,l,r,i),oa(e)&&function j7(t,e){const n=Lr(e,t);16&n[ye]||(n[ye]|=64)}(n,e.index)):3&e.type&&(r=function U7(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(r),i=null!=s?s(i,e.value||"",r):i,o.setProperty(u,r,i))}function o1(t,e,n,r){if(xR()){const i=null===r?null:{"":-1},o=function W7(t,e){const n=t.directiveRegistry;let r=null,i=null;if(n)for(let o=0;o<n.length;o++){const s=n[o];if(JA(e,s.selectors,!1))if(r||(r=[]),Ei(s))if(null!==s.findHostDirectiveDefs){const a=[];i=i||new Map,s.findHostDirectiveDefs(s,a,i),r.unshift(...a,s),s1(t,e,a.length)}else r.unshift(s),s1(t,e,0);else i=i||new Map,s.findHostDirectiveDefs?.(s,r,i),r.push(s)}return null===r?null:[r,i]}(t,n);let s,a;null===o?s=a=null:[s,a]=o,null!==s&&Gx(t,e,n,s,i,a),i&&function K7(t,e,n){if(e){const r=t.localNames=[];for(let i=0;i<e.length;i+=2){const o=n[e[i+1]];if(null==o)throw new L(-301,!1);r.push(e[i],o)}}}(n,r,i)}n.mergedAttrs=gd(n.mergedAttrs,n.attrs)}function Gx(t,e,n,r,i,o){for(let c=0;c<r.length;c++)nb(Eg(n,e),t,r[c].type);!function J7(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}(n,t.data.length,r.length);for(let c=0;c<r.length;c++){const l=r[c];l.providersResolver&&l.providersResolver(l)}let s=!1,a=!1,u=Hd(t,e,r.length,null);for(let c=0;c<r.length;c++){const l=r[c];n.mergedAttrs=gd(n.mergedAttrs,l.hostAttrs),Y7(t,n,e,u,l),Q7(u,l,i),null!==l.contentQueries&&(n.flags|=4),(null!==l.hostBindings||null!==l.hostAttrs||0!==l.hostVars)&&(n.flags|=64);const d=l.type.prototype;!s&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),s=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),a=!0),u++}!function B7(t,e,n){const i=e.directiveEnd,o=t.data,s=e.attrs,a=[];let u=null,c=null;for(let l=e.directiveStart;l<i;l++){const d=o[l],h=n?n.get(d):null,m=h?h.outputs:null;u=$x(d.inputs,l,u,h?h.inputs:null),c=$x(d.outputs,l,c,m);const y=null===u||null===s||QA(e)?null:eq(u,l,s);a.push(y)}null!==u&&(u.hasOwnProperty("class")&&(e.flags|=8),u.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=u,e.outputs=c}(t,n,o)}function zx(t,e,n){const r=n.directiveStart,i=n.directiveEnd,o=n.index,s=function LG(){return de.lFrame.currentDirectiveIndex}();try{aa(o);for(let a=r;a<i;a++){const u=t.data[a],c=e[a];qv(a),(null!==u.hostBindings||0!==u.hostVars||null!==u.hostAttrs)&&q7(u,c)}}finally{aa(-1),qv(s)}}function q7(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function s1(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function Q7(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;Ei(e)&&(n[""]=t)}}function Y7(t,e,n,r,i){t.data[r]=i;const o=i.factory||(i.factory=sa(i.type)),s=new Cd(o,Ei(i),E);t.blueprint[r]=s,n[r]=s,function H7(t,e,n,r,i){const o=i.hostBindings;if(o){let s=t.hostBindingOpCodes;null===s&&(s=t.hostBindingOpCodes=[]);const a=~e.index;(function G7(t){let e=t.length;for(;e>0;){const n=t[--e];if("number"==typeof n&&n<0)return n}return 0})(s)!=a&&s.push(a),s.push(n,r,o)}}(t,e,r,Hd(t,n,i.hostVars,_e),i)}function qi(t,e,n,r,i,o){const s=Tr(t,e);!function a1(t,e,n,r,i,o,s){if(null==o)t.removeAttribute(e,i,n);else{const a=null==s?pe(o):s(o,r||"",i);t.setAttribute(e,i,a,n)}}(e[ge],s,o,t.value,n,r,i)}function X7(t,e,n,r,i,o){const s=o[e];if(null!==s)for(let a=0;a<s.length;)qx(r,n,s[a++],s[a++],s[a++])}function qx(t,e,n,r,i){const o=ni(null);try{const s=t.inputTransforms;null!==s&&s.hasOwnProperty(r)&&(i=s[r].call(e,i)),null!==t.setInput?t.setInput(e,i,n,r):e[r]=i}finally{ni(o)}}function eq(t,e,n){let r=null,i=0;for(;i<n.length;){const o=n[i];if(0!==o)if(5!==o){if("number"==typeof o)break;if(t.hasOwnProperty(o)){null===r&&(r=[]);const s=t[o];for(let a=0;a<s.length;a+=2)if(s[a]===e){r.push(o,s[a+1],n[i+1]);break}}i+=2}else i+=2;else i+=4}return r}function Wx(t,e,n,r){return[t,!0,!1,e,null,0,r,n,null,null,null]}function Kx(t,e){const n=t.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const o=n[r+1];if(-1!==o){const s=t.data[o];Kv(n[r]),s.contentQueries(2,e[o],o)}}}function nm(t,e){return t[_d]?t[tR][bi]=e:t[_d]=e,t[tR]=e,e}function u1(t,e,n){Kv(0);const r=ni(null);try{e(t,n)}finally{ni(r)}}function Qx(t){return t[Nu]||(t[Nu]=[])}function Jx(t){return t.cleanup||(t.cleanup=[])}function Zx(t,e){const n=t[os],r=n?n.get(Co,null):null;r&&r.handleError(e)}function c1(t,e,n,r,i){for(let o=0;o<n.length;){const s=n[o++],a=n[o++];qx(t.data[s],e[s],r,a,i)}}function So(t,e,n){const r=gg(e,t);!function SP(t,e,n){t.setValue(e,n)}(t[ge],r,n)}function tq(t,e){const n=Lr(e,t),r=n[ee];!function nq(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}(r,n);const i=n[Mt];null!==i&&null===n[Eo]&&(n[Eo]=Gb(i,n[os])),l1(r,n,n[$t])}function l1(t,e,n){Qv(e);try{const r=t.viewQuery;null!==r&&u1(1,r,n);const i=t.template;null!==i&&Bx(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&Kx(t,e),t.staticViewQueries&&u1(2,t.viewQuery,n);const o=t.components;null!==o&&function rq(t,e){for(let n=0;n<e.length;n++)tq(t,e[n])}(e,o)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[ye]&=-5,Jv()}}let Xx=(()=>{class t{constructor(){this.all=new Set,this.queue=new Map}create(n,r,i){const o=typeof Zone>"u"?null:Zone.current,s=function pG(t,e,n){const r=Object.create(gG);n&&(r.consumerAllowSignalWrites=!0),r.fn=t,r.schedule=e;const i=s=>{r.cleanupFn=s};return r.ref={notify:()=>lR(r),run:()=>{if(r.dirty=!1,r.hasRun&&!dR(r))return;r.hasRun=!0;const s=Lv(r);try{r.cleanupFn(),r.cleanupFn=vR,r.fn(i)}finally{Bv(r,s)}},cleanup:()=>r.cleanupFn()},r.ref}(n,c=>{this.all.has(c)&&this.queue.set(c,o)},i);let a;this.all.add(s),s.notify();const u=()=>{s.cleanup(),a?.(),this.all.delete(s),this.queue.delete(s)};return a=r?.onDestroy(u),{destroy:u}}flush(){if(0!==this.queue.size)for(const[n,r]of this.queue)this.queue.delete(n),r?r.run(()=>n.run()):n.run()}get isQueueEmpty(){return 0===this.queue.size}static#e=this.\u0275prov=G({token:t,providedIn:"root",factory:()=>new t})}return t})();function rm(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,o=0;if(null!==e)for(let s=0;s<e.length;s++){const a=e[s];"number"==typeof a?o=a:1==o?i=vv(i,a):2==o&&(r=vv(r,a+": "+e[++s]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}function Gd(t,e,n,r,i=!1){for(;null!==n;){const o=e[n.index];null!==o&&r.push(ht(o)),nr(o)&&eN(o,r);const s=n.type;if(8&s)Gd(t,e,n.child,r);else if(32&s){const a=pb(n,e);let u;for(;u=a();)r.push(u)}else if(16&s){const a=FP(e,n);if(Array.isArray(a))r.push(...a);else{const u=Md(e[Ht]);Gd(u[ee],u,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function eN(t,e){for(let n=Sn;n<t.length;n++){const r=t[n],i=r[ee].firstChild;null!==i&&Gd(r[ee],r,i,e)}t[$i]!==t[Mt]&&e.push(t[$i])}function im(t,e,n,r=!0){const i=e[Mu],o=i.rendererFactory,s=i.afterRenderEventManager;o.begin?.(),s?.begin();try{tN(t,e,t.template,n)}catch(u){throw r&&Zx(e,u),u}finally{o.end?.(),i.effectManager?.flush(),s?.end()}}function tN(t,e,n,r){const i=e[ye];if(256!=(256&i)){e[Mu].effectManager?.flush(),Qv(e);try{DR(e),function OR(t){return de.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==n&&Bx(t,e,n,2,r);const s=3==(3&i);if(s){const c=t.preOrderCheckHooks;null!==c&&yg(e,c,null)}else{const c=t.preOrderHooks;null!==c&&vg(e,c,0,null),Yv(e,0)}if(function sq(t){for(let e=TP(t);null!==e;e=CP(e)){if(!e[rR])continue;const n=e[Fu];for(let r=0;r<n.length;r++){CG(n[r])}}}(e),nN(e,2),null!==t.contentQueries&&Kx(t,e),s){const c=t.contentCheckHooks;null!==c&&yg(e,c)}else{const c=t.contentHooks;null!==c&&vg(e,c,1),Yv(e,1)}!function x7(t,e){const n=t.hostBindingOpCodes;if(null===n)return;const r=Mx(e,Ed);try{for(let i=0;i<n.length;i++){const o=n[i];if(o<0)aa(~o);else{const s=o,a=n[++i],u=n[++i];VG(a,s),r.dirty=!1;const c=Lv(r);try{u(2,e[s])}finally{Bv(r,c)}}}}finally{null===e[Ed]&&Ox(e,Ed),aa(-1)}}(t,e);const a=t.components;null!==a&&iN(e,a,0);const u=t.viewQuery;if(null!==u&&u1(2,u,r),s){const c=t.viewCheckHooks;null!==c&&yg(e,c)}else{const c=t.viewHooks;null!==c&&vg(e,c,2),Yv(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),e[ye]&=-73,SR(e)}finally{Jv()}}}function nN(t,e){for(let n=TP(t);null!==n;n=CP(n))for(let r=Sn;r<n.length;r++)rN(n[r],e)}function aq(t,e,n){rN(Lr(e,t),n)}function rN(t,e){if(!function IG(t){return 128==(128&t[ye])}(t))return;const n=t[ee],r=t[ye];if(80&r&&0===e||1024&r||2===e)tN(n,t,n.template,t[$t]);else if(t[md]>0){nN(t,1);const i=n.components;null!==i&&iN(t,i,1)}}function iN(t,e,n){for(let r=0;r<e.length;r++)aq(t,e[r],n)}class zd{get rootNodes(){const e=this._lView,n=e[ee];return Gd(n,e,n.firstChild,[])}constructor(e,n){this._lView=e,this._cdRefInjectingView=n,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[$t]}set context(e){this._lView[$t]=e}get destroyed(){return 256==(256&this._lView[ye])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[wt];if(nr(e)){const n=e[8],r=n?n.indexOf(this):-1;r>-1&&(kg(e,r),Tg(n,r))}this._attachedToViewContainer=!1}mb(this._lView[ee],this._lView)}onDestroy(e){!function RR(t,e){if(256==(256&t[ye]))throw new L(911,!1);null===t[ss]&&(t[ss]=[]),t[ss].push(e)}(this._lView,e)}markForCheck(){$d(this._cdRefInjectingView||this._lView)}detach(){this._lView[ye]&=-129}reattach(){this._lView[ye]|=128}detectChanges(){im(this._lView[ee],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new L(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Yz(t,e){kd(t,e,e[ge],2,null,null)}(this._lView[ee],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new L(902,!1);this._appRef=e}}class uq extends zd{constructor(e){super(e),this._view=e}detectChanges(){const e=this._view;im(e[ee],e,e[$t],!1)}checkNoChanges(){}get context(){return null}}class oN extends Yg{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const n=Ve(e);return new qd(n,this.ngModule)}}function sN(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}class lq{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=ag(r);const i=this.injector.get(e,Kb,r);return i!==Kb||n===Kb?i:this.parentInjector.get(e,n,r)}}class qd extends dx{get inputs(){const e=this.componentDef,n=e.inputTransforms,r=sN(e.inputs);if(null!==n)for(const i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return sN(this.componentDef.outputs)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=function Q6(t){return t.map(K6).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){let o=(i=i||this.ngModule)instanceof ar?i:i?.injector;o&&null!==this.componentDef.getStandaloneInjector&&(o=this.componentDef.getStandaloneInjector(o)||o);const s=o?new lq(e,o):e,a=s.get(Wb,null);if(null===a)throw new L(407,!1);const d={rendererFactory:a,sanitizer:s.get(s7,null),effectManager:s.get(Xx,null),afterRenderEventManager:s.get(Xb,null)},h=a.createRenderer(null,this.componentDef),f=this.componentDef.selectors[0][0]||"div",m=r?function M7(t,e,n,r){const o=r.get(Rx,!1)||n===yi.ShadowDom,s=t.selectRootElement(e,o);return function O7(t){jx(t)}(s),s}(h,r,this.componentDef.encapsulation,s):Og(h,f,function cq(t){const e=t.toLowerCase();return"svg"===e?"svg":"math"===e?"math":null}(f)),T=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let b=null;null!==m&&(b=Gb(m,s,!0));const C=i1(0,null,null,1,0,null,null,null,null,null,null),R=tm(null,C,null,T,null,null,d,h,s,null,b);let M,$;Qv(R);try{const ie=this.componentDef;let ue,ze=null;ie.findHostDirectiveDefs?(ue=[],ze=new Map,ie.findHostDirectiveDefs(ie,ue,ze),ue.push(ie)):ue=[ie];const _t=function hq(t,e){const n=t[ee],r=Ae;return t[r]=e,lc(n,r,2,"#host",null)}(R,m),Cn=function fq(t,e,n,r,i,o,s){const a=i[ee];!function pq(t,e,n,r){for(const i of t)e.mergedAttrs=gd(e.mergedAttrs,i.hostAttrs);null!==e.mergedAttrs&&(rm(e,e.mergedAttrs,!0),null!==n&&UP(r,n,e))}(r,t,e,s);let u=null;null!==e&&(u=Gb(e,i[os]));const c=o.rendererFactory.createRenderer(e,n);let l=16;n.signals?l=4096:n.onPush&&(l=64);const d=tm(i,Ux(n),null,l,i[t.index],t,o,c,null,null,u);return a.firstCreatePass&&s1(a,t,r.length-1),nm(i,d),i[t.index]=d}(_t,m,ie,ue,R,d,h);$=CR(C,Ae),m&&function mq(t,e,n,r){if(r)Mv(t,n,["ng-version",fx.full]);else{const{attrs:i,classes:o}=function J6(t){const e=[],n=[];let r=1,i=2;for(;r<t.length;){let o=t[r];if("string"==typeof o)2===i?""!==o&&e.push(o,t[++r]):8===i&&n.push(o);else{if(!vi(i))break;i=o}r++}return{attrs:e,classes:n}}(e.selectors[0]);i&&Mv(t,n,i),o&&o.length>0&&BP(t,n,o.join(" "))}}(h,ie,m,r),void 0!==n&&function _q(t,e,n){const r=t.projection=[];for(let i=0;i<e.length;i++){const o=n[i];r.push(null!=o?Array.from(o):null)}}($,this.ngContentSelectors,n),M=function gq(t,e,n,r,i,o){const s=Pn(),a=i[ee],u=Tr(s,i);Gx(a,i,s,n,null,r);for(let l=0;l<n.length;l++)Kn(ua(i,a,s.directiveStart+l,s),i);zx(a,i,s),u&&Kn(u,i);const c=ua(i,a,s.directiveStart+s.componentOffset,s);if(t[$t]=i[$t]=c,null!==o)for(const l of o)l(c,e);return t1(a,s,t),c}(Cn,ie,ue,ze,R,[yq]),l1(C,R,null)}finally{Jv()}return new dq(this.componentType,M,oc($,R),R,$)}}class dq extends e7{constructor(e,n,r,i,o){super(),this.location=r,this._rootLView=i,this._tNode=o,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new uq(i),this.componentType=e}setInput(e,n){const r=this._tNode.inputs;let i;if(null!==r&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;const o=this._rootLView;c1(o[ee],o,i,e,n),this.previousInputValues.set(e,n),$d(Lr(this._tNode.index,o))}}get injector(){return new or(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}function yq(){const t=Pn();_g(O()[ee],t)}function Je(t){let e=function aN(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),n=!0;const r=[t];for(;e;){let i;if(Ei(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new L(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);const s=t;s.inputs=om(t.inputs),s.inputTransforms=om(t.inputTransforms),s.declaredInputs=om(t.declaredInputs),s.outputs=om(t.outputs);const a=i.hostBindings;a&&wq(t,a);const u=i.viewQuery,c=i.contentQueries;if(u&&bq(t,u),c&&Eq(t,c),tg(t.inputs,i.inputs),tg(t.declaredInputs,i.declaredInputs),tg(t.outputs,i.outputs),null!==i.inputTransforms&&(null===s.inputTransforms&&(s.inputTransforms={}),tg(s.inputTransforms,i.inputTransforms)),Ei(i)&&i.data.animation){const l=t.data;l.animation=(l.animation||[]).concat(i.data.animation)}}const o=i.features;if(o)for(let s=0;s<o.length;s++){const a=o[s];a&&a.ngInherit&&a(t),a===Je&&(n=!1)}}e=Object.getPrototypeOf(e)}!function vq(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){const i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=gd(i.hostAttrs,n=gd(n,i.hostAttrs))}}(r)}function om(t){return t===Ui?{}:t===He?[]:t}function bq(t,e){const n=t.viewQuery;t.viewQuery=n?(r,i)=>{e(r,i),n(r,i)}:e}function Eq(t,e){const n=t.contentQueries;t.contentQueries=n?(r,i,o)=>{e(r,i,o),n(r,i,o)}:e}function wq(t,e){const n=t.hostBindings;t.hostBindings=n?(r,i)=>{e(r,i),n(r,i)}:e}function dN(t){const e=t.inputConfig,n={};for(const r in e)if(e.hasOwnProperty(r)){const i=e[r];Array.isArray(i)&&i[2]&&(n[r]=i[2])}t.inputTransforms=n}function sm(t){return!!function d1(t){return null!==t&&("function"==typeof t||"object"==typeof t)}(t)&&(Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t)}function Wi(t,e,n){return t[e]=n}function Qn(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function ha(t,e,n,r){const i=Qn(t,e,n);return Qn(t,e+1,r)||i}function Ye(t,e,n,r){const i=O();return Qn(i,Uu(),e)&&(Le(),qi(At(),i,t,e,n,r)),Ye}function hc(t,e,n,r){return Qn(t,Uu(),n)?e+pe(n)+r:_e}function fc(t,e,n,r,i,o){const a=ha(t,function wo(){return de.lFrame.bindingIndex}(),n,i);return Io(2),a?e+pe(n)+r+pe(i)+o:_e}function B(t,e,n,r,i,o,s,a){const u=O(),c=Le(),l=t+Ae,d=c.firstCreatePass?function qq(t,e,n,r,i,o,s,a,u){const c=e.consts,l=lc(e,t,4,s||null,us(c,a));o1(e,n,l,us(c,u)),_g(e,l);const d=l.tView=i1(2,l,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c,null);return null!==e.queries&&(e.queries.template(e,l),d.queries=e.queries.embeddedTView(l)),l}(l,c,u,e,n,r,i,o,s):c.data[l];Gi(d,!1);const h=TN(c,u,d,t);mg()&&Vg(c,u,h,d),Kn(h,u),nm(u,u[l]=Wx(h,u,h,d)),hg(d)&&n1(c,u,d),null!=s&&r1(u,d,a)}let TN=function CN(t,e,n,r){return cs(!0),e[ge].createComment("")};function P(t,e,n){const r=O();return Qn(r,Uu(),e)&&jr(Le(),At(),r,t,e,r[ge],n,!1),P}function _1(t,e,n,r,i){const s=i?"class":"style";c1(t,n,e.inputs[s],s,r)}function g(t,e,n,r){const i=O(),o=Le(),s=Ae+t,a=i[ge],u=o.firstCreatePass?function Jq(t,e,n,r,i,o){const s=e.consts,u=lc(e,t,2,r,us(s,i));return o1(e,n,u,us(s,o)),null!==u.attrs&&rm(u,u.attrs,!1),null!==u.mergedAttrs&&rm(u,u.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,u),u}(s,o,i,e,n,r):o.data[s],c=DN(o,i,u,a,e,t);i[s]=c;const l=hg(u);return Gi(u,!0),UP(a,c,u),32!=(32&u.flags)&&mg()&&Vg(o,i,c,u),0===function SG(){return de.lFrame.elementDepthCount}()&&Kn(c,i),function AG(){de.lFrame.elementDepthCount++}(),l&&(n1(o,i,u),t1(o,u,i)),null!==r&&r1(i,u),g}function p(){let t=Pn();Gv()?zv():(t=t.parent,Gi(t,!1));const e=t;(function PG(t){return de.skipHydrationRootTNode===t})(e)&&function OG(){de.skipHydrationRootTNode=null}(),function RG(){de.lFrame.elementDepthCount--}();const n=Le();return n.firstCreatePass&&(_g(n,t),kv(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function QG(t){return 0!=(8&t.flags)}(e)&&_1(n,e,O(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function JG(t){return 0!=(16&t.flags)}(e)&&_1(n,e,O(),e.stylesWithoutHost,!1),p}function H(t,e,n,r){return g(t,e,n,r),p(),H}let DN=(t,e,n,r,i,o)=>(cs(!0),Og(r,i,function $R(){return de.lFrame.currentNamespace}()));function ur(t,e,n){const r=O(),i=Le(),o=t+Ae,s=i.firstCreatePass?function Xq(t,e,n,r,i){const o=e.consts,s=us(o,r),a=lc(e,t,8,"ng-container",s);return null!==s&&rm(a,s,!0),o1(e,n,a,us(o,i)),null!==e.queries&&e.queries.elementStart(e,a),a}(o,i,r,e,n):i.data[o];Gi(s,!0);const a=AN(i,r,s,t);return r[o]=a,mg()&&Vg(i,r,a,s),Kn(a,r),hg(s)&&(n1(i,r,s),t1(i,s,r)),null!=n&&r1(r,s),ur}function cr(){let t=Pn();const e=Le();return Gv()?zv():(t=t.parent,Gi(t,!1)),e.firstCreatePass&&(_g(e,t),kv(t)&&e.queries.elementEnd(t)),cr}let AN=(t,e,n,r)=>(cs(!0),gb(e[ge],""));function tt(){return O()}function Zd(t){return!!t&&"function"==typeof t.then}function RN(t){return!!t&&"function"==typeof t.subscribe}function K(t,e,n,r){const i=O(),o=Le(),s=Pn();return function xN(t,e,n,r,i,o,s){const a=hg(r),c=t.firstCreatePass&&Jx(t),l=e[$t],d=Qx(e);let h=!0;if(3&r.type||s){const y=Tr(r,e),v=s?s(y):y,T=d.length,b=s?R=>s(ht(R[r.index])):r.index;let C=null;if(!s&&a&&(C=function nW(t,e,n,r){const i=t.cleanup;if(null!=i)for(let o=0;o<i.length-1;o+=2){const s=i[o];if(s===n&&i[o+1]===r){const a=e[Nu],u=i[o+2];return a.length>u?a[u]:null}"string"==typeof s&&(o+=2)}return null}(t,e,i,r.index)),null!==C)(C.__ngLastListenerFn__||C).__ngNextListenerFn__=o,C.__ngLastListenerFn__=o,h=!1;else{o=MN(r,e,l,o,!1);const R=n.listen(v,i,o);d.push(o,R),c&&c.push(i,b,T,T+1)}}else o=MN(r,e,l,o,!1);const f=r.outputs;let m;if(h&&null!==f&&(m=f[i])){const y=m.length;if(y)for(let v=0;v<y;v+=2){const M=e[m[v]][m[v+1]].subscribe(o),$=d.length;d.push(o,M),c&&c.push(i,r.index,$,-($+1))}}}(o,i,i[ge],s,t,e,r),K}function NN(t,e,n,r){try{return Hi(6,e,n),!1!==n(r)}catch(i){return Zx(t,i),!1}finally{Hi(7,e,n)}}function MN(t,e,n,r,i){return function o(s){if(s===Function)return r;$d(t.componentOffset>-1?Lr(t.index,e):e);let u=NN(e,n,r,s),c=o.__ngNextListenerFn__;for(;c;)u=NN(e,n,c,s)&&u,c=c.__ngNextListenerFn__;return i&&!1===u&&s.preventDefault(),u}}function U(t=1){return function UG(t){return(de.lFrame.contextLView=function jG(t,e){for(;t>0;)e=e[Ou],t--;return e}(t,de.lFrame.contextLView))[$t]}(t)}function rW(t,e){let n=null;const r=function G6(t){const e=t.attrs;if(null!=e){const n=e.indexOf(5);if(!(1&n))return e[n+1]}return null}(t);for(let i=0;i<e.length;i++){const o=e[i];if("*"!==o){if(null===r?JA(t,o,!0):W6(r,o))return i}else n=i}return n}function bc(t,e,n){return dm(t,"",e,"",n),bc}function dm(t,e,n,r,i){const o=O(),s=hc(o,e,n,r);return s!==_e&&jr(Le(),At(),o,t,s,o[ge],i,!1),dm}function hm(t,e){return t<<17|e<<2}function fs(t){return t>>17&32767}function y1(t){return 2|t}function fa(t){return(131068&t)>>2}function v1(t,e){return-131069&t|e<<2}function b1(t){return 1|t}function GN(t,e,n,r,i){const o=t[n+1],s=null===e;let a=r?fs(o):fa(o),u=!1;for(;0!==a&&(!1===u||s);){const l=t[a+1];cW(t[a],e)&&(u=!0,t[a+1]=r?b1(l):y1(l)),a=r?fs(l):fa(l)}u&&(t[n+1]=r?y1(o):b1(o))}function cW(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&Ku(t,e)>=0}const ln={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function zN(t){return t.substring(ln.key,ln.keyEnd)}function qN(t,e){const n=ln.textEnd;return n===e?-1:(e=ln.keyEnd=function fW(t,e,n){for(;e<n&&t.charCodeAt(e)>32;)e++;return e}(t,ln.key=e,n),Ec(t,e,n))}function Ec(t,e,n){for(;e<n&&t.charCodeAt(e)<=32;)e++;return e}function Xd(t,e,n){return wi(t,e,n,!1),Xd}function Oe(t,e){return wi(t,e,null,!0),Oe}function pa(t){!function Ii(t,e,n,r){const i=Le(),o=Io(2);i.firstUpdatePass&&ZN(i,null,o,r);const s=O();if(n!==_e&&Qn(s,o,n)){const a=i.data[ir()];if(nM(a,r)&&!YN(i,o)){let u=r?a.classesWithoutHost:a.stylesWithoutHost;null!==u&&(n=vv(u,n||"")),_1(i,a,s,n,r)}else!function IW(t,e,n,r,i,o,s,a){i===_e&&(i=He);let u=0,c=0,l=0<i.length?i[0]:null,d=0<o.length?o[0]:null;for(;null!==l||null!==d;){const h=u<i.length?i[u+1]:void 0,f=c<o.length?o[c+1]:void 0;let y,m=null;l===d?(u+=2,c+=2,h!==f&&(m=d,y=f)):null===d||null!==l&&l<d?(u+=2,m=l):(c+=2,m=d,y=f),null!==m&&eM(t,e,n,r,m,y,s,a),l=u<i.length?i[u]:null,d=c<o.length?o[c]:null}}(i,a,s,s[ge],s[o+1],s[o+1]=function EW(t,e,n){if(null==n||""===n)return He;const r=[],i=ds(n);if(Array.isArray(i))for(let o=0;o<i.length;o++)t(r,i[o],!0);else if("object"==typeof i)for(const o in i)i.hasOwnProperty(o)&&t(r,o,i[o]);else"string"==typeof i&&e(r,i);return r}(t,e,n),r,o)}}(wW,Ji,t,!0)}function Ji(t,e){for(let n=function dW(t){return function KN(t){ln.key=0,ln.keyEnd=0,ln.value=0,ln.valueEnd=0,ln.textEnd=t.length}(t),qN(t,Ec(t,0,ln.textEnd))}(e);n>=0;n=qN(e,n))Br(t,zN(e),!0)}function wi(t,e,n,r){const i=O(),o=Le(),s=Io(2);o.firstUpdatePass&&ZN(o,t,s,r),e!==_e&&Qn(i,s,e)&&eM(o,o.data[ir()],i,i[ge],t,i[s+1]=function TW(t,e){return null==t||""===t||("string"==typeof e?t+=e:"object"==typeof t&&(t=un(ds(t)))),t}(e,n),r,s)}function YN(t,e){return e>=t.expandoStartIndex}function ZN(t,e,n,r){const i=t.data;if(null===i[n+1]){const o=i[ir()],s=YN(t,n);nM(o,r)&&null===e&&!s&&(e=!1),e=function _W(t,e,n,r){const i=function Wv(t){const e=de.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}(t);let o=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(n=eh(n=E1(null,t,e,n,r),e.attrs,r),o=null);else{const s=e.directiveStylingLast;if(-1===s||t[s]!==i)if(n=E1(i,t,e,n,r),null===o){let u=function yW(t,e,n){const r=n?e.classBindings:e.styleBindings;if(0!==fa(r))return t[fs(r)]}(t,e,r);void 0!==u&&Array.isArray(u)&&(u=E1(null,t,e,u[1],r),u=eh(u,e.attrs,r),function vW(t,e,n,r){t[fs(n?e.classBindings:e.styleBindings)]=r}(t,e,r,u))}else o=function bW(t,e,n){let r;const i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++)r=eh(r,t[o].hostAttrs,n);return eh(r,e.attrs,n)}(t,e,r)}return void 0!==o&&(r?e.residualClasses=o:e.residualStyles=o),n}(i,o,e,r),function aW(t,e,n,r,i,o){let s=o?e.classBindings:e.styleBindings,a=fs(s),u=fa(s);t[r]=n;let l,c=!1;if(Array.isArray(n)?(l=n[1],(null===l||Ku(n,l)>0)&&(c=!0)):l=n,i)if(0!==u){const h=fs(t[a+1]);t[r+1]=hm(h,a),0!==h&&(t[h+1]=v1(t[h+1],r)),t[a+1]=function oW(t,e){return 131071&t|e<<17}(t[a+1],r)}else t[r+1]=hm(a,0),0!==a&&(t[a+1]=v1(t[a+1],r)),a=r;else t[r+1]=hm(u,0),0===a?a=r:t[u+1]=v1(t[u+1],r),u=r;c&&(t[r+1]=y1(t[r+1])),GN(t,l,r,!0),GN(t,l,r,!1),function uW(t,e,n,r,i){const o=i?t.residualClasses:t.residualStyles;null!=o&&"string"==typeof e&&Ku(o,e)>=0&&(n[r+1]=b1(n[r+1]))}(e,l,t,r,o),s=hm(a,u),o?e.classBindings=s:e.styleBindings=s}(i,o,e,n,s,r)}}function E1(t,e,n,r,i){let o=null;const s=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<s&&(o=e[a],r=eh(r,o.hostAttrs,i),o!==t);)a++;return null!==t&&(n.directiveStylingLast=a),r}function eh(t,e,n){const r=n?1:2;let i=-1;if(null!==e)for(let o=0;o<e.length;o++){const s=e[o];"number"==typeof s?i=s:i===r&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),Br(t,s,!!n||e[++o]))}return void 0===t?null:t}function wW(t,e,n){const r=String(e);""!==r&&!r.includes(" ")&&Br(t,r,n)}function eM(t,e,n,r,i,o,s,a){if(!(3&e.type))return;const u=t.data,c=u[a+1],l=function sW(t){return 1==(1&t)}(c)?tM(u,e,n,i,fa(c),s):void 0;fm(l)||(fm(o)||function iW(t){return 2==(2&t)}(c)&&(o=tM(u,null,n,i,a,s)),function a9(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let o=-1===r.indexOf("-")?void 0:ls.DashCase;null==i?t.removeStyle(n,r,o):("string"==typeof i&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=ls.Important),t.setStyle(n,r,i,o))}}(r,s,gg(ir(),n),i,o))}function tM(t,e,n,r,i,o){const s=null===e;let a;for(;i>0;){const u=t[i],c=Array.isArray(u),l=c?u[1]:u,d=null===l;let h=n[i+1];h===_e&&(h=d?He:void 0);let f=d?ob(h,r):l===r?h:void 0;if(c&&!fm(f)&&(f=ob(u,r)),fm(f)&&(a=f,s))return a;const m=t[i+1];i=s?fs(m):fa(m)}if(null!==e){let u=o?e.residualClasses:e.residualStyles;null!=u&&(a=ob(u,r))}return a}function fm(t){return void 0!==t}function nM(t,e){return 0!=(t.flags&(e?8:16))}function _(t,e=""){const n=O(),r=Le(),i=t+Ae,o=r.firstCreatePass?lc(r,i,1,e,null):r.data[i],s=rM(r,n,o,e,t);n[i]=s,mg()&&Vg(r,n,s,o),Gi(o,!1)}let rM=(t,e,n,r,i)=>(cs(!0),function Mg(t,e){return t.createText(e)}(e[ge],r));function re(t){return Nn("",t,""),re}function Nn(t,e,n){const r=O(),i=hc(r,t,e,n);return i!==_e&&So(r,ir(),i),Nn}function w1(t,e,n,r,i){const o=O(),s=fc(o,t,e,n,r,i);return s!==_e&&So(o,ir(),s),w1}const Ic="en-US";let IM=Ic;function C1(t,e,n,r,i){if(t=he(t),Array.isArray(t))for(let o=0;o<t.length;o++)C1(t[o],e,n,r,i);else{const o=Le(),s=O(),a=Pn();let u=da(t)?t:he(t.provide);const c=ox(t),l=1048575&a.providerIndexes,d=a.directiveStart,h=a.providerIndexes>>20;if(da(t)||!t.multi){const f=new Cd(c,i,E),m=S1(u,e,i?l:l+h,d);-1===m?(nb(Eg(a,s),o,u),D1(o,t,e.length),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(f),s.push(f)):(n[m]=f,s[m]=f)}else{const f=S1(u,e,l+h,d),m=S1(u,e,l,l+h),v=m>=0&&n[m];if(i&&!v||!i&&!(f>=0&&n[f])){nb(Eg(a,s),o,u);const T=function GK(t,e,n,r,i){const o=new Cd(t,n,E);return o.multi=[],o.index=e,o.componentProviders=0,KM(o,i,r&&!n),o}(i?HK:$K,n.length,i,r,c);!i&&v&&(n[m].providerFactory=T),D1(o,t,e.length,0),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(T),s.push(T)}else D1(o,t,f>-1?f:m,KM(n[i?m:f],c,!i&&r));!i&&r&&v&&n[m].componentProviders++}}}function D1(t,e,n,r){const i=da(e),o=function V9(t){return!!t.useClass}(e);if(i||o){const u=(o?he(e.useClass):e).prototype.ngOnDestroy;if(u){const c=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){const l=c.indexOf(n);-1===l?c.push(n,[r,u]):c[l+1].push(r,u)}else c.push(n,u)}}}function KM(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function S1(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function $K(t,e,n,r){return A1(this.multi,[])}function HK(t,e,n,r){const i=this.multi;let o;if(this.providerFactory){const s=this.providerFactory.componentProviders,a=ua(n,n[ee],this.providerFactory.index,r);o=a.slice(0,s),A1(i,o);for(let u=s;u<a.length;u++)o.push(a[u])}else o=[],A1(i,o);return o}function A1(t,e){for(let n=0;n<t.length;n++)e.push((0,t[n])());return e}function ut(t,e=[]){return n=>{n.providersResolver=(r,i)=>function jK(t,e,n){const r=Le();if(r.firstCreatePass){const i=Ei(t);C1(n,r.data,r.blueprint,i,!0),C1(e,r.data,r.blueprint,i,!1)}}(r,i?i(t):t,e)}}class ma{}class QM{}class R1 extends ma{constructor(e,n,r){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new oN(this);const i=Vr(e);this._bootstrapComponents=Do(i.bootstrap),this._r3Injector=yx(e,n,[{provide:ma,useValue:this},{provide:Yg,useValue:this.componentFactoryResolver},...r],un(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class P1 extends QM{constructor(e){super(),this.moduleType=e}create(e){return new R1(this.moduleType,e,[])}}class JM extends ma{constructor(e){super(),this.componentFactoryResolver=new oN(this),this.instance=null;const n=new tc([...e.providers,{provide:ma,useValue:this},{provide:Yg,useValue:this.componentFactoryResolver}],e.parent||Gg(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}}function x1(t,e,n=null){return new JM({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}let WK=(()=>{class t{constructor(n){this._injector=n,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){const r=tx(0,n.type),i=r.length>0?x1([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,i)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(const n of this.cachedInjectors.values())null!==n&&n.destroy()}finally{this.cachedInjectors.clear()}}static#e=this.\u0275prov=G({token:t,providedIn:"environment",factory:()=>new t(j(ar))})}return t})();function si(t){t.getStandaloneInjector=e=>e.get(WK).getOrCreateStandaloneInjector(t)}function Mn(t,e,n){const r=rr()+t,i=O();return i[r]===_e?Wi(i,r,n?e.call(n):e()):function Kd(t,e){return t[e]}(i,r)}function _a(t,e,n,r){return function rO(t,e,n,r,i,o){const s=e+n;return Qn(t,s,i)?Wi(t,s+1,o?r.call(o,i):r(i)):ah(t,s+1)}(O(),rr(),t,e,n,r)}function Tc(t,e,n,r,i){return function iO(t,e,n,r,i,o,s){const a=e+n;return ha(t,a,i,o)?Wi(t,a+2,s?r.call(s,i,o):r(i,o)):ah(t,a+2)}(O(),rr(),t,e,n,r,i)}function ah(t,e){const n=t[e];return n===_e?void 0:n}function oO(t,e,n,r,i,o,s,a){const u=e+n;return function am(t,e,n,r,i){const o=ha(t,e,n,r);return Qn(t,e+2,i)||o}(t,u,i,o,s)?Wi(t,u+3,a?r.call(a,i,o,s):r(i,o,s)):ah(t,u+3)}function ps(t,e){const n=Le();let r;const i=t+Ae;n.firstCreatePass?(r=function uQ(t,e){if(e)for(let n=e.length-1;n>=0;n--){const r=e[n];if(t===r.name)return r}}(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks??=[]).push(i,r.onDestroy)):r=n.data[i];const o=r.factory||(r.factory=sa(r.type)),a=Er(E);try{const u=bg(!1),c=o();return bg(u),function Qq(t,e,n,r){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=r}(n,O(),i,c),c}finally{Er(a)}}function gs(t,e,n,r,i){const o=t+Ae,s=O(),a=function Lu(t,e){return t[e]}(s,o);return function uh(t,e){return t[ee].data[e].pure}(s,o)?oO(s,rr(),e,a.transform,n,r,i,a):a.transform(n,r,i)}function fQ(){return this._results[Symbol.iterator]()}class O1{static#e=Symbol.iterator;get changes(){return this._changes||(this._changes=new ae)}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const n=O1.prototype;n[Symbol.iterator]||(n[Symbol.iterator]=fQ)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,n){return this._results.reduce(e,n)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,n){const r=this;r.dirty=!1;const i=function ri(t){return t.flat(Number.POSITIVE_INFINITY)}(e);(this._changesDetected=!function lz(t,e,n){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++){let i=t[r],o=e[r];if(n&&(i=n(i),o=n(o)),o!==i)return!1}return!0}(r._results,i,n))&&(r._results=i,r.length=i.length,r.last=i[this.length-1],r.first=i[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}function gQ(t,e,n,r=!0){const i=e[ee];if(function Xz(t,e,n,r){const i=Sn+r,o=n.length;r>0&&(n[i-1][bi]=e),r<o-Sn?(e[bi]=n[i],rP(n,Sn+r,e)):(n.push(e),e[bi]=null),e[wt]=n;const s=e[yd];null!==s&&n!==s&&function e9(t,e){const n=t[Fu];e[Ht]!==e[wt][wt][Ht]&&(t[rR]=!0),null===n?t[Fu]=[e]:n.push(e)}(s,e);const a=e[ji];null!==a&&a.insertView(t),e[ye]|=128}(i,e,t,n),r){const o=bb(n,t),s=e[ge],a=Fg(s,t[$i]);null!==a&&function Jz(t,e,n,r,i,o){r[Mt]=i,r[Wn]=e,kd(t,r,n,1,i,o)}(i,t[Wn],s,e,a,o)}}let Rt=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=yQ}return t})();const mQ=Rt,_Q=class extends mQ{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,r){const i=function pQ(t,e,n,r){const i=e.tView,a=tm(t,i,n,4096&t[ye]?4096:16,null,e,null,null,null,r?.injector??null,r?.hydrationInfo??null);a[yd]=t[e.index];const c=t[ji];return null!==c&&(a[ji]=c.createEmbeddedView(i)),l1(i,a,n),a}(this._declarationLView,this._declarationTContainer,e,{injector:n,hydrationInfo:r});return new zd(i)}};function yQ(){return ym(Pn(),O())}function ym(t,e){return 4&t.type?new _Q(e,t,oc(t,e)):null}let ai=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=TQ}return t})();function TQ(){return pO(Pn(),O())}const CQ=ai,hO=class extends CQ{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return oc(this._hostTNode,this._hostLView)}get injector(){return new or(this._hostTNode,this._hostLView)}get parentInjector(){const e=wg(this._hostTNode,this._hostLView);if(Xv(e)){const n=Sd(e,this._hostLView),r=Dd(e);return new or(n[ee].data[r+8],n)}return new or(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const n=fO(this._lContainer);return null!==n&&n[e]||null}get length(){return this._lContainer.length-Sn}createEmbeddedView(e,n,r){let i,o;"number"==typeof r?i=r:null!=r&&(i=r.index,o=r.injector);const a=e.createEmbeddedViewImpl(n||{},o,null);return this.insertImpl(a,i,false),a}createComponent(e,n,r,i,o){const s=e&&!function Rd(t){return"function"==typeof t}(e);let a;if(s)a=n;else{const y=n||{};a=y.index,r=y.injector,i=y.projectableNodes,o=y.environmentInjector||y.ngModuleRef}const u=s?e:new qd(Ve(e)),c=r||this.parentInjector;if(!o&&null==u.ngModule){const v=(s?c:this.parentInjector).get(ar,null);v&&(o=v)}Ve(u.componentType??{});const f=u.create(c,i,null,o);return this.insertImpl(f.hostView,a,false),f}insert(e,n){return this.insertImpl(e,n,!1)}insertImpl(e,n,r){const i=e._lView;if(function TG(t){return nr(t[wt])}(i)){const u=this.indexOf(e);if(-1!==u)this.detach(u);else{const c=i[wt],l=new hO(c,c[Wn],c[wt]);l.detach(l.indexOf(e))}}const s=this._adjustIndex(n),a=this._lContainer;return gQ(a,i,s,!r),e.attachToViewContainerRef(),rP(k1(a),s,e),e}move(e,n){return this.insert(e,n)}indexOf(e){const n=fO(this._lContainer);return null!==n?n.indexOf(e):-1}remove(e){const n=this._adjustIndex(e,-1),r=kg(this._lContainer,n);r&&(Tg(k1(this._lContainer),n),mb(r[ee],r))}detach(e){const n=this._adjustIndex(e,-1),r=kg(this._lContainer,n);return r&&null!=Tg(k1(this._lContainer),n)?new zd(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function fO(t){return t[8]}function k1(t){return t[8]||(t[8]=[])}function pO(t,e){let n;const r=e[t.index];return nr(r)?n=r:(n=Wx(r,e,null,t),e[t.index]=n,nm(e,n)),gO(n,e,t,r),new hO(n,t,e)}let gO=function mO(t,e,n,r){if(t[$i])return;let i;i=8&n.type?ht(r):function DQ(t,e){const n=t[ge],r=n.createComment(""),i=Tr(e,t);return la(n,Fg(n,i),r,function i9(t,e){return t.nextSibling(e)}(n,i),!1),r}(e,n),t[$i]=i};class F1{constructor(e){this.queryList=e,this.matches=null}clone(){return new F1(this.queryList)}setDirty(){this.queryList.setDirty()}}class V1{constructor(e=[]){this.queries=e}createEmbeddedView(e){const n=e.queries;if(null!==n){const r=null!==e.contentQueries?e.contentQueries[0]:n.length,i=[];for(let o=0;o<r;o++){const s=n.getByIndex(o);i.push(this.queries[s.indexInDeclarationView].clone())}return new V1(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let n=0;n<this.queries.length;n++)null!==EO(e,n).matches&&this.queries[n].setDirty()}}class _O{constructor(e,n,r=null){this.predicate=e,this.flags=n,this.read=r}}class L1{constructor(e=[]){this.queries=e}elementStart(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,n)}elementEnd(e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(e)}embeddedTView(e){let n=null;for(let r=0;r<this.length;r++){const i=null!==n?n.length:0,o=this.getByIndex(r).embeddedTView(e,i);o&&(o.indexInDeclarationView=r,null!==n?n.push(o):n=[o])}return null!==n?new L1(n):null}template(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,n)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}}class B1{constructor(e,n=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}elementStart(e,n){this.isApplyingToNode(n)&&this.matchTNode(e,n)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,n){this.elementStart(e,n)}embeddedTView(e,n){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,n),new B1(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const n=this._declarationNodeIndex;let r=e.parent;for(;null!==r&&8&r.type&&r.index!==n;)r=r.parent;return n===(null!==r?r.index:-1)}return this._appliesToNextNode}matchTNode(e,n){const r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){const o=r[i];this.matchTNodeWithReadOption(e,n,RQ(n,o)),this.matchTNodeWithReadOption(e,n,Ig(n,e,o,!1,!1))}else r===Rt?4&n.type&&this.matchTNodeWithReadOption(e,n,-1):this.matchTNodeWithReadOption(e,n,Ig(n,e,r,!1,!1))}matchTNodeWithReadOption(e,n,r){if(null!==r){const i=this.metadata.read;if(null!==i)if(i===Qe||i===ai||i===Rt&&4&n.type)this.addMatch(n.index,-2);else{const o=Ig(n,e,i,!1,!1);null!==o&&this.addMatch(n.index,o)}else this.addMatch(n.index,r)}}addMatch(e,n){null===this.matches?this.matches=[e,n]:this.matches.push(e,n)}}function RQ(t,e){const n=t.localNames;if(null!==n)for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1];return null}function xQ(t,e,n,r){return-1===n?function PQ(t,e){return 11&t.type?oc(t,e):4&t.type?ym(t,e):null}(e,t):-2===n?function NQ(t,e,n){return n===Qe?oc(e,t):n===Rt?ym(e,t):n===ai?pO(e,t):void 0}(t,e,r):ua(t,t[ee],n,e)}function yO(t,e,n,r){const i=e[ji].queries[r];if(null===i.matches){const o=t.data,s=n.matches,a=[];for(let u=0;u<s.length;u+=2){const c=s[u];a.push(c<0?null:xQ(e,o[c],s[u+1],n.metadata.read))}i.matches=a}return i.matches}function U1(t,e,n,r){const i=t.queries.getByIndex(n),o=i.matches;if(null!==o){const s=yO(t,e,i,n);for(let a=0;a<o.length;a+=2){const u=o[a];if(u>0)r.push(s[a/2]);else{const c=o[a+1],l=e[-u];for(let d=Sn;d<l.length;d++){const h=l[d];h[yd]===h[wt]&&U1(h[ee],h,c,r)}if(null!==l[Fu]){const d=l[Fu];for(let h=0;h<d.length;h++){const f=d[h];U1(f[ee],f,c,r)}}}}}return r}function nt(t){const e=O(),n=Le(),r=FR();Kv(r+1);const i=EO(n,r);if(t.dirty&&function wG(t){return 4==(4&t[ye])}(e)===(2==(2&i.metadata.flags))){if(null===i.matches)t.reset([]);else{const o=i.crossesNgTemplate?U1(n,e,r,[]):yO(n,e,i,r);t.reset(o,i7),t.notifyOnChanges()}return!0}return!1}function rt(){return function MQ(t,e){return t[ji].queries[e].queryList}(O(),FR())}function vO(t,e,n){const r=new O1(4==(4&n));(function V7(t,e,n,r){const i=Qx(e);i.push(n),t.firstCreatePass&&Jx(t).push(r,i.length-1)})(t,e,r,r.destroy),null===e[ji]&&(e[ji]=new V1),e[ji].queries.push(new F1(r))}function bO(t,e,n){null===t.queries&&(t.queries=new L1),t.queries.track(new B1(e,n))}function EO(t,e){return t.queries.getByIndex(e)}const q1=new Z("Application Initializer");let W1=(()=>{class t{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r}),this.appInits=z(q1,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const n=[];for(const i of this.appInits){const o=i();if(Zd(o))n.push(o);else if(RN(o)){const s=new Promise((a,u)=>{o.subscribe({complete:a,error:u})});n.push(s)}}const r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),0===n.length&&r(),this.initialized=!0}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),LO=(()=>{class t{log(n){console.log(n)}warn(n){console.warn(n)}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();const Ci=new Z("LocaleId",{providedIn:"root",factory:()=>z(Ci,Se.Optional|Se.SkipSelf)||function tJ(){return typeof $localize<"u"&&$localize.locale||Ic}()});let Em=(()=>{class t{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Xr(!1)}add(){this.hasPendingTasks.next(!0);const n=this.taskId++;return this.pendingTasks.add(n),n}remove(n){this.pendingTasks.delete(n),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();class iJ{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}}let BO=(()=>{class t{compileModuleSync(n){return new P1(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){const r=this.compileModuleSync(n),o=Do(Vr(n).declarations).reduce((s,a)=>{const u=Ve(a);return u&&s.push(new qd(u)),s},[]);return new iJ(r,o)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const HO=new Z(""),Im=new Z("");let Z1,J1=(()=>{class t{constructor(n,r,i){this._ngZone=n,this.registry=r,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Z1||(function DJ(t){Z1=t}(i),i.addToWindow(r)),this._watchAngularEvents(),n.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Te.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let n=this._callbacks.pop();clearTimeout(n.timeoutId),n.doneCb(this._didWork)}this._didWork=!1});else{let n=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(n)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(n=>({source:n.source,creationLocation:n.creationLocation,data:n.data})):[]}addCallback(n,r,i){let o=-1;r&&r>0&&(o=setTimeout(()=>{this._callbacks=this._callbacks.filter(s=>s.timeoutId!==o),n(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:n,timeoutId:o,updateCb:i})}whenStable(n,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(n,r,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(n){this.registry.registerApplication(n,this)}unregisterApplication(n){this.registry.unregisterApplication(n)}findProviders(n,r,i){return[]}static#e=this.\u0275fac=function(r){return new(r||t)(j(Te),j(Y1),j(Im))};static#t=this.\u0275prov=G({token:t,factory:t.\u0275fac})}return t})(),Y1=(()=>{class t{constructor(){this._applications=new Map}registerApplication(n,r){this._applications.set(n,r)}unregisterApplication(n){this._applications.delete(n)}unregisterAllApplications(){this._applications.clear()}getTestability(n){return this._applications.get(n)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(n,r=!0){return Z1?.findTestabilityInTree(this,n,r)??null}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})(),ms=null;const GO=new Z("AllowMultipleToken"),X1=new Z("PlatformDestroyListeners"),eE=new Z("appBootstrapListener");class qO{constructor(e,n){this.name=e,this.token=n}}function KO(t,e,n=[]){const r=`Platform: ${e}`,i=new Z(r);return(o=[])=>{let s=tE();if(!s||s.injector.get(GO,!1)){const a=[...n,...o,{provide:i,useValue:!0}];t?t(a):function RJ(t){if(ms&&!ms.get(GO,!1))throw new L(400,!1);(function zO(){!function cG(t){gR=t}(()=>{throw new L(600,!1)})})(),ms=t;const e=t.get(JO);(function WO(t){t.get(sx,null)?.forEach(n=>n())})(t)}(function QO(t=[],e){return zt.create({name:e,providers:[{provide:Mb,useValue:"platform"},{provide:X1,useValue:new Set([()=>ms=null])},...t]})}(a,r))}return function xJ(t){const e=tE();if(!e)throw new L(401,!1);return e}()}}function tE(){return ms?.get(JO)??null}let JO=(()=>{class t{constructor(n){this._injector=n,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(n,r){const i=function NJ(t="zone.js",e){return"noop"===t?new v7:"zone.js"===t?new Te(e):t}(r?.ngZone,function YO(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}({eventCoalescing:r?.ngZoneEventCoalescing,runCoalescing:r?.ngZoneRunCoalescing}));return i.run(()=>{const o=function qK(t,e,n){return new R1(t,e,n)}(n.moduleType,this.injector,function n3(t){return[{provide:Te,useFactory:t},{provide:Bd,multi:!0,useFactory:()=>{const e=z(OJ,{optional:!0});return()=>e.initialize()}},{provide:t3,useFactory:MJ},{provide:Ix,useFactory:Tx}]}(()=>i)),s=o.injector.get(Co,null);return i.runOutsideAngular(()=>{const a=i.onError.subscribe({next:u=>{s.handleError(u)}});o.onDestroy(()=>{Tm(this._modules,o),a.unsubscribe()})}),function ZO(t,e,n){try{const r=n();return Zd(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}(s,i,()=>{const a=o.injector.get(W1);return a.runInitializers(),a.donePromise.then(()=>(function TM(t){ti(t,"Expected localeId to be defined"),"string"==typeof t&&(IM=t.toLowerCase().replace(/_/g,"-"))}(o.injector.get(Ci,Ic)||Ic),this._moduleDoBootstrap(o),o))})})}bootstrapModule(n,r=[]){const i=XO({},r);return function SJ(t,e,n){const r=new P1(n);return Promise.resolve(r)}(0,0,n).then(o=>this.bootstrapModuleFactory(o,i))}_moduleDoBootstrap(n){const r=n.injector.get(_s);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(i=>r.bootstrap(i));else{if(!n.instance.ngDoBootstrap)throw new L(-403,!1);n.instance.ngDoBootstrap(r)}this._modules.push(n)}onDestroy(n){this._destroyListeners.push(n)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new L(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());const n=this._injector.get(X1,null);n&&(n.forEach(r=>r()),n.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static#e=this.\u0275fac=function(r){return new(r||t)(j(zt))};static#t=this.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();function XO(t,e){return Array.isArray(e)?e.reduce(XO,t):{...t,...e}}let _s=(()=>{class t{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=z(t3),this.zoneIsStable=z(Ix),this.componentTypes=[],this.components=[],this.isStable=z(Em).hasPendingTasks.pipe(ei(n=>n?ce(!1):this.zoneIsStable),function MA(t,e=_i){return t=t??E6,St((n,r)=>{let i,o=!0;n.subscribe(lt(r,s=>{const a=e(s);(o||!t(i,a))&&(o=!1,i=a,r.next(s))}))})}(),NA()),this._injector=z(ar)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(n,r){const i=n instanceof dx;if(!this._injector.get(W1).done)throw!i&&function xu(t){const e=Ve(t)||Dn(t)||tr(t);return null!==e&&e.standalone}(n),new L(405,!1);let s;s=i?n:this._injector.get(Yg).resolveComponentFactory(n),this.componentTypes.push(s.componentType);const a=function AJ(t){return t.isBoundToModule}(s)?void 0:this._injector.get(ma),c=s.create(zt.NULL,[],r||s.selector,a),l=c.location.nativeElement,d=c.injector.get(HO,null);return d?.registerApplication(l),c.onDestroy(()=>{this.detachView(c.hostView),Tm(this.components,c),d?.unregisterApplication(l)}),this._loadComponent(c),c}tick(){if(this._runningTick)throw new L(101,!1);try{this._runningTick=!0;for(let n of this._views)n.detectChanges()}catch(n){this.internalErrorHandler(n)}finally{this._runningTick=!1}}attachView(n){const r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){const r=n;Tm(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n);const r=this._injector.get(eE,[]);r.push(...this._bootstrapListeners),r.forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>Tm(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new L(406,!1);const n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Tm(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const t3=new Z("",{providedIn:"root",factory:()=>z(Co).handleError.bind(void 0)});function MJ(){const t=z(Te),e=z(Co);return n=>t.runOutsideAngular(()=>e.handleError(n))}let OJ=(()=>{class t{constructor(){this.zone=z(Te),this.applicationRef=z(_s)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();let Di=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=FJ}return t})();function FJ(t){return function VJ(t,e,n){if(oa(t)&&!n){const r=Lr(t.index,e);return new zd(r,r)}return 47&t.type?new zd(e[Ht],e):null}(Pn(),O(),16==(16&t))}class s3{constructor(){}supports(e){return sm(e)}create(e){return new HJ(e)}}const $J=(t,e)=>e;class HJ{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||$J}forEachItem(e){let n;for(n=this._itHead;null!==n;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,i=0,o=null;for(;n||r;){const s=!r||n&&n.currentIndex<u3(r,i,o)?n:r,a=u3(s,i,o),u=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(n=n._next,null==s.previousIndex)i++;else{o||(o=[]);const c=a-i,l=u-i;if(c!=l){for(let h=0;h<c;h++){const f=h<o.length?o[h]:o[h]=0,m=f+h;l<=m&&m<c&&(o[h]=f+1)}o[s.previousIndex]=l-c}}a!==u&&e(s,a,u)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;null!==n;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;null!==n;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;null!==n;n=n._nextIdentityChange)e(n)}diff(e){if(null==e&&(e=[]),!sm(e))throw new L(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let i,o,s,n=this._itHead,r=!1;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)o=e[a],s=this._trackByFn(a,o),null!==n&&Object.is(n.trackById,s)?(r&&(n=this._verifyReinsertion(n,o,s,a)),Object.is(n.item,o)||this._addIdentityChange(n,o)):(n=this._mismatch(n,o,s,a),r=!0),n=n._next}else i=0,function Aq(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[Symbol.iterator]();let r;for(;!(r=n.next()).done;)e(r.value)}}(e,a=>{s=this._trackByFn(i,a),null!==n&&Object.is(n.trackById,s)?(r&&(n=this._verifyReinsertion(n,a,s,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)):(n=this._mismatch(n,a,s,i),r=!0),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,i){let o;return null===e?o=this._itTail:(o=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,o,i)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,o,i)):e=this._addAfter(new GJ(n,r),o,i),e}_verifyReinsertion(e,n,r,i){let o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==o?e=this._reinsertAfter(o,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;null!==e;){const n=e._next;this._addToRemovals(this._unlink(e)),e=n}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const i=e._prevRemoved,o=e._nextRemoved;return null===i?this._removalsHead=o:i._nextRemoved=o,null===o?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){const i=null===n?this._itHead:n._next;return e._next=i,e._prev=n,null===i?this._itTail=e:i._prev=e,null===n?this._itHead=e:n._next=e,null===this._linkedRecords&&(this._linkedRecords=new a3),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const n=e._prev,r=e._next;return null===n?this._itHead=r:n._next=r,null===r?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new a3),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class GJ{constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class zJ{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===n||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){const n=e._prevDup,r=e._nextDup;return null===n?this._head=r:n._nextDup=r,null===r?this._tail=n:r._prevDup=n,null===this._head}}class a3{constructor(){this.map=new Map}put(e){const n=e.trackById;let r=this.map.get(n);r||(r=new zJ,this.map.set(n,r)),r.add(e)}get(e,n){const i=this.map.get(e);return i?i.get(e,n):null}remove(e){const n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function u3(t,e,n){const r=t.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}function l3(){return new Sm([new s3])}let Sm=(()=>{class t{static#e=this.\u0275prov=G({token:t,providedIn:"root",factory:l3});constructor(n){this.factories=n}static create(n,r){if(null!=r){const i=r.factories.slice();n=n.concat(i)}return new t(n)}static extend(n){return{provide:t,useFactory:r=>t.create(n,r||l3()),deps:[[t,new Dg,new xn]]}}find(n){const r=this.factories.find(i=>i.supports(n));if(null!=r)return r;throw new L(901,!1)}}return t})();const JJ=KO(null,"core",[]);let YJ=(()=>{class t{constructor(n){}static#e=this.\u0275fac=function(r){return new(r||t)(j(_s))};static#t=this.\u0275mod=Me({type:t});static#n=this.\u0275inj=Re({})}return t})();function Sc(t){return"boolean"==typeof t?t:null!=t&&"false"!==t}function aE(t,e){const n=Ve(t),r=e.elementInjector||Gg();return new qd(n).create(r,e.projectableNodes,e.hostElement,e.environmentInjector)}let uE=null;function ys(){return uE}class dY{}const tn=new Z("DocumentToken");let cE=(()=>{class t{historyGo(n){throw new Error("Not implemented")}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=G({token:t,factory:function(){return z(fY)},providedIn:"platform"})}return t})();const hY=new Z("Location Initialized");let fY=(()=>{class t extends cE{constructor(){super(),this._doc=z(tn),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return ys().getBaseHref(this._doc)}onPopState(n){const r=ys().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){const r=ys().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,i){this._history.pushState(n,r,i)}replaceState(n,r,i){this._history.replaceState(n,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=G({token:t,factory:function(){return new t},providedIn:"platform"})}return t})();function lE(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function b3(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function Ao(t){return t&&"?"!==t[0]?"?"+t:t}let ba=(()=>{class t{historyGo(n){throw new Error("Not implemented")}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=G({token:t,factory:function(){return z(w3)},providedIn:"root"})}return t})();const E3=new Z("appBaseHref");let w3=(()=>{class t extends ba{constructor(n,r){super(),this._platformLocation=n,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??z(tn).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return lE(this._baseHref,n)}path(n=!1){const r=this._platformLocation.pathname+Ao(this._platformLocation.search),i=this._platformLocation.hash;return i&&n?`${r}${i}`:r}pushState(n,r,i,o){const s=this.prepareExternalUrl(i+Ao(o));this._platformLocation.pushState(n,r,s)}replaceState(n,r,i,o){const s=this.prepareExternalUrl(i+Ao(o));this._platformLocation.replaceState(n,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static#e=this.\u0275fac=function(r){return new(r||t)(j(cE),j(E3,8))};static#t=this.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),pY=(()=>{class t extends ba{constructor(n,r){super(),this._platformLocation=n,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}path(n=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(n){const r=lE(this._baseHref,n);return r.length>0?"#"+r:r}pushState(n,r,i,o){let s=this.prepareExternalUrl(i+Ao(o));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.pushState(n,r,s)}replaceState(n,r,i,o){let s=this.prepareExternalUrl(i+Ao(o));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.replaceState(n,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static#e=this.\u0275fac=function(r){return new(r||t)(j(cE),j(E3,8))};static#t=this.\u0275prov=G({token:t,factory:t.\u0275fac})}return t})(),dE=(()=>{class t{constructor(n){this._subject=new ae,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=n;const r=this._locationStrategy.getBaseHref();this._basePath=function _Y(t){if(new RegExp("^(https?:)?//").test(t)){const[,n]=t.split(/\/\/[^\/]+/);return n}return t}(b3(I3(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+Ao(r))}normalize(n){return t.stripTrailingSlash(function mY(t,e){if(!t||!e.startsWith(t))return e;const n=e.substring(t.length);return""===n||["/",";","?","#"].includes(n[0])?n:e}(this._basePath,I3(n)))}prepareExternalUrl(n){return n&&"/"!==n[0]&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",i=null){this._locationStrategy.pushState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Ao(r)),i)}replaceState(n,r="",i=null){this._locationStrategy.replaceState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Ao(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(i=>i(n,r))}subscribe(n,r,i){return this._subject.subscribe({next:n,error:r,complete:i})}static#e=this.normalizeQueryParams=Ao;static#t=this.joinWithSlash=lE;static#n=this.stripTrailingSlash=b3;static#r=this.\u0275fac=function(r){return new(r||t)(j(ba))};static#i=this.\u0275prov=G({token:t,factory:function(){return function gY(){return new dE(j(ba))}()},providedIn:"root"})}return t})();function I3(t){return t.replace(/\/index.html$/,"")}function O3(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const r=n.indexOf("="),[i,o]=-1==r?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}class eZ{constructor(e,n,r,i){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let yn=(()=>{class t{set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}constructor(n,r,i){this._viewContainer=n,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;!this._differ&&n&&(this._differ=this._differs.find(n).create(this.ngForTrackBy))}if(this._differ){const n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){const r=this._viewContainer;n.forEachOperation((i,o,s)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new eZ(i.item,this._ngForOf,-1,-1),null===s?void 0:s);else if(null==s)r.remove(null===o?void 0:o);else if(null!==o){const a=r.get(o);r.move(a,s),V3(a,i)}});for(let i=0,o=r.length;i<o;i++){const a=r.get(i).context;a.index=i,a.count=o,a.ngForOf=this._ngForOf}n.forEachIdentityChange(i=>{V3(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(n,r){return!0}static#e=this.\u0275fac=function(r){return new(r||t)(E(ai),E(Rt),E(Sm))};static#t=this.\u0275dir=W({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}return t})();function V3(t,e){t.context.$implicit=e.item}let On=(()=>{class t{constructor(n,r){this._viewContainer=n,this._context=new tZ,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){L3("ngIfThen",n),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){L3("ngIfElse",n),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(n,r){return!0}static#e=this.\u0275fac=function(r){return new(r||t)(E(ai),E(Rt))};static#t=this.\u0275dir=W({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}return t})();class tZ{constructor(){this.$implicit=null,this.ngIf=null}}function L3(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${un(e)}'.`)}let Pc=(()=>{class t{transform(n,r,i){if(null==n)return null;if(!this.supports(n))throw function Ai(t,e){return new L(2100,!1)}();return n.slice(r,i)}supports(n){return"string"==typeof n||Array.isArray(n)}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275pipe=wr({name:"slice",type:t,pure:!1,standalone:!0})}return t})(),AZ=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Me({type:t});static#n=this.\u0275inj=Re({})}return t})();function $3(t){return"server"===t}let NZ=(()=>{class t{static#e=this.\u0275prov=G({token:t,providedIn:"root",factory:()=>new MZ(j(tn),window)})}return t})();class MZ{constructor(e,n){this.document=e,this.window=n,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const n=function OZ(t,e){const n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if("function"==typeof t.createTreeWalker&&t.body&&"function"==typeof t.body.attachShadow){const r=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const o=i.shadowRoot;if(o){const s=o.getElementById(e)||o.querySelector(`[name="${e}"]`);if(s)return s}i=r.nextNode()}}return null}(this.document,e);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(e){this.supportsScrolling()&&(this.window.history.scrollRestoration=e)}scrollToElement(e){const n=e.getBoundingClientRect(),r=n.left+this.window.pageXOffset,i=n.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(r-o[0],i-o[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class H3{}class rX extends dY{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class RE extends rX{static makeCurrent(){!function lY(t){uE||(uE=t)}(new RE)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return(n=n||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return"window"===n?window:"document"===n?e:"body"===n?e.body:null}getBaseHref(e){const n=function iX(){return gh=gh||document.querySelector("base"),gh?gh.getAttribute("href"):null}();return null==n?null:function oX(t){jm=jm||document.createElement("a"),jm.setAttribute("href",t);const e=jm.pathname;return"/"===e.charAt(0)?e:`/${e}`}(n)}resetBaseElement(){gh=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return O3(document.cookie,e)}}let jm,gh=null,aX=(()=>{class t{build(){return new XMLHttpRequest}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=G({token:t,factory:t.\u0275fac})}return t})();const PE=new Z("EventManagerPlugins");let K3=(()=>{class t{constructor(n,r){this._zone=r,this._eventNameToPlugin=new Map,n.forEach(i=>{i.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,r,i){return this._findPluginFor(r).addEventListener(n,r,i)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(o=>o.supports(n)),!r)throw new L(5101,!1);return this._eventNameToPlugin.set(n,r),r}static#e=this.\u0275fac=function(r){return new(r||t)(j(PE),j(Te))};static#t=this.\u0275prov=G({token:t,factory:t.\u0275fac})}return t})();class Q3{constructor(e){this._doc=e}}const xE="ng-app-id";let J3=(()=>{class t{constructor(n,r,i,o={}){this.doc=n,this.appId=r,this.nonce=i,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=$3(o),this.resetHostNodes()}addStyles(n){for(const r of n)1===this.changeUsageCount(r,1)&&this.onStyleAdded(r)}removeStyles(n){for(const r of n)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){const n=this.styleNodesInDOM;n&&(n.forEach(r=>r.remove()),n.clear());for(const r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(n){this.hostNodes.add(n);for(const r of this.getAllStyles())this.addStyleToHost(n,r)}removeHost(n){this.hostNodes.delete(n)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(n){for(const r of this.hostNodes)this.addStyleToHost(r,n)}onStyleRemoved(n){const r=this.styleRef;r.get(n)?.elements?.forEach(i=>i.remove()),r.delete(n)}collectServerRenderedStyles(){const n=this.doc.head?.querySelectorAll(`style[${xE}="${this.appId}"]`);if(n?.length){const r=new Map;return n.forEach(i=>{null!=i.textContent&&r.set(i.textContent,i)}),r}return null}changeUsageCount(n,r){const i=this.styleRef;if(i.has(n)){const o=i.get(n);return o.usage+=r,o.usage}return i.set(n,{usage:r,elements:[]}),r}getStyleElement(n,r){const i=this.styleNodesInDOM,o=i?.get(r);if(o?.parentNode===n)return i.delete(r),o.removeAttribute(xE),o;{const s=this.doc.createElement("style");return this.nonce&&s.setAttribute("nonce",this.nonce),s.textContent=r,this.platformIsServer&&s.setAttribute(xE,this.appId),s}}addStyleToHost(n,r){const i=this.getStyleElement(n,r);n.appendChild(i);const o=this.styleRef,s=o.get(r)?.elements;s?s.push(i):o.set(r,{elements:[i],usage:1})}resetHostNodes(){const n=this.hostNodes;n.clear(),n.add(this.doc.head)}static#e=this.\u0275fac=function(r){return new(r||t)(j(tn),j(zg),j(ax,8),j(hs))};static#t=this.\u0275prov=G({token:t,factory:t.\u0275fac})}return t})();const NE={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},ME=/%COMP%/g,dX=new Z("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function Z3(t,e){return e.map(n=>n.replace(ME,t))}let X3=(()=>{class t{constructor(n,r,i,o,s,a,u,c=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=u,this.nonce=c,this.rendererByCompId=new Map,this.platformIsServer=$3(a),this.defaultRenderer=new OE(n,s,u,this.platformIsServer)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===yi.ShadowDom&&(r={...r,encapsulation:yi.Emulated});const i=this.getOrCreateRenderer(n,r);return i instanceof tk?i.applyToHost(n):i instanceof kE&&i.applyStyles(),i}getOrCreateRenderer(n,r){const i=this.rendererByCompId;let o=i.get(r.id);if(!o){const s=this.doc,a=this.ngZone,u=this.eventManager,c=this.sharedStylesHost,l=this.removeStylesOnCompDestroy,d=this.platformIsServer;switch(r.encapsulation){case yi.Emulated:o=new tk(u,c,r,this.appId,l,s,a,d);break;case yi.ShadowDom:return new gX(u,c,n,r,s,a,this.nonce,d);default:o=new kE(u,c,r,l,s,a,d)}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}static#e=this.\u0275fac=function(r){return new(r||t)(j(K3),j(J3),j(zg),j(dX),j(tn),j(hs),j(Te),j(ax))};static#t=this.\u0275prov=G({token:t,factory:t.\u0275fac})}return t})();class OE{constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(NE[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(ek(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(ek(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let r="string"==typeof e?this.doc.querySelector(e):e;if(!r)throw new L(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;const o=NE[i];o?e.setAttributeNS(o,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){const i=NE[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(ls.DashCase|ls.Important)?e.style.setProperty(n,r,i&ls.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&ls.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e[n]=r}setValue(e,n){e.nodeValue=n}listen(e,n,r){if("string"==typeof e&&!(e=ys().getGlobalEventTarget(this.doc,e)))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if("__ngUnwrap__"===n)return e;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))&&n.preventDefault()}}}function ek(t){return"TEMPLATE"===t.tagName&&void 0!==t.content}class gX extends OE{constructor(e,n,r,i,o,s,a,u){super(e,o,s,u),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const c=Z3(i.id,i.styles);for(const l of c){const d=document.createElement("style");a&&d.setAttribute("nonce",a),d.textContent=l,this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class kE extends OE{constructor(e,n,r,i,o,s,a,u){super(e,o,s,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=u?Z3(u,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class tk extends kE{constructor(e,n,r,i,o,s,a,u){const c=i+"-"+r.id;super(e,n,r,o,s,a,u,c),this.contentAttr=function hX(t){return"_ngcontent-%COMP%".replace(ME,t)}(c),this.hostAttr=function fX(t){return"_nghost-%COMP%".replace(ME,t)}(c)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){const r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}}let mX=(()=>{class t extends Q3{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i){return n.addEventListener(r,i,!1),()=>this.removeEventListener(n,r,i)}removeEventListener(n,r,i){return n.removeEventListener(r,i)}static#e=this.\u0275fac=function(r){return new(r||t)(j(tn))};static#t=this.\u0275prov=G({token:t,factory:t.\u0275fac})}return t})();const nk=["alt","control","meta","shift"],_X={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},yX={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let vX=(()=>{class t extends Q3{constructor(n){super(n)}supports(n){return null!=t.parseEventName(n)}addEventListener(n,r,i){const o=t.parseEventName(r),s=t.eventCallback(o.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>ys().onAndCancel(n,o.domEventName,s))}static parseEventName(n){const r=n.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const o=t._normalizeKey(r.pop());let s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),nk.forEach(c=>{const l=r.indexOf(c);l>-1&&(r.splice(l,1),s+=c+".")}),s+=o,0!=r.length||0===o.length)return null;const u={};return u.domEventName=i,u.fullKey=s,u}static matchEventFullKeyCode(n,r){let i=_X[n.key]||n.key,o="";return r.indexOf("code.")>-1&&(i=n.code,o="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),nk.forEach(s=>{s!==i&&(0,yX[s])(n)&&(o+=s+".")}),o+=i,o===r)}static eventCallback(n,r,i){return o=>{t.matchEventFullKeyCode(o,n)&&i.runGuarded(()=>r(o))}}static _normalizeKey(n){return"esc"===n?"escape":n}static#e=this.\u0275fac=function(r){return new(r||t)(j(tn))};static#t=this.\u0275prov=G({token:t,factory:t.\u0275fac})}return t})();const ik=[{provide:hs,useValue:"browser"},{provide:sx,useValue:function bX(){RE.makeCurrent()},multi:!0},{provide:tn,useFactory:function wX(){return function h9(t){Ib=t}(document),document},deps:[]}],IX=KO(JJ,"browser",ik),TX=new Z(""),ok=[{provide:Im,useClass:class sX{addToWindow(e){dt.getAngularTestability=(r,i=!0)=>{const o=e.findTestabilityInTree(r,i);if(null==o)throw new L(5103,!1);return o},dt.getAllAngularTestabilities=()=>e.getAllTestabilities(),dt.getAllAngularRootElements=()=>e.getAllRootElements(),dt.frameworkStabilizers||(dt.frameworkStabilizers=[]),dt.frameworkStabilizers.push(r=>{const i=dt.getAllAngularTestabilities();let o=i.length,s=!1;const a=function(u){s=s||u,o--,0==o&&r(s)};i.forEach(u=>{u.whenStable(a)})})}findTestabilityInTree(e,n,r){return null==n?null:e.getTestability(n)??(r?ys().isShadowRoot(n)?this.findTestabilityInTree(e,n.host,!0):this.findTestabilityInTree(e,n.parentElement,!0):null)}},deps:[]},{provide:HO,useClass:J1,deps:[Te,Y1,Im]},{provide:J1,useClass:J1,deps:[Te,Y1,Im]}],sk=[{provide:Mb,useValue:"root"},{provide:Co,useFactory:function EX(){return new Co},deps:[]},{provide:PE,useClass:mX,multi:!0,deps:[tn,Te,hs]},{provide:PE,useClass:vX,multi:!0,deps:[tn]},X3,J3,K3,{provide:Wb,useExisting:X3},{provide:H3,useClass:aX,deps:[]},[]];let CX=(()=>{class t{constructor(n){}static withServerTransition(n){return{ngModule:t,providers:[{provide:zg,useValue:n.appId}]}}static#e=this.\u0275fac=function(r){return new(r||t)(j(TX,12))};static#t=this.\u0275mod=Me({type:t});static#n=this.\u0275inj=Re({providers:[...sk,...ok],imports:[AZ,YJ]})}return t})(),ak=(()=>{class t{constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}static#e=this.\u0275fac=function(r){return new(r||t)(j(tn))};static#t=this.\u0275prov=G({token:t,factory:function(r){let i=null;return i=r?new r:function SX(){return new ak(j(tn))}(),i},providedIn:"root"})}return t})();typeof window<"u"&&window;const{isArray:NX}=Array,{getPrototypeOf:MX,prototype:OX,keys:kX}=Object;function dk(t){if(1===t.length){const e=t[0];if(NX(e))return{args:e,keys:null};if(function FX(t){return t&&"object"==typeof t&&MX(t)===OX}(e)){const n=kX(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}const{isArray:VX}=Array;function VE(t){return ve(e=>function LX(t,e){return VX(e)?t(...e):t(e)}(t,e))}function hk(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}let fk=(()=>{class t{constructor(n,r){this._renderer=n,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(n,r){this._renderer.setProperty(this._elementRef.nativeElement,n,r)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}static#e=this.\u0275fac=function(r){return new(r||t)(E(Ur),E(Qe))};static#t=this.\u0275dir=W({type:t})}return t})(),Ea=(()=>{class t extends fk{static#e=this.\u0275fac=function(){let n;return function(i){return(n||(n=Gt(t)))(i||t)}}();static#t=this.\u0275dir=W({type:t,features:[Je]})}return t})();const li=new Z("NgValueAccessor"),jX={provide:li,useExisting:De(()=>xo),multi:!0},HX=new Z("CompositionEventMode");let xo=(()=>{class t extends fk{constructor(n,r,i){super(n,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function $X(){const t=ys()?ys().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(n){this.setProperty("value",n??"")}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}static#e=this.\u0275fac=function(r){return new(r||t)(E(Ur),E(Qe),E(HX,8))};static#t=this.\u0275dir=W({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){1&r&&K("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},features:[ut([jX]),Je]})}return t})();function bs(t){return null==t||("string"==typeof t||Array.isArray(t))&&0===t.length}function gk(t){return null!=t&&"number"==typeof t.length}const kn=new Z("NgValidators"),Es=new Z("NgAsyncValidators"),GX=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Ge{static min(e){return function mk(t){return e=>{if(bs(e.value)||bs(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}(e)}static max(e){return function _k(t){return e=>{if(bs(e.value)||bs(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}(e)}static required(e){return function yk(t){return bs(t.value)?{required:!0}:null}(e)}static requiredTrue(e){return function vk(t){return!0===t.value?null:{required:!0}}(e)}static email(e){return function bk(t){return bs(t.value)||GX.test(t.value)?null:{email:!0}}(e)}static minLength(e){return function Ek(t){return e=>bs(e.value)||!gk(e.value)?null:e.value.length<t?{minlength:{requiredLength:t,actualLength:e.value.length}}:null}(e)}static maxLength(e){return function wk(t){return e=>gk(e.value)&&e.value.length>t?{maxlength:{requiredLength:t,actualLength:e.value.length}}:null}(e)}static pattern(e){return function Ik(t){if(!t)return $m;let e,n;return"string"==typeof t?(n="","^"!==t.charAt(0)&&(n+="^"),n+=t,"$"!==t.charAt(t.length-1)&&(n+="$"),e=new RegExp(n)):(n=t.toString(),e=t),r=>{if(bs(r.value))return null;const i=r.value;return e.test(i)?null:{pattern:{requiredPattern:n,actualValue:i}}}}(e)}static nullValidator(e){return null}static compose(e){return Rk(e)}static composeAsync(e){return Pk(e)}}function $m(t){return null}function Tk(t){return null!=t}function Ck(t){return Zd(t)?en(t):t}function Dk(t){let e={};return t.forEach(n=>{e=null!=n?{...e,...n}:e}),0===Object.keys(e).length?null:e}function Sk(t,e){return e.map(n=>n(t))}function Ak(t){return t.map(e=>function zX(t){return!t.validate}(e)?e:n=>e.validate(n))}function Rk(t){if(!t)return null;const e=t.filter(Tk);return 0==e.length?null:function(n){return Dk(Sk(n,e))}}function LE(t){return null!=t?Rk(Ak(t)):null}function Pk(t){if(!t)return null;const e=t.filter(Tk);return 0==e.length?null:function(n){return function BX(...t){const e=Zp(t),{args:n,keys:r}=dk(t),i=new Fe(o=>{const{length:s}=n;if(!s)return void o.complete();const a=new Array(s);let u=s,c=s;for(let l=0;l<s;l++){let d=!1;sn(n[l]).subscribe(lt(o,h=>{d||(d=!0,c--),a[l]=h},()=>u--,void 0,()=>{(!u||!d)&&(c||o.next(r?hk(r,a):a),o.complete())}))}});return e?i.pipe(VE(e)):i}(Sk(n,e).map(Ck)).pipe(ve(Dk))}}function BE(t){return null!=t?Pk(Ak(t)):null}function xk(t,e){return null===t?[e]:Array.isArray(t)?[...t,e]:[t,e]}function Nk(t){return t._rawValidators}function Mk(t){return t._rawAsyncValidators}function UE(t){return t?Array.isArray(t)?t:[t]:[]}function Hm(t,e){return Array.isArray(t)?t.includes(e):t===e}function Ok(t,e){const n=UE(e);return UE(t).forEach(i=>{Hm(n,i)||n.push(i)}),n}function kk(t,e){return UE(e).filter(n=>!Hm(t,n))}class Fk{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=LE(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=BE(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return!!this.control&&this.control.hasError(e,n)}getError(e,n){return this.control?this.control.getError(e,n):null}}class hr extends Fk{get formDirective(){return null}get path(){return null}}class ws extends Fk{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Vk{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let wa=(()=>{class t extends Vk{constructor(n){super(n)}static#e=this.\u0275fac=function(r){return new(r||t)(E(ws,2))};static#t=this.\u0275dir=W({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){2&r&&Oe("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[Je]})}return t})(),Ia=(()=>{class t extends Vk{constructor(n){super(n)}static#e=this.\u0275fac=function(r){return new(r||t)(E(hr,10))};static#t=this.\u0275dir=W({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){2&r&&Oe("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[Je]})}return t})();const mh="VALID",zm="INVALID",xc="PENDING",_h="DISABLED";function HE(t){return(qm(t)?t.validators:t)||null}function GE(t,e){return(qm(e)?e.asyncValidators:t)||null}function qm(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}function Bk(t,e,n){const r=t.controls;if(!(e?Object.keys(r):r).length)throw new L(1e3,"");if(!r[n])throw new L(1001,"")}function Uk(t,e,n){t._forEachChild((r,i)=>{if(void 0===n[i])throw new L(1002,"")})}class Wm{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===mh}get invalid(){return this.status===zm}get pending(){return this.status==xc}get disabled(){return this.status===_h}get enabled(){return this.status!==_h}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(Ok(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(Ok(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(kk(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(kk(e,this._rawAsyncValidators))}hasValidator(e){return Hm(this._rawValidators,e)}hasAsyncValidator(e){return Hm(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(n=>{n.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(n=>{n.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=xc,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const n=this._parentMarkedDirty(e.onlySelf);this.status=_h,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:n}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const n=this._parentMarkedDirty(e.onlySelf);this.status=mh,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:n}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===mh||this.status===xc)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?_h:mh}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=xc,this._hasOwnPendingAsyncValidator=!0;const n=Ck(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(!1!==n.emitEvent)}get(e){let n=e;return null==n||(Array.isArray(n)||(n=n.split(".")),0===n.length)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(e,n){const r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new ae,this.statusChanges=new ae}_calculateStatus(){return this._allControlsDisabled()?_h:this.errors?zm:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(xc)?xc:this._anyControlsHaveStatus(zm)?zm:mh}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){qm(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function QX(t){return Array.isArray(t)?LE(t):t||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function JX(t){return Array.isArray(t)?BE(t):t||null}(this._rawAsyncValidators)}}class yh extends Wm{constructor(e,n,r){super(HE(n),GE(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,r={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){Uk(this,0,e),Object.keys(e).forEach(r=>{Bk(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){null!=e&&(Object.keys(e).forEach(r=>{const i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,r)=>(e[r]=n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,r)=>!!r._syncPendingControls()||n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{const r=this.controls[n];r&&e(r,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[n,r]of Object.entries(this.controls))if(this.contains(n)&&e(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(n,r,i)=>((r.enabled||this.disabled)&&(n[i]=r.value),n))}_reduceChildren(e,n){let r=e;return this._forEachChild((i,o)=>{r=n(r,i,o)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}class jk extends yh{}const Ta=new Z("CallSetDisabledState",{providedIn:"root",factory:()=>vh}),vh="always";function bh(t,e,n=vh){zE(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||"always"===n)&&e.valueAccessor.setDisabledState?.(t.disabled),function ZX(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&$k(t,e)})}(t,e),function eee(t,e){const n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}(t,e),function XX(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&$k(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),function YX(t,e){if(e.valueAccessor.setDisabledState){const n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}(t,e)}function Qm(t,e,n=!0){const r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),Ym(t,e),t&&(e._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}function Jm(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function zE(t,e){const n=Nk(t);null!==e.validator?t.setValidators(xk(n,e.validator)):"function"==typeof n&&t.setValidators([n]);const r=Mk(t);null!==e.asyncValidator?t.setAsyncValidators(xk(r,e.asyncValidator)):"function"==typeof r&&t.setAsyncValidators([r]);const i=()=>t.updateValueAndValidity();Jm(e._rawValidators,i),Jm(e._rawAsyncValidators,i)}function Ym(t,e){let n=!1;if(null!==t){if(null!==e.validator){const i=Nk(t);if(Array.isArray(i)&&i.length>0){const o=i.filter(s=>s!==e.validator);o.length!==i.length&&(n=!0,t.setValidators(o))}}if(null!==e.asyncValidator){const i=Mk(t);if(Array.isArray(i)&&i.length>0){const o=i.filter(s=>s!==e.asyncValidator);o.length!==i.length&&(n=!0,t.setAsyncValidators(o))}}}const r=()=>{};return Jm(e._rawValidators,r),Jm(e._rawAsyncValidators,r),n}function $k(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function zk(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}function qk(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}const wh=class extends Wm{constructor(e=null,n,r){super(HE(n),GE(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),qm(n)&&(n.nonNullable||n.initialValueIsDefault)&&(this.defaultValue=qk(e)?e.value:e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==n.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==n.emitViewToModelChange)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){zk(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){zk(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){qk(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};let Ca=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275dir=W({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}return t})();const cee={provide:li,useExisting:De(()=>Zm),multi:!0};let Zm=(()=>{class t extends Ea{writeValue(n){this.setProperty("value",n??"")}registerOnChange(n){this.onChange=r=>{n(""==r?null:parseFloat(r))}}static#e=this.\u0275fac=function(){let n;return function(i){return(n||(n=Gt(t)))(i||t)}}();static#t=this.\u0275dir=W({type:t,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(r,i){1&r&&K("input",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},features:[ut([cee]),Je]})}return t})(),Yk=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Me({type:t});static#n=this.\u0275inj=Re({})}return t})();const JE=new Z("NgModelWithFormControlWarning"),pee={provide:hr,useExisting:De(()=>No)};let No=(()=>{class t extends hr{constructor(n,r,i){super(),this.callSetDisabledState=i,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new ae,this._setValidators(n),this._setAsyncValidators(r)}ngOnChanges(n){this._checkFormPresent(),n.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Ym(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(n){const r=this.form.get(n.path);return bh(r,n,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(n),r}getControl(n){return this.form.get(n.path)}removeControl(n){Qm(n.control||null,n,!1),function iee(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}(this.directives,n)}addFormGroup(n){this._setUpFormContainer(n)}removeFormGroup(n){this._cleanUpFormContainer(n)}getFormGroup(n){return this.form.get(n.path)}addFormArray(n){this._setUpFormContainer(n)}removeFormArray(n){this._cleanUpFormContainer(n)}getFormArray(n){return this.form.get(n.path)}updateModel(n,r){this.form.get(n.path).setValue(r)}onSubmit(n){return this.submitted=!0,function Gk(t,e){t._syncPendingControls(),e.forEach(n=>{const r=n.control;"submit"===r.updateOn&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(n),"dialog"===n?.target?.method}onReset(){this.resetForm()}resetForm(n=void 0){this.form.reset(n),this.submitted=!1}_updateDomValue(){this.directives.forEach(n=>{const r=n.control,i=this.form.get(n.path);r!==i&&(Qm(r||null,n),(t=>t instanceof wh)(i)&&(bh(i,n,this.callSetDisabledState),n.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(n){const r=this.form.get(n.path);(function Hk(t,e){zE(t,e)})(r,n),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(n){if(this.form){const r=this.form.get(n.path);r&&function tee(t,e){return Ym(t,e)}(r,n)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){zE(this.form,this),this._oldForm&&Ym(this._oldForm,this)}_checkFormPresent(){}static#e=this.\u0275fac=function(r){return new(r||t)(E(kn,10),E(Es,10),E(Ta,8))};static#t=this.\u0275dir=W({type:t,selectors:[["","formGroup",""]],hostBindings:function(r,i){1&r&&K("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[ut([pee]),Je,Rn]})}return t})();const _ee={provide:ws,useExisting:De(()=>Is)};let Is=(()=>{class t extends ws{set isDisabled(n){}static#e=this._ngModelWarningSentOnce=!1;constructor(n,r,i,o,s){super(),this._ngModelWarningConfig=s,this._added=!1,this.name=null,this.update=new ae,this._ngModelWarningSent=!1,this._parent=n,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=function KE(t,e){if(!e)return null;let n,r,i;return Array.isArray(e),e.forEach(o=>{o.constructor===xo?n=o:function ree(t){return Object.getPrototypeOf(t.constructor)===Ea}(o)?r=o:i=o}),i||r||n||null}(0,o)}ngOnChanges(n){this._added||this._setUpControl(),function WE(t,e){if(!t.hasOwnProperty("model"))return!1;const n=t.model;return!!n.isFirstChange()||!Object.is(e,n.currentValue)}(n,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}get path(){return function Km(t,e){return[...e.path,t]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static#t=this.\u0275fac=function(r){return new(r||t)(E(hr,13),E(kn,10),E(Es,10),E(li,10),E(JE,8))};static#n=this.\u0275dir=W({type:t,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[ut([_ee]),Je,Rn]})}return t})();const yee={provide:li,useExisting:De(()=>Xm),multi:!0};function n2(t,e){return null==t?`${e}`:(e&&"object"==typeof e&&(e="Object"),`${t}: ${e}`.slice(0,50))}let Xm=(()=>{class t extends Ea{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(n){this._compareWith=n}writeValue(n){this.value=n;const i=n2(this._getOptionId(n),n);this.setProperty("value",i)}registerOnChange(n){this.onChange=r=>{this.value=this._getOptionValue(r),n(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(n){for(const r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r),n))return r;return null}_getOptionValue(n){const r=function vee(t){return t.split(":")[0]}(n);return this._optionMap.has(r)?this._optionMap.get(r):n}static#e=this.\u0275fac=function(){let n;return function(i){return(n||(n=Gt(t)))(i||t)}}();static#t=this.\u0275dir=W({type:t,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(r,i){1&r&&K("change",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[ut([yee]),Je]})}return t})(),r2=(()=>{class t{constructor(n,r,i){this._element=n,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(n){null!=this._select&&(this._select._optionMap.set(this.id,n),this._setElementValue(n2(this.id,n)),this._select.writeValue(this._select.value))}set value(n){this._setElementValue(n),this._select&&this._select.writeValue(this._select.value)}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static#e=this.\u0275fac=function(r){return new(r||t)(E(Qe),E(Ur),E(Xm,9))};static#t=this.\u0275dir=W({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}return t})();const bee={provide:li,useExisting:De(()=>XE),multi:!0};function i2(t,e){return null==t?`${e}`:("string"==typeof e&&(e=`'${e}'`),e&&"object"==typeof e&&(e="Object"),`${t}: ${e}`.slice(0,50))}let XE=(()=>{class t extends Ea{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(n){this._compareWith=n}writeValue(n){let r;if(this.value=n,Array.isArray(n)){const i=n.map(o=>this._getOptionId(o));r=(o,s)=>{o._setSelected(i.indexOf(s.toString())>-1)}}else r=(i,o)=>{i._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(n){this.onChange=r=>{const i=[],o=r.selectedOptions;if(void 0!==o){const s=o;for(let a=0;a<s.length;a++){const c=this._getOptionValue(s[a].value);i.push(c)}}else{const s=r.options;for(let a=0;a<s.length;a++){const u=s[a];if(u.selected){const c=this._getOptionValue(u.value);i.push(c)}}}this.value=i,n(i)}}_registerOption(n){const r=(this._idCounter++).toString();return this._optionMap.set(r,n),r}_getOptionId(n){for(const r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r)._value,n))return r;return null}_getOptionValue(n){const r=function Eee(t){return t.split(":")[0]}(n);return this._optionMap.has(r)?this._optionMap.get(r)._value:n}static#e=this.\u0275fac=function(){let n;return function(i){return(n||(n=Gt(t)))(i||t)}}();static#t=this.\u0275dir=W({type:t,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(r,i){1&r&&K("change",function(s){return i.onChange(s.target)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[ut([bee]),Je]})}return t})(),o2=(()=>{class t{constructor(n,r,i){this._element=n,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(n){null!=this._select&&(this._value=n,this._setElementValue(i2(this.id,n)),this._select.writeValue(this._select.value))}set value(n){this._select?(this._value=n,this._setElementValue(i2(this.id,n)),this._select.writeValue(this._select.value)):this._setElementValue(n)}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}_setSelected(n){this._renderer.setProperty(this._element.nativeElement,"selected",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static#e=this.\u0275fac=function(r){return new(r||t)(E(Qe),E(Ur),E(XE,9))};static#t=this.\u0275dir=W({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}return t})(),g2=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Me({type:t});static#n=this.\u0275inj=Re({imports:[Yk]})}return t})();class m2 extends Wm{constructor(e,n,r){super(HE(n),GE(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[this._adjustIndex(e)]}push(e,n={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}insert(e,n,r={}){this.controls.splice(e,0,n),this._registerControl(n),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,n={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:n.emitEvent})}setControl(e,n,r={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),n&&(this.controls.splice(i,0,n),this._registerControl(n)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,n={}){Uk(this,0,e),e.forEach((r,i)=>{Bk(this,!1,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){null!=e&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e=[],n={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(n=>n._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((n,r)=>!!r._syncPendingControls()||n,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((n,r)=>{e(n,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(n=>n.enabled&&e(n))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}}function _2(t){return!!t&&(void 0!==t.asyncValidators||void 0!==t.validators||void 0!==t.updateOn)}let Nc=(()=>{class t{constructor(){this.useNonNullable=!1}get nonNullable(){const n=new t;return n.useNonNullable=!0,n}group(n,r=null){const i=this._reduceControls(n);let o={};return _2(r)?o=r:null!==r&&(o.validators=r.validator,o.asyncValidators=r.asyncValidator),new yh(i,o)}record(n,r=null){const i=this._reduceControls(n);return new jk(i,r)}control(n,r,i){let o={};return this.useNonNullable?(_2(r)?o=r:(o.validators=r,o.asyncValidators=i),new wh(n,{...o,nonNullable:!0})):new wh(n,r,i)}array(n,r,i){const o=n.map(s=>this._createControl(s));return new m2(o,r,i)}_reduceControls(n){const r={};return Object.keys(n).forEach(i=>{r[i]=this._createControl(n[i])}),r}_createControl(n){return n instanceof wh||n instanceof Wm?n:Array.isArray(n)?this.control(n[0],n.length>1?n[1]:null,n.length>2?n[2]:null):this.control(n)}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Pee=(()=>{class t{static withConfig(n){return{ngModule:t,providers:[{provide:Ta,useValue:n.callSetDisabledState??vh}]}}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Me({type:t});static#n=this.\u0275inj=Re({imports:[g2]})}return t})(),xee=(()=>{class t{static withConfig(n){return{ngModule:t,providers:[{provide:JE,useValue:n.warnOnNgModelWithFormControl??"always"},{provide:Ta,useValue:n.callSetDisabledState??vh}]}}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Me({type:t});static#n=this.\u0275inj=Re({imports:[g2]})}return t})();function Mc(t,e){return Ce(e)?an(t,e,1):an(t,1)}function dn(t,e){return St((n,r)=>{let i=0;n.subscribe(lt(r,o=>t.call(e,o,i++)&&r.next(o)))})}function Ih(t){return St((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}class e_{}class t_{}class Yi{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?"string"==typeof e?this.lazyInit=()=>{this.headers=new Map,e.split("\n").forEach(n=>{const r=n.indexOf(":");if(r>0){const i=n.slice(0,r),o=i.toLowerCase(),s=n.slice(r+1).trim();this.maybeSetNormalizedName(i,o),this.headers.has(o)?this.headers.get(o).push(s):this.headers.set(o,[s])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((n,r)=>{this.setHeaderEntries(r,n)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([n,r])=>{this.setHeaderEntries(n,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const n=this.headers.get(e.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,n){return this.clone({name:e,value:n,op:"a"})}set(e,n){return this.clone({name:e,value:n,op:"s"})}delete(e,n){return this.clone({name:e,value:n,op:"d"})}maybeSetNormalizedName(e,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,e)}init(){this.lazyInit&&(this.lazyInit instanceof Yi?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(n=>{this.headers.set(n,e.headers.get(n)),this.normalizedNames.set(n,e.normalizedNames.get(n))})}clone(e){const n=new Yi;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof Yi?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([e]),n}applyUpdate(e){const n=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(e.name,n);const i=("a"===e.op?this.headers.get(n):void 0)||[];i.push(...r),this.headers.set(n,i);break;case"d":const o=e.value;if(o){let s=this.headers.get(n);if(!s)return;s=s.filter(a=>-1===o.indexOf(a)),0===s.length?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,s)}else this.headers.delete(n),this.normalizedNames.delete(n)}}setHeaderEntries(e,n){const r=(Array.isArray(n)?n:[n]).map(o=>o.toString()),i=e.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(e,i)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>e(this.normalizedNames.get(n),this.headers.get(n)))}}class Nee{encodeKey(e){return y2(e)}encodeValue(e){return y2(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const Oee=/%(\d[a-f0-9])/gi,kee={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function y2(t){return encodeURIComponent(t).replace(Oee,(e,n)=>kee[n]??e)}function n_(t){return`${t}`}class Ts{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new Nee,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function Mee(t,e){const n=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(i=>{const o=i.indexOf("="),[s,a]=-1==o?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,o)),e.decodeValue(i.slice(o+1))],u=n.get(s)||[];u.push(a),n.set(s,u)}),n}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(n=>{const r=e.fromObject[n],i=Array.isArray(r)?r.map(n_):[n_(r)];this.map.set(n,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const n=this.map.get(e);return n?n[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,n){return this.clone({param:e,value:n,op:"a"})}appendAll(e){const n=[];return Object.keys(e).forEach(r=>{const i=e[r];Array.isArray(i)?i.forEach(o=>{n.push({param:r,value:o,op:"a"})}):n.push({param:r,value:i,op:"a"})}),this.clone(n)}set(e,n){return this.clone({param:e,value:n,op:"s"})}delete(e,n){return this.clone({param:e,value:n,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const n=this.encoder.encodeKey(e);return this.map.get(e).map(r=>n+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const n=new Ts({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat(e),n}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const n=("a"===e.op?this.map.get(e.param):void 0)||[];n.push(n_(e.value)),this.map.set(e.param,n);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let r=this.map.get(e.param)||[];const i=r.indexOf(n_(e.value));-1!==i&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class Fee{constructor(){this.map=new Map}set(e,n){return this.map.set(e,n),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function v2(t){return typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer}function b2(t){return typeof Blob<"u"&&t instanceof Blob}function E2(t){return typeof FormData<"u"&&t instanceof FormData}class Th{constructor(e,n,r,i){let o;if(this.url=n,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function Vee(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==r?r:null,o=i):o=r,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params)),this.headers||(this.headers=new Yi),this.context||(this.context=new Fee),this.params){const s=this.params.toString();if(0===s.length)this.urlWithParams=n;else{const a=n.indexOf("?");this.urlWithParams=n+(-1===a?"?":a<n.length-1?"&":"")+s}}else this.params=new Ts,this.urlWithParams=n}serializeBody(){return null===this.body?null:v2(this.body)||b2(this.body)||E2(this.body)||function Lee(t){return typeof URLSearchParams<"u"&&t instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Ts?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||E2(this.body)?null:b2(this.body)?this.body.type||null:v2(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Ts?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){const n=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,o=void 0!==e.body?e.body:this.body,s=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,a=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let u=e.headers||this.headers,c=e.params||this.params;const l=e.context??this.context;return void 0!==e.setHeaders&&(u=Object.keys(e.setHeaders).reduce((d,h)=>d.set(h,e.setHeaders[h]),u)),e.setParams&&(c=Object.keys(e.setParams).reduce((d,h)=>d.set(h,e.setParams[h]),c)),new Th(n,r,o,{params:c,headers:u,context:l,reportProgress:a,responseType:i,withCredentials:s})}}var Oc=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}(Oc||{});class tw{constructor(e,n=200,r="OK"){this.headers=e.headers||new Yi,this.status=void 0!==e.status?e.status:n,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class nw extends tw{constructor(e={}){super(e),this.type=Oc.ResponseHeader}clone(e={}){return new nw({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class kc extends tw{constructor(e={}){super(e),this.type=Oc.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new kc({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class w2 extends tw{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${e.url||"(unknown url)"}`:`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function rw(t,e){return{body:e,headers:t.headers,context:t.context,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials}}let Fc=(()=>{class t{constructor(n){this.handler=n}request(n,r,i={}){let o;if(n instanceof Th)o=n;else{let u,c;u=i.headers instanceof Yi?i.headers:new Yi(i.headers),i.params&&(c=i.params instanceof Ts?i.params:new Ts({fromObject:i.params})),o=new Th(n,r,void 0!==i.body?i.body:null,{headers:u,context:i.context,params:c,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials})}const s=ce(o).pipe(Mc(u=>this.handler.handle(u)));if(n instanceof Th||"events"===i.observe)return s;const a=s.pipe(dn(u=>u instanceof kc));switch(i.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return a.pipe(ve(u=>{if(null!==u.body&&!(u.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return u.body}));case"blob":return a.pipe(ve(u=>{if(null!==u.body&&!(u.body instanceof Blob))throw new Error("Response is not a Blob.");return u.body}));case"text":return a.pipe(ve(u=>{if(null!==u.body&&"string"!=typeof u.body)throw new Error("Response is not a string.");return u.body}));default:return a.pipe(ve(u=>u.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(n,r={}){return this.request("DELETE",n,r)}get(n,r={}){return this.request("GET",n,r)}head(n,r={}){return this.request("HEAD",n,r)}jsonp(n,r){return this.request("JSONP",n,{params:(new Ts).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(n,r={}){return this.request("OPTIONS",n,r)}patch(n,r,i={}){return this.request("PATCH",n,rw(i,r))}post(n,r,i={}){return this.request("POST",n,rw(i,r))}put(n,r,i={}){return this.request("PUT",n,rw(i,r))}static#e=this.\u0275fac=function(r){return new(r||t)(j(e_))};static#t=this.\u0275prov=G({token:t,factory:t.\u0275fac})}return t})();function C2(t,e){return e(t)}function Uee(t,e){return(n,r)=>e.intercept(n,{handle:i=>t(i,r)})}const $ee=new Z(""),Ch=new Z(""),D2=new Z("");function Hee(){let t=null;return(e,n)=>{null===t&&(t=(z($ee,{optional:!0})??[]).reduceRight(Uee,C2));const r=z(Em),i=r.add();return t(e,n).pipe(Ih(()=>r.remove(i)))}}let S2=(()=>{class t extends e_{constructor(n,r){super(),this.backend=n,this.injector=r,this.chain=null,this.pendingTasks=z(Em)}handle(n){if(null===this.chain){const i=Array.from(new Set([...this.injector.get(Ch),...this.injector.get(D2,[])]));this.chain=i.reduceRight((o,s)=>function jee(t,e,n){return(r,i)=>n.runInContext(()=>e(r,o=>t(o,i)))}(o,s,this.injector),C2)}const r=this.pendingTasks.add();return this.chain(n,i=>this.backend.handle(i)).pipe(Ih(()=>this.pendingTasks.remove(r)))}static#e=this.\u0275fac=function(r){return new(r||t)(j(t_),j(ar))};static#t=this.\u0275prov=G({token:t,factory:t.\u0275fac})}return t})();const Wee=/^\)\]\}',?\n/;let R2=(()=>{class t{constructor(n){this.xhrFactory=n}handle(n){if("JSONP"===n.method)throw new L(-2800,!1);const r=this.xhrFactory;return(r.\u0275loadImpl?en(r.\u0275loadImpl()):ce(null)).pipe(ei(()=>new Fe(o=>{const s=r.build();if(s.open(n.method,n.urlWithParams),n.withCredentials&&(s.withCredentials=!0),n.headers.forEach((y,v)=>s.setRequestHeader(y,v.join(","))),n.headers.has("Accept")||s.setRequestHeader("Accept","application/json, text/plain, */*"),!n.headers.has("Content-Type")){const y=n.detectContentTypeHeader();null!==y&&s.setRequestHeader("Content-Type",y)}if(n.responseType){const y=n.responseType.toLowerCase();s.responseType="json"!==y?y:"text"}const a=n.serializeBody();let u=null;const c=()=>{if(null!==u)return u;const y=s.statusText||"OK",v=new Yi(s.getAllResponseHeaders()),T=function Kee(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}(s)||n.url;return u=new nw({headers:v,status:s.status,statusText:y,url:T}),u},l=()=>{let{headers:y,status:v,statusText:T,url:b}=c(),C=null;204!==v&&(C=typeof s.response>"u"?s.responseText:s.response),0===v&&(v=C?200:0);let R=v>=200&&v<300;if("json"===n.responseType&&"string"==typeof C){const M=C;C=C.replace(Wee,"");try{C=""!==C?JSON.parse(C):null}catch($){C=M,R&&(R=!1,C={error:$,text:C})}}R?(o.next(new kc({body:C,headers:y,status:v,statusText:T,url:b||void 0})),o.complete()):o.error(new w2({error:C,headers:y,status:v,statusText:T,url:b||void 0}))},d=y=>{const{url:v}=c(),T=new w2({error:y,status:s.status||0,statusText:s.statusText||"Unknown Error",url:v||void 0});o.error(T)};let h=!1;const f=y=>{h||(o.next(c()),h=!0);let v={type:Oc.DownloadProgress,loaded:y.loaded};y.lengthComputable&&(v.total=y.total),"text"===n.responseType&&s.responseText&&(v.partialText=s.responseText),o.next(v)},m=y=>{let v={type:Oc.UploadProgress,loaded:y.loaded};y.lengthComputable&&(v.total=y.total),o.next(v)};return s.addEventListener("load",l),s.addEventListener("error",d),s.addEventListener("timeout",d),s.addEventListener("abort",d),n.reportProgress&&(s.addEventListener("progress",f),null!==a&&s.upload&&s.upload.addEventListener("progress",m)),s.send(a),o.next({type:Oc.Sent}),()=>{s.removeEventListener("error",d),s.removeEventListener("abort",d),s.removeEventListener("load",l),s.removeEventListener("timeout",d),n.reportProgress&&(s.removeEventListener("progress",f),null!==a&&s.upload&&s.upload.removeEventListener("progress",m)),s.readyState!==s.DONE&&s.abort()}})))}static#e=this.\u0275fac=function(r){return new(r||t)(j(H3))};static#t=this.\u0275prov=G({token:t,factory:t.\u0275fac})}return t})();const iw=new Z("XSRF_ENABLED"),P2=new Z("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),x2=new Z("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class N2{}let Yee=(()=>{class t{constructor(n,r,i){this.doc=n,this.platform=r,this.cookieName=i,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const n=this.doc.cookie||"";return n!==this.lastCookieString&&(this.parseCount++,this.lastToken=O3(n,this.cookieName),this.lastCookieString=n),this.lastToken}static#e=this.\u0275fac=function(r){return new(r||t)(j(tn),j(hs),j(P2))};static#t=this.\u0275prov=G({token:t,factory:t.\u0275fac})}return t})();function Zee(t,e){const n=t.url.toLowerCase();if(!z(iw)||"GET"===t.method||"HEAD"===t.method||n.startsWith("http://")||n.startsWith("https://"))return e(t);const r=z(N2).getToken(),i=z(x2);return null!=r&&!t.headers.has(i)&&(t=t.clone({headers:t.headers.set(i,r)})),e(t)}var Cs=function(t){return t[t.Interceptors=0]="Interceptors",t[t.LegacyInterceptors=1]="LegacyInterceptors",t[t.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",t[t.NoXsrfProtection=3]="NoXsrfProtection",t[t.JsonpSupport=4]="JsonpSupport",t[t.RequestsMadeViaParent=5]="RequestsMadeViaParent",t[t.Fetch=6]="Fetch",t}(Cs||{});function Xee(...t){const e=[Fc,R2,S2,{provide:e_,useExisting:S2},{provide:t_,useExisting:R2},{provide:Ch,useValue:Zee,multi:!0},{provide:iw,useValue:!0},{provide:N2,useClass:Yee}];for(const n of t)e.push(...n.\u0275providers);return function Pb(t){return{\u0275providers:t}}(e)}const M2=new Z("LEGACY_INTERCEPTOR_FN");function ete(){return function Sa(t,e){return{\u0275kind:t,\u0275providers:e}}(Cs.LegacyInterceptors,[{provide:M2,useFactory:Hee},{provide:Ch,useExisting:M2,multi:!0}])}let tte=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Me({type:t});static#n=this.\u0275inj=Re({providers:[Xee(ete())]})}return t})();function ow(...t){const e=dd(t),n=Zp(t),{args:r,keys:i}=dk(t);if(0===r.length)return en([],e);const o=new Fe(function ute(t,e,n=_i){return r=>{O2(e,()=>{const{length:i}=t,o=new Array(i);let s=i,a=i;for(let u=0;u<i;u++)O2(e,()=>{const c=en(t[u],e);let l=!1;c.subscribe(lt(r,d=>{o[u]=d,l||(l=!0,a--),a||r.next(n(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}(r,e,i?s=>hk(i,s):_i));return n?o.pipe(VE(n)):o}function O2(t,e,n){t?yo(n,t,e):e()}const i_=es(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function Dh(...t){return function cte(){return Ru(1)}()(en(t,dd(t)))}function k2(t){return new Fe(e=>{sn(t()).subscribe(e)})}function Sh(t,e){const n=Ce(t)?t:()=>t,r=i=>i.error(n());return new Fe(e?i=>e.schedule(r,0,i):r)}function sw(){return St((t,e)=>{let n=null;t._refCount++;const r=lt(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount)return void(n=null);const i=t._connection,o=n;n=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}class F2 extends Fe{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,cd(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Ut;const n=this.getSubject();e.add(this.source.subscribe(lt(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Ut.EMPTY)}return e}refCount(){return sw()(this)}}function Fn(t){return t<=0?()=>Zr:St((e,n)=>{let r=0;e.subscribe(lt(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function o_(t){return St((e,n)=>{let r=!1;e.subscribe(lt(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function L2(t=lte){return St((e,n)=>{let r=!1;e.subscribe(lt(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function lte(){return new i_}function Aa(t,e){const n=arguments.length>=2;return r=>r.pipe(t?dn((i,o)=>t(i,o,r)):_i,Fn(1),n?o_(e):L2(()=>new i_))}function hn(t,e,n){const r=Ce(t)||e||n?{next:t,error:e,complete:n}:t;return r?St((i,o)=>{var s;null===(s=r.subscribe)||void 0===s||s.call(r);let a=!0;i.subscribe(lt(o,u=>{var c;null===(c=r.next)||void 0===c||c.call(r,u),o.next(u)},()=>{var u;a=!1,null===(u=r.complete)||void 0===u||u.call(r),o.complete()},u=>{var c;a=!1,null===(c=r.error)||void 0===c||c.call(r,u),o.error(u)},()=>{var u,c;a&&(null===(u=r.unsubscribe)||void 0===u||u.call(r)),null===(c=r.finalize)||void 0===c||c.call(r)}))}):_i}function Ra(t){return St((e,n)=>{let o,r=null,i=!1;r=e.subscribe(lt(n,void 0,void 0,s=>{o=sn(t(s,Ra(t)(e))),r?(r.unsubscribe(),r=null,o.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(n))})}function aw(t){return t<=0?()=>Zr:St((e,n)=>{let r=[];e.subscribe(lt(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(const i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function kt(t){return St((e,n)=>{sn(t).subscribe(lt(n,()=>n.complete(),ta)),!n.closed&&e.subscribe(n)})}const be="primary",Ah=Symbol("RouteTitle");class pte{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}}function Vc(t){return new pte(t)}function gte(t,e,n){const r=n.path.split("/");if(r.length>t.length||"full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;const i={};for(let o=0;o<r.length;o++){const s=r[o],a=t[o];if(s.startsWith(":"))i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function Zi(t,e){const n=t?Object.keys(t):void 0,r=e?Object.keys(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!U2(t[i],e[i]))return!1;return!0}function U2(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;const n=[...t].sort(),r=[...e].sort();return n.every((i,o)=>r[o]===i)}return t===e}function j2(t){return t.length>0?t[t.length-1]:null}function Ds(t){return function ate(t){return!!t&&(t instanceof Fe||Ce(t.lift)&&Ce(t.subscribe))}(t)?t:Zd(t)?en(Promise.resolve(t)):ce(t)}const _te={exact:function G2(t,e,n){if(!Pa(t.segments,e.segments)||!s_(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!t.children[r]||!G2(t.children[r],e.children[r],n))return!1;return!0},subset:z2},$2={exact:function yte(t,e){return Zi(t,e)},subset:function vte(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>U2(t[n],e[n]))},ignored:()=>!0};function H2(t,e,n){return _te[n.paths](t.root,e.root,n.matrixParams)&&$2[n.queryParams](t.queryParams,e.queryParams)&&!("exact"===n.fragment&&t.fragment!==e.fragment)}function z2(t,e,n){return q2(t,e,e.segments,n)}function q2(t,e,n,r){if(t.segments.length>n.length){const i=t.segments.slice(0,n.length);return!(!Pa(i,n)||e.hasChildren()||!s_(i,n,r))}if(t.segments.length===n.length){if(!Pa(t.segments,n)||!s_(t.segments,n,r))return!1;for(const i in e.children)if(!t.children[i]||!z2(t.children[i],e.children[i],r))return!1;return!0}{const i=n.slice(0,t.segments.length),o=n.slice(t.segments.length);return!!(Pa(t.segments,i)&&s_(t.segments,i,r)&&t.children[be])&&q2(t.children[be],e,o,r)}}function s_(t,e,n){return e.every((r,i)=>$2[n](t[i].parameters,r.parameters))}class Lc{constructor(e=new it([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Vc(this.queryParams)),this._queryParamMap}toString(){return wte.serialize(this)}}class it{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return a_(this)}}class Rh{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap||(this._parameterMap=Vc(this.parameters)),this._parameterMap}toString(){return Q2(this)}}function Pa(t,e){return t.length===e.length&&t.every((n,r)=>n.path===e[r].path)}let Ph=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=G({token:t,factory:function(){return new uw},providedIn:"root"})}return t})();class uw{parse(e){const n=new Mte(e);return new Lc(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){const n=`/${xh(e.root,!0)}`,r=function Cte(t){const e=Object.keys(t).map(n=>{const r=t[n];return Array.isArray(r)?r.map(i=>`${u_(n)}=${u_(i)}`).join("&"):`${u_(n)}=${u_(r)}`}).filter(n=>!!n);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${n}${r}${"string"==typeof e.fragment?`#${function Ite(t){return encodeURI(t)}(e.fragment)}`:""}`}}const wte=new uw;function a_(t){return t.segments.map(e=>Q2(e)).join("/")}function xh(t,e){if(!t.hasChildren())return a_(t);if(e){const n=t.children[be]?xh(t.children[be],!1):"",r=[];return Object.entries(t.children).forEach(([i,o])=>{i!==be&&r.push(`${i}:${xh(o,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}{const n=function Ete(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===be&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==be&&(n=n.concat(e(i,r)))}),n}(t,(r,i)=>i===be?[xh(t.children[be],!1)]:[`${i}:${xh(r,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children[be]?`${a_(t)}/${n[0]}`:`${a_(t)}/(${n.join("//")})`}}function W2(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function u_(t){return W2(t).replace(/%3B/gi,";")}function cw(t){return W2(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function c_(t){return decodeURIComponent(t)}function K2(t){return c_(t.replace(/\+/g,"%20"))}function Q2(t){return`${cw(t.path)}${function Tte(t){return Object.keys(t).map(e=>`;${cw(e)}=${cw(t[e])}`).join("")}(t.parameters)}`}const Dte=/^[^\/()?;#]+/;function lw(t){const e=t.match(Dte);return e?e[0]:""}const Ste=/^[^\/()?;=#]+/,Rte=/^[^=?&#]+/,xte=/^[^&#]+/;class Mte{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new it([],{}):new it([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[be]=new it(e,n)),r}parseSegment(){const e=lw(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new L(4009,!1);return this.capture(e),new Rh(c_(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const n=function Ate(t){const e=t.match(Ste);return e?e[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const i=lw(this.remaining);i&&(r=i,this.capture(r))}e[c_(n)]=c_(r)}parseQueryParam(e){const n=function Pte(t){const e=t.match(Rte);return e?e[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const s=function Nte(t){const e=t.match(xte);return e?e[0]:""}(this.remaining);s&&(r=s,this.capture(r))}const i=K2(n),o=K2(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){const n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=lw(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new L(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=be);const s=this.parseChildren();n[o]=1===Object.keys(s).length?s[be]:new it([],s),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new L(4011,!1)}}function J2(t){return t.segments.length>0?new it([],{[be]:t}):t}function Y2(t){const e={};for(const r of Object.keys(t.children)){const o=Y2(t.children[r]);if(r===be&&0===o.segments.length&&o.hasChildren())for(const[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}return function Ote(t){if(1===t.numberOfChildren&&t.children[be]){const e=t.children[be];return new it(t.segments.concat(e.segments),e.children)}return t}(new it(t.segments,e))}function xa(t){return t instanceof Lc}function Z2(t){let e;const i=J2(function n(o){const s={};for(const u of o.children){const c=n(u);s[u.outlet]=c}const a=new it(o.url,s);return o===t&&(e=a),a}(t.root));return e??i}function X2(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(0===e.length)return dw(i,i,i,n,r);const o=function Fte(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new tF(!0,0,t);let e=0,n=!1;const r=t.reduce((i,o,s)=>{if("object"==typeof o&&null!=o){if(o.outlets){const a={};return Object.entries(o.outlets).forEach(([u,c])=>{a[u]="string"==typeof c?c.split("/"):c}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return"string"!=typeof o?[...i,o]:0===s?(o.split("/").forEach((a,u)=>{0==u&&"."===a||(0==u&&""===a?n=!0:".."===a?e++:""!=a&&i.push(a))}),i):[...i,o]},[]);return new tF(n,e,r)}(e);if(o.toRoot())return dw(i,i,new it([],{}),n,r);const s=function Vte(t,e,n){if(t.isAbsolute)return new d_(e,!0,0);if(!n)return new d_(e,!1,NaN);if(null===n.parent)return new d_(n,!0,0);const r=l_(t.commands[0])?0:1;return function Lte(t,e,n){let r=t,i=e,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new L(4005,!1);i=r.segments.length}return new d_(r,!1,i-o)}(n,n.segments.length-1+r,t.numberOfDoubleDots)}(o,i,t),a=s.processChildren?Mh(s.segmentGroup,s.index,o.commands):nF(s.segmentGroup,s.index,o.commands);return dw(i,s.segmentGroup,a,n,r)}function l_(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function Nh(t){return"object"==typeof t&&null!=t&&t.outlets}function dw(t,e,n,r,i){let s,o={};r&&Object.entries(r).forEach(([u,c])=>{o[u]=Array.isArray(c)?c.map(l=>`${l}`):`${c}`}),s=t===e?n:eF(t,e,n);const a=J2(Y2(s));return new Lc(a,o,i)}function eF(t,e,n){const r={};return Object.entries(t.children).forEach(([i,o])=>{r[i]=o===e?n:eF(o,e,n)}),new it(t.segments,r)}class tF{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&l_(r[0]))throw new L(4003,!1);const i=r.find(Nh);if(i&&i!==j2(r))throw new L(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class d_{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}}function nF(t,e,n){if(t||(t=new it([],{})),0===t.segments.length&&t.hasChildren())return Mh(t,e,n);const r=function Ute(t,e,n){let r=0,i=e;const o={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return o;const s=t.segments[i],a=n[r];if(Nh(a))break;const u=`${a}`,c=r<n.length-1?n[r+1]:null;if(i>0&&void 0===u)break;if(u&&c&&"object"==typeof c&&void 0===c.outlets){if(!iF(u,c,s))return o;r+=2}else{if(!iF(u,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const o=new it(t.segments.slice(0,r.pathIndex),{});return o.children[be]=new it(t.segments.slice(r.pathIndex),t.children),Mh(o,0,i)}return r.match&&0===i.length?new it(t.segments,{}):r.match&&!t.hasChildren()?hw(t,e,n):r.match?Mh(t,0,i):hw(t,e,n)}function Mh(t,e,n){if(0===n.length)return new it(t.segments,{});{const r=function Bte(t){return Nh(t[0])?t[0].outlets:{[be]:t}}(n),i={};if(Object.keys(r).some(o=>o!==be)&&t.children[be]&&1===t.numberOfChildren&&0===t.children[be].segments.length){const o=Mh(t.children[be],e,n);return new it(t.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{"string"==typeof s&&(s=[s]),null!==s&&(i[o]=nF(t.children[o],e,s))}),Object.entries(t.children).forEach(([o,s])=>{void 0===r[o]&&(i[o]=s)}),new it(t.segments,i)}}function hw(t,e,n){const r=t.segments.slice(0,e);let i=0;for(;i<n.length;){const o=n[i];if(Nh(o)){const u=jte(o.outlets);return new it(r,u)}if(0===i&&l_(n[0])){r.push(new Rh(t.segments[e].path,rF(n[0]))),i++;continue}const s=Nh(o)?o.outlets[be]:`${o}`,a=i<n.length-1?n[i+1]:null;s&&a&&l_(a)?(r.push(new Rh(s,rF(a))),i+=2):(r.push(new Rh(s,{})),i++)}return new it(r,{})}function jte(t){const e={};return Object.entries(t).forEach(([n,r])=>{"string"==typeof r&&(r=[r]),null!==r&&(e[n]=hw(new it([],{}),0,r))}),e}function rF(t){const e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function iF(t,e,n){return t==n.path&&Zi(e,n.parameters)}const Oh="imperative";class Xi{constructor(e,n){this.id=e,this.url=n}}class h_ extends Xi{constructor(e,n,r="imperative",i=null){super(e,n),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Mo extends Xi{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class kh extends Xi{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Bc extends Xi{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=16}}class f_ extends Xi{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class oF extends Xi{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class $te extends Xi{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Hte extends Xi{constructor(e,n,r,i,o){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Gte extends Xi{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class zte extends Xi{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class qte{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Wte{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Kte{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Qte{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Jte{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Yte{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class sF{constructor(e,n,r){this.routerEvent=e,this.position=n,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class fw{}class pw{constructor(e){this.url=e}}class Zte{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Fh,this.attachRef=null}}let Fh=(()=>{class t{constructor(){this.contexts=new Map}onChildOutletCreated(n,r){const i=this.getOrCreateContext(n);i.outlet=r,this.contexts.set(n,i)}onChildOutletDestroyed(n){const r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new Zte,this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();class aF{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){const n=gw(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){const n=gw(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){const n=mw(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return mw(e,this._root).map(n=>n.value)}}function gw(t,e){if(t===e.value)return e;for(const n of e.children){const r=gw(t,n);if(r)return r}return null}function mw(t,e){if(t===e.value)return[e];for(const n of e.children){const r=mw(t,n);if(r.length)return r.unshift(e),r}return[]}class Oo{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}}function Uc(t){const e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}class uF extends aF{constructor(e,n){super(e),this.snapshot=n,_w(this,e)}toString(){return this.snapshot.toString()}}function cF(t,e){const n=function Xte(t,e){const s=new p_([],{},{},"",{},be,e,null,{});return new dF("",new Oo(s,[]))}(0,e),r=new Xr([new Rh("",{})]),i=new Xr({}),o=new Xr({}),s=new Xr({}),a=new Xr(""),u=new ko(r,i,s,a,o,be,e,n.root);return u.snapshot=n.root,new uF(new Oo(u,[]),n)}class ko{constructor(e,n,r,i,o,s,a,u){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=u,this.title=this.dataSubject?.pipe(ve(c=>c[Ah]))??ce(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(ve(e=>Vc(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(ve(e=>Vc(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function lF(t,e="emptyOnly"){const n=t.pathFromRoot;let r=0;if("always"!==e)for(r=n.length-1;r>=1;){const i=n[r],o=n[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(o.component)break;r--}}return function ene(t){return t.reduce((e,n)=>({params:{...e.params,...n.params},data:{...e.data,...n.data},resolve:{...n.data,...e.resolve,...n.routeConfig?.data,...n._resolvedData}}),{params:{},data:{},resolve:{}})}(n.slice(r))}class p_{get title(){return this.data?.[Ah]}constructor(e,n,r,i,o,s,a,u,c){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=u,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Vc(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Vc(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class dF extends aF{constructor(e,n){super(n),this.url=e,_w(this,n)}toString(){return hF(this._root)}}function _w(t,e){e.value._routerState=t,e.children.forEach(n=>_w(t,n))}function hF(t){const e=t.children.length>0?` { ${t.children.map(hF).join(", ")} } `:"";return`${t.value}${e}`}function yw(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,Zi(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),Zi(e.params,n.params)||t.paramsSubject.next(n.params),function mte(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!Zi(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.urlSubject.next(n.url),Zi(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function vw(t,e){const n=Zi(t.params,e.params)&&function bte(t,e){return Pa(t,e)&&t.every((n,r)=>Zi(n.parameters,e[r].parameters))}(t.url,e.url);return n&&!(!t.parent!=!e.parent)&&(!t.parent||vw(t.parent,e.parent))}let g_=(()=>{class t{constructor(){this.activated=null,this._activatedRoute=null,this.name=be,this.activateEvents=new ae,this.deactivateEvents=new ae,this.attachEvents=new ae,this.detachEvents=new ae,this.parentContexts=z(Fh),this.location=z(ai),this.changeDetector=z(Di),this.environmentInjector=z(ar),this.inputBinder=z(m_,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(n){if(n.name){const{firstChange:r,previousValue:i}=n.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new L(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new L(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new L(4012,!1);this.location.detach();const n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){const n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new L(4013,!1);this._activatedRoute=n;const i=this.location,s=n.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,u=new tne(n,a,i.injector);this.activated=i.createComponent(s,{index:i.length,injector:u,environmentInjector:r??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275dir=W({type:t,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Rn]})}return t})();class tne{constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===ko?this.route:e===Fh?this.childContexts:this.parent.get(e,n)}}const m_=new Z("");let fF=(()=>{class t{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(n){this.unsubscribeFromRouteData(n),this.subscribeToRouteData(n)}unsubscribeFromRouteData(n){this.outletDataSubscriptions.get(n)?.unsubscribe(),this.outletDataSubscriptions.delete(n)}subscribeToRouteData(n){const{activatedRoute:r}=n,i=ow([r.queryParams,r.params,r.data]).pipe(ei(([o,s,a],u)=>(a={...o,...s,...a},0===u?ce(a):Promise.resolve(a)))).subscribe(o=>{if(!n.isActivated||!n.activatedComponentRef||n.activatedRoute!==r||null===r.component)return void this.unsubscribeFromRouteData(n);const s=function cY(t){const e=Ve(t);if(!e)return null;const n=new qd(e);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}(r.component);if(s)for(const{templateName:a}of s.inputs)n.activatedComponentRef.setInput(a,o[a]);else this.unsubscribeFromRouteData(n)});this.outletDataSubscriptions.set(n,i)}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=G({token:t,factory:t.\u0275fac})}return t})();function Vh(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=e.value;const i=function rne(t,e,n){return e.children.map(r=>{for(const i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return Vh(t,r,i);return Vh(t,r)})}(t,e,n);return new Oo(r,i)}{if(t.shouldAttach(e.value)){const o=t.retrieve(e.value);if(null!==o){const s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>Vh(t,a)),s}}const r=function ine(t){return new ko(new Xr(t.url),new Xr(t.params),new Xr(t.queryParams),new Xr(t.fragment),new Xr(t.data),t.outlet,t.component,t)}(e.value),i=e.children.map(o=>Vh(t,o));return new Oo(r,i)}}const bw="ngNavigationCancelingError";function pF(t,e){const{redirectTo:n,navigationBehaviorOptions:r}=xa(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=gF(!1,0,e);return i.url=n,i.navigationBehaviorOptions=r,i}function gF(t,e,n){const r=new Error("NavigationCancelingError: "+(t||""));return r[bw]=!0,r.cancellationCode=e,n&&(r.url=n),r}function mF(t){return t&&t[bw]}let _F=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275cmp=Ue({type:t,selectors:[["ng-component"]],standalone:!0,features:[si],decls:1,vars:0,template:function(r,i){1&r&&H(0,"router-outlet")},dependencies:[g_],encapsulation:2})}return t})();function Ew(t){const e=t.children&&t.children.map(Ew),n=e?{...t,children:e}:{...t};return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==be&&(n.component=_F),n}function Ri(t){return t.outlet||be}function Lh(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){const n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}class hne{constructor(e,n,r,i,o){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){const n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),yw(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){const i=Uc(n);e.children.forEach(o=>{const s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,n,r){const i=e.value,o=n?n.value:null;if(i===o)if(i.component){const s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,n,s.children)}else this.deactivateChildRoutes(e,n,r);else o&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){const r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=Uc(e);for(const s of Object.keys(o))this.deactivateRouteAndItsChildren(o[s],i);if(r&&r.outlet){const s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){const r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=Uc(e);for(const s of Object.keys(o))this.deactivateRouteAndItsChildren(o[s],i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){const i=Uc(n);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new Yte(o.value.snapshot))}),e.children.length&&this.forwardEvent(new Qte(e.value.snapshot))}activateRoutes(e,n,r){const i=e.value,o=n?n.value:null;if(yw(i),i===o)if(i.component){const s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,s.children)}else this.activateChildRoutes(e,n,r);else if(i.component){const s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),yw(a.route.value),this.activateChildRoutes(e,null,s.children)}else{const a=Lh(i.snapshot);s.attachRef=null,s.route=i,s.injector=a,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}}else this.activateChildRoutes(e,null,r)}}class yF{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class __{constructor(e,n){this.component=e,this.route=n}}function fne(t,e,n){const r=t._root;return Bh(r,e?e._root:null,n,[r.value])}function jc(t,e){const n=Symbol(),r=e.get(t,n);return r===n?"function"!=typeof t||function A6(t){return null!==rg(t)}(t)?e.get(t):t:r}function Bh(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=Uc(e);return t.children.forEach(s=>{(function gne(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=t.value,s=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){const u=function mne(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!Pa(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Pa(t.url,e.url)||!Zi(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!vw(t,e)||!Zi(t.queryParams,e.queryParams);default:return!vw(t,e)}}(s,o,o.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new yF(r)):(o.data=s.data,o._resolvedData=s._resolvedData),Bh(t,e,o.component?a?a.children:null:n,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new __(a.outlet.component,s))}else s&&Uh(e,a,i),i.canActivateChecks.push(new yF(r)),Bh(t,null,o.component?a?a.children:null:n,r,i)})(s,o[s.value.outlet],n,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>Uh(a,n.getContext(s),i)),i}function Uh(t,e,n){const r=Uc(t),i=t.value;Object.entries(r).forEach(([o,s])=>{Uh(s,i.component?e?e.children.getContext(o):null:e,n)}),n.canDeactivateChecks.push(new __(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function jh(t){return"function"==typeof t}function vF(t){return t instanceof i_||"EmptyError"===t?.name}const y_=Symbol("INITIAL_VALUE");function $c(){return ei(t=>ow(t.map(e=>e.pipe(Fn(1),function V2(...t){const e=dd(t);return St((n,r)=>{(e?Dh(t,n,e):Dh(t,n)).subscribe(r)})}(y_)))).pipe(ve(e=>{for(const n of e)if(!0!==n){if(n===y_)return y_;if(!1===n||n instanceof Lc)return n}return!0}),dn(e=>e!==y_),Fn(1)))}function bF(t){return function Gp(...t){return zp(t)}(hn(e=>{if(xa(e))throw pF(0,e)}),ve(e=>!0===e))}class v_{constructor(e){this.segmentGroup=e||null}}class EF{constructor(e){this.urlTree=e}}function Hc(t){return Sh(new v_(t))}function wF(t){return Sh(new EF(t))}class Fne{constructor(e,n){this.urlSerializer=e,this.urlTree=n}noMatchError(e){return new L(4002,!1)}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return ce(r);if(i.numberOfChildren>1||!i.children[be])return Sh(new L(4e3,!1));i=i.children[be]}}applyRedirectCommands(e,n,r){return this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r)}applyRedirectCreateUrlTree(e,n,r,i){const o=this.createSegmentGroup(e,n.root,r,i);return new Lc(o,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){const r={};return Object.entries(e).forEach(([i,o])=>{if("string"==typeof o&&o.startsWith(":")){const a=o.substring(1);r[i]=n[a]}else r[i]=o}),r}createSegmentGroup(e,n,r,i){const o=this.createSegments(e,n.segments,r,i);let s={};return Object.entries(n.children).forEach(([a,u])=>{s[a]=this.createSegmentGroup(e,u,r,i)}),new it(o,s)}createSegments(e,n,r,i){return n.map(o=>o.path.startsWith(":")?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,n,r){const i=r[n.path.substring(1)];if(!i)throw new L(4001,!1);return i}findOrReturn(e,n){let r=0;for(const i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}}const ww={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Vne(t,e,n,r,i){const o=Iw(t,e,n);return o.matched?(r=function sne(t,e){return t.providers&&!t._injector&&(t._injector=x1(t.providers,e,`Route: ${t.path}`)),t._injector??e}(e,r),function Mne(t,e,n,r){const i=e.canMatch;return i&&0!==i.length?ce(i.map(s=>{const a=jc(s,t);return Ds(function wne(t){return t&&jh(t.canMatch)}(a)?a.canMatch(e,n):t.runInContext(()=>a(e,n)))})).pipe($c(),bF()):ce(!0)}(r,e,n).pipe(ve(s=>!0===s?o:{...ww}))):ce(o)}function Iw(t,e,n){if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?{...ww}:{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};const i=(e.matcher||gte)(n,t,e);if(!i)return{...ww};const o={};Object.entries(i.posParams??{}).forEach(([a,u])=>{o[a]=u.path});const s=i.consumed.length>0?{...o,...i.consumed[i.consumed.length-1].parameters}:o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function IF(t,e,n,r){return n.length>0&&function Une(t,e,n){return n.some(r=>b_(t,e,r)&&Ri(r)!==be)}(t,n,r)?{segmentGroup:new it(e,Bne(r,new it(n,t.children))),slicedSegments:[]}:0===n.length&&function jne(t,e,n){return n.some(r=>b_(t,e,r))}(t,n,r)?{segmentGroup:new it(t.segments,Lne(t,0,n,r,t.children)),slicedSegments:n}:{segmentGroup:new it(t.segments,t.children),slicedSegments:n}}function Lne(t,e,n,r,i){const o={};for(const s of r)if(b_(t,n,s)&&!i[Ri(s)]){const a=new it([],{});o[Ri(s)]=a}return{...i,...o}}function Bne(t,e){const n={};n[be]=e;for(const r of t)if(""===r.path&&Ri(r)!==be){const i=new it([],{});n[Ri(r)]=i}return n}function b_(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path}class zne{constructor(e,n,r,i,o,s,a){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.allowRedirects=!0,this.applyRedirects=new Fne(this.urlSerializer,this.urlTree)}noMatchError(e){return new L(4002,!1)}recognize(){const e=IF(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,be).pipe(Ra(n=>{if(n instanceof EF)return this.allowRedirects=!1,this.urlTree=n.urlTree,this.match(n.urlTree);throw n instanceof v_?this.noMatchError(n):n}),ve(n=>{const r=new p_([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},be,this.rootComponentType,null,{}),i=new Oo(r,n),o=new dF("",i),s=function kte(t,e,n=null,r=null){return X2(Z2(t),e,n,r)}(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),this.inheritParamsAndData(o._root),{state:o,tree:s}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e.root,be).pipe(Ra(r=>{throw r instanceof v_?this.noMatchError(r):r}))}inheritParamsAndData(e){const n=e.value,r=lF(n,this.paramsInheritanceStrategy);n.params=Object.freeze(r.params),n.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,n,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,n,r):this.processSegment(e,n,r,r.segments,i,!0)}processChildren(e,n,r){const i=[];for(const o of Object.keys(r.children))"primary"===o?i.unshift(o):i.push(o);return en(i).pipe(Mc(o=>{const s=r.children[o],a=function lne(t,e){const n=t.filter(r=>Ri(r)===e);return n.push(...t.filter(r=>Ri(r)!==e)),n}(n,o);return this.processSegmentGroup(e,a,s,o)}),function hte(t,e){return St(function dte(t,e,n,r,i){return(o,s)=>{let a=n,u=e,c=0;o.subscribe(lt(s,l=>{const d=c++;u=a?t(u,l,d):(a=!0,l),r&&s.next(u)},i&&(()=>{a&&s.next(u),s.complete()})))}}(t,e,arguments.length>=2,!0))}((o,s)=>(o.push(...s),o)),o_(null),function fte(t,e){const n=arguments.length>=2;return r=>r.pipe(t?dn((i,o)=>t(i,o,r)):_i,aw(1),n?o_(e):L2(()=>new i_))}(),an(o=>{if(null===o)return Hc(r);const s=TF(o);return function qne(t){t.sort((e,n)=>e.value.outlet===be?-1:n.value.outlet===be?1:e.value.outlet.localeCompare(n.value.outlet))}(s),ce(s)}))}processSegment(e,n,r,i,o,s){return en(n).pipe(Mc(a=>this.processSegmentAgainstRoute(a._injector??e,n,a,r,i,o,s).pipe(Ra(u=>{if(u instanceof v_)return ce(null);throw u}))),Aa(a=>!!a),Ra(a=>{if(vF(a))return function Hne(t,e,n){return 0===e.length&&!t.children[n]}(r,i,o)?ce([]):Hc(r);throw a}))}processSegmentAgainstRoute(e,n,r,i,o,s,a){return function $ne(t,e,n,r){return!!(Ri(t)===r||r!==be&&b_(e,n,t))&&("**"===t.path||Iw(e,t,n).matched)}(r,i,o,s)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(e,i,r,o,s,a):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,o,s):Hc(i):Hc(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,o,s){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,s):this.expandRegularSegmentAgainstRouteUsingRedirect(e,n,r,i,o,s)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,n,r,i){const o=this.applyRedirects.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?wF(o):this.applyRedirects.lineralizeSegments(r,o).pipe(an(s=>{const a=new it(s,{});return this.processSegment(e,n,a,s,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,n,r,i,o,s){const{matched:a,consumedSegments:u,remainingSegments:c,positionalParamSegments:l}=Iw(n,i,o);if(!a)return Hc(n);const d=this.applyRedirects.applyRedirectCommands(u,i.redirectTo,l);return i.redirectTo.startsWith("/")?wF(d):this.applyRedirects.lineralizeSegments(i,d).pipe(an(h=>this.processSegment(e,r,n,h.concat(c),s,!1)))}matchSegmentAgainstRoute(e,n,r,i,o,s){let a;if("**"===r.path){const u=i.length>0?j2(i).parameters:{};a=ce({snapshot:new p_(i,u,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,CF(r),Ri(r),r.component??r._loadedComponent??null,r,DF(r)),consumedSegments:[],remainingSegments:[]}),n.children={}}else a=Vne(n,r,i,e).pipe(ve(({matched:u,consumedSegments:c,remainingSegments:l,parameters:d})=>u?{snapshot:new p_(c,d,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,CF(r),Ri(r),r.component??r._loadedComponent??null,r,DF(r)),consumedSegments:c,remainingSegments:l}:null));return a.pipe(ei(u=>null===u?Hc(n):this.getChildConfig(e=r._injector??e,r,i).pipe(ei(({routes:c})=>{const l=r._loadedInjector??e,{snapshot:d,consumedSegments:h,remainingSegments:f}=u,{segmentGroup:m,slicedSegments:y}=IF(n,h,f,c);if(0===y.length&&m.hasChildren())return this.processChildren(l,c,m).pipe(ve(T=>null===T?null:[new Oo(d,T)]));if(0===c.length&&0===y.length)return ce([new Oo(d,[])]);const v=Ri(r)===o;return this.processSegment(l,c,m,y,v?be:o,!0).pipe(ve(T=>[new Oo(d,T)]))}))))}getChildConfig(e,n,r){return n.children?ce({routes:n.children,injector:e}):n.loadChildren?void 0!==n._loadedRoutes?ce({routes:n._loadedRoutes,injector:n._loadedInjector}):function Nne(t,e,n,r){const i=e.canLoad;return void 0===i||0===i.length?ce(!0):ce(i.map(s=>{const a=jc(s,t);return Ds(function yne(t){return t&&jh(t.canLoad)}(a)?a.canLoad(e,n):t.runInContext(()=>a(e,n)))})).pipe($c(),bF())}(e,n,r).pipe(an(i=>i?this.configLoader.loadChildren(e,n).pipe(hn(o=>{n._loadedRoutes=o.routes,n._loadedInjector=o.injector})):function kne(t){return Sh(gF(!1,3))}())):ce({routes:[],injector:e})}}function Wne(t){const e=t.value.routeConfig;return e&&""===e.path}function TF(t){const e=[],n=new Set;for(const r of t){if(!Wne(r)){e.push(r);continue}const i=e.find(o=>r.value.routeConfig===o.value.routeConfig);void 0!==i?(i.children.push(...r.children),n.add(i)):e.push(r)}for(const r of n){const i=TF(r.children);e.push(new Oo(r.value,i))}return e.filter(r=>!n.has(r))}function CF(t){return t.data||{}}function DF(t){return t.resolve||{}}function Qne(t,e){return an(n=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return ce(n);let o=0;return en(i).pipe(Mc(s=>function Jne(t,e,n,r){const i=t.routeConfig,o=t._resolve;return void 0!==i?.title&&!SF(i)&&(o[Ah]=i.title),function Yne(t,e,n,r){const i=function Zne(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}(t);if(0===i.length)return ce({});const o={};return en(i).pipe(an(s=>function Xne(t,e,n,r){const i=Lh(e)??r,o=jc(t,i);return Ds(o.resolve?o.resolve(e,n):i.runInContext(()=>o(e,n)))}(t[s],e,n,r).pipe(Aa(),hn(a=>{o[s]=a}))),aw(1),function B2(t){return ve(()=>t)}(o),Ra(s=>vF(s)?Zr:Sh(s)))}(o,t,e,r).pipe(ve(s=>(t._resolvedData=s,t.data=lF(t,n).resolve,i&&SF(i)&&(t.data[Ah]=i.title),null)))}(s.route,r,t,e)),hn(()=>o++),aw(1),an(s=>o===i.length?ce(n):Zr))})}function SF(t){return"string"==typeof t.title||null===t.title}function Tw(t){return ei(e=>{const n=t(e);return n?en(n).pipe(ve(()=>e)):ce(e)})}const Gc=new Z("ROUTES");let Cw=(()=>{class t{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=z(BO)}loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return ce(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);const r=Ds(n.loadComponent()).pipe(ve(AF),hn(o=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=o}),Ih(()=>{this.componentLoaders.delete(n)})),i=new F2(r,()=>new $e).pipe(sw());return this.componentLoaders.set(n,i),i}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return ce({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const o=function ere(t,e,n,r){return Ds(t.loadChildren()).pipe(ve(AF),an(i=>i instanceof QM||Array.isArray(i)?ce(i):en(e.compileModuleAsync(i))),ve(i=>{r&&r(t);let o,s,a=!1;return Array.isArray(i)?(s=i,!0):(o=i.create(n).injector,s=o.get(Gc,[],{optional:!0,self:!0}).flat()),{routes:s.map(Ew),injector:o}}))}(r,this.compiler,n,this.onLoadEndListener).pipe(Ih(()=>{this.childrenLoaders.delete(r)})),s=new F2(o,()=>new $e).pipe(sw());return this.childrenLoaders.set(r,s),s}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function AF(t){return function tre(t){return t&&"object"==typeof t&&"default"in t}(t)?t.default:t}let E_=(()=>{class t{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new $e,this.transitionAbortSubject=new $e,this.configLoader=z(Cw),this.environmentInjector=z(ar),this.urlSerializer=z(Ph),this.rootContexts=z(Fh),this.inputBindingEnabled=null!==z(m_,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>ce(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=i=>this.events.next(new Wte(i)),this.configLoader.onLoadStartListener=i=>this.events.next(new qte(i))}complete(){this.transitions?.complete()}handleNavigationRequest(n){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...n,id:r})}setupNavigations(n,r,i){return this.transitions=new Xr({id:0,currentUrlTree:r,currentRawUrl:r,currentBrowserUrl:r,extractedUrl:n.urlHandlingStrategy.extract(r),urlAfterRedirects:n.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Oh,restoredState:null,currentSnapshot:i.snapshot,targetSnapshot:null,currentRouterState:i,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(dn(o=>0!==o.id),ve(o=>({...o,extractedUrl:n.urlHandlingStrategy.extract(o.rawUrl)})),ei(o=>{this.currentTransition=o;let s=!1,a=!1;return ce(o).pipe(hn(u=>{this.currentNavigation={id:u.id,initialUrl:u.rawUrl,extractedUrl:u.extractedUrl,trigger:u.source,extras:u.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),ei(u=>{const c=u.currentBrowserUrl.toString(),l=!n.navigated||u.extractedUrl.toString()!==c||c!==u.currentUrlTree.toString();if(!l&&"reload"!==(u.extras.onSameUrlNavigation??n.onSameUrlNavigation)){const h="";return this.events.next(new Bc(u.id,this.urlSerializer.serialize(u.rawUrl),h,0)),u.resolve(null),Zr}if(n.urlHandlingStrategy.shouldProcessUrl(u.rawUrl))return ce(u).pipe(ei(h=>{const f=this.transitions?.getValue();return this.events.next(new h_(h.id,this.urlSerializer.serialize(h.extractedUrl),h.source,h.restoredState)),f!==this.transitions?.getValue()?Zr:Promise.resolve(h)}),function Kne(t,e,n,r,i,o){return an(s=>function Gne(t,e,n,r,i,o,s="emptyOnly"){return new zne(t,e,n,r,i,s,o).recognize()}(t,e,n,r,s.extractedUrl,i,o).pipe(ve(({state:a,tree:u})=>({...s,targetSnapshot:a,urlAfterRedirects:u}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,n.paramsInheritanceStrategy),hn(h=>{o.targetSnapshot=h.targetSnapshot,o.urlAfterRedirects=h.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:h.urlAfterRedirects};const f=new oF(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(f)}));if(l&&n.urlHandlingStrategy.shouldProcessUrl(u.currentRawUrl)){const{id:h,extractedUrl:f,source:m,restoredState:y,extras:v}=u,T=new h_(h,this.urlSerializer.serialize(f),m,y);this.events.next(T);const b=cF(0,this.rootComponentType).snapshot;return this.currentTransition=o={...u,targetSnapshot:b,urlAfterRedirects:f,extras:{...v,skipLocationChange:!1,replaceUrl:!1}},ce(o)}{const h="";return this.events.next(new Bc(u.id,this.urlSerializer.serialize(u.extractedUrl),h,1)),u.resolve(null),Zr}}),hn(u=>{const c=new $te(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(c)}),ve(u=>(this.currentTransition=o={...u,guards:fne(u.targetSnapshot,u.currentSnapshot,this.rootContexts)},o)),function Tne(t,e){return an(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return 0===s.length&&0===o.length?ce({...n,guardsResult:!0}):function Cne(t,e,n,r){return en(t).pipe(an(i=>function xne(t,e,n,r,i){const o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return o&&0!==o.length?ce(o.map(a=>{const u=Lh(e)??i,c=jc(a,u);return Ds(function Ene(t){return t&&jh(t.canDeactivate)}(c)?c.canDeactivate(t,e,n,r):u.runInContext(()=>c(t,e,n,r))).pipe(Aa())})).pipe($c()):ce(!0)}(i.component,i.route,n,e,r)),Aa(i=>!0!==i,!0))}(s,r,i,t).pipe(an(a=>a&&function _ne(t){return"boolean"==typeof t}(a)?function Dne(t,e,n,r){return en(e).pipe(Mc(i=>Dh(function Ane(t,e){return null!==t&&e&&e(new Kte(t)),ce(!0)}(i.route.parent,r),function Sne(t,e){return null!==t&&e&&e(new Jte(t)),ce(!0)}(i.route,r),function Pne(t,e,n){const r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>function pne(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(s)).filter(s=>null!==s).map(s=>k2(()=>ce(s.guards.map(u=>{const c=Lh(s.node)??n,l=jc(u,c);return Ds(function bne(t){return t&&jh(t.canActivateChild)}(l)?l.canActivateChild(r,t):c.runInContext(()=>l(r,t))).pipe(Aa())})).pipe($c())));return ce(o).pipe($c())}(t,i.path,n),function Rne(t,e,n){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return ce(!0);const i=r.map(o=>k2(()=>{const s=Lh(e)??n,a=jc(o,s);return Ds(function vne(t){return t&&jh(t.canActivate)}(a)?a.canActivate(e,t):s.runInContext(()=>a(e,t))).pipe(Aa())}));return ce(i).pipe($c())}(t,i.route,n))),Aa(i=>!0!==i,!0))}(r,o,t,e):ce(a)),ve(a=>({...n,guardsResult:a})))})}(this.environmentInjector,u=>this.events.next(u)),hn(u=>{if(o.guardsResult=u.guardsResult,xa(u.guardsResult))throw pF(0,u.guardsResult);const c=new Hte(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot,!!u.guardsResult);this.events.next(c)}),dn(u=>!!u.guardsResult||(this.cancelNavigationTransition(u,"",3),!1)),Tw(u=>{if(u.guards.canActivateChecks.length)return ce(u).pipe(hn(c=>{const l=new Gte(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(l)}),ei(c=>{let l=!1;return ce(c).pipe(Qne(n.paramsInheritanceStrategy,this.environmentInjector),hn({next:()=>l=!0,complete:()=>{l||this.cancelNavigationTransition(c,"",2)}}))}),hn(c=>{const l=new zte(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(l)}))}),Tw(u=>{const c=l=>{const d=[];l.routeConfig?.loadComponent&&!l.routeConfig._loadedComponent&&d.push(this.configLoader.loadComponent(l.routeConfig).pipe(hn(h=>{l.component=h}),ve(()=>{})));for(const h of l.children)d.push(...c(h));return d};return ow(c(u.targetSnapshot.root)).pipe(o_(),Fn(1))}),Tw(()=>this.afterPreactivation()),ve(u=>{const c=function nne(t,e,n){const r=Vh(t,e._root,n?n._root:void 0);return new uF(r,e)}(n.routeReuseStrategy,u.targetSnapshot,u.currentRouterState);return this.currentTransition=o={...u,targetRouterState:c},o}),hn(()=>{this.events.next(new fw)}),((t,e,n,r)=>ve(i=>(new hne(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)))(this.rootContexts,n.routeReuseStrategy,u=>this.events.next(u),this.inputBindingEnabled),Fn(1),hn({next:u=>{s=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Mo(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects))),n.titleStrategy?.updateTitle(u.targetRouterState.snapshot),u.resolve(!0)},complete:()=>{s=!0}}),kt(this.transitionAbortSubject.pipe(hn(u=>{throw u}))),Ih(()=>{s||a||this.cancelNavigationTransition(o,"",1),this.currentNavigation?.id===o.id&&(this.currentNavigation=null)}),Ra(u=>{if(a=!0,mF(u))this.events.next(new kh(o.id,this.urlSerializer.serialize(o.extractedUrl),u.message,u.cancellationCode)),function one(t){return mF(t)&&xa(t.url)}(u)?this.events.next(new pw(u.url)):o.resolve(!1);else{this.events.next(new f_(o.id,this.urlSerializer.serialize(o.extractedUrl),u,o.targetSnapshot??void 0));try{o.resolve(n.errorHandler(u))}catch(c){o.reject(c)}}return Zr}))}))}cancelNavigationTransition(n,r,i){const o=new kh(n.id,this.urlSerializer.serialize(n.extractedUrl),r,i);this.events.next(o),n.resolve(!1)}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function RF(t){return t!==Oh}let PF=(()=>{class t{buildTitle(n){let r,i=n.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===be);return r}getResolvedTitleForRoute(n){return n.data[Ah]}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=G({token:t,factory:function(){return z(nre)},providedIn:"root"})}return t})(),nre=(()=>{class t extends PF{constructor(n){super(),this.title=n}updateTitle(n){const r=this.buildTitle(n);void 0!==r&&this.title.setTitle(r)}static#e=this.\u0275fac=function(r){return new(r||t)(j(ak))};static#t=this.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),rre=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=G({token:t,factory:function(){return z(ore)},providedIn:"root"})}return t})();class ire{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}}let ore=(()=>{class t extends ire{static#e=this.\u0275fac=function(){let n;return function(i){return(n||(n=Gt(t)))(i||t)}}();static#t=this.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const w_=new Z("",{providedIn:"root",factory:()=>({})});let sre=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=G({token:t,factory:function(){return z(are)},providedIn:"root"})}return t})(),are=(()=>{class t{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var $h=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}($h||{});function xF(t,e){t.events.pipe(dn(n=>n instanceof Mo||n instanceof kh||n instanceof f_||n instanceof Bc),ve(n=>n instanceof Mo||n instanceof Bc?$h.COMPLETE:n instanceof kh&&(0===n.code||1===n.code)?$h.REDIRECTING:$h.FAILED),dn(n=>n!==$h.REDIRECTING),Fn(1)).subscribe(()=>{e()})}function ure(t){throw t}function cre(t,e,n){return e.parse("/")}const lre={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},dre={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Vn=(()=>{class t{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=z(LO),this.isNgZoneEnabled=!1,this._events=new $e,this.options=z(w_,{optional:!0})||{},this.pendingTasks=z(Em),this.errorHandler=this.options.errorHandler||ure,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||cre,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=z(sre),this.routeReuseStrategy=z(rre),this.titleStrategy=z(PF),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=z(Gc,{optional:!0})?.flat()??[],this.navigationTransitions=z(E_),this.urlSerializer=z(Ph),this.location=z(dE),this.componentInputBindingEnabled=!!z(m_,{optional:!0}),this.eventsSubscription=new Ut,this.isNgZoneEnabled=z(Te)instanceof Te&&Te.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new Lc,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=cF(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(n=>{this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId},n=>{this.console.warn(`Unhandled Navigation Error: ${n}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const n=this.navigationTransitions.events.subscribe(r=>{try{const{currentTransition:i}=this.navigationTransitions;if(null===i)return void(NF(r)&&this._events.next(r));if(r instanceof h_)RF(i.source)&&(this.browserUrlTree=i.extractedUrl);else if(r instanceof Bc)this.rawUrlTree=i.rawUrl;else if(r instanceof oF){if("eager"===this.urlUpdateStrategy){if(!i.extras.skipLocationChange){const o=this.urlHandlingStrategy.merge(i.urlAfterRedirects,i.rawUrl);this.setBrowserUrl(o,i)}this.browserUrlTree=i.urlAfterRedirects}}else if(r instanceof fw)this.currentUrlTree=i.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(i.urlAfterRedirects,i.rawUrl),this.routerState=i.targetRouterState,"deferred"===this.urlUpdateStrategy&&(i.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,i),this.browserUrlTree=i.urlAfterRedirects);else if(r instanceof kh)0!==r.code&&1!==r.code&&(this.navigated=!0),(3===r.code||2===r.code)&&this.restoreHistory(i);else if(r instanceof pw){const o=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),s={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||RF(i.source)};this.scheduleNavigation(o,Oh,null,s,{resolve:i.resolve,reject:i.reject,promise:i.promise})}r instanceof f_&&this.restoreHistory(i,!0),r instanceof Mo&&(this.navigated=!0),NF(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const n=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),Oh,n)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(n=>{const r="popstate"===n.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{this.navigateToSyncWithBrowser(n.url,r,n.state)},0)}))}navigateToSyncWithBrowser(n,r,i){const o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){const u={...i};delete u.navigationId,delete u.\u0275routerPageId,0!==Object.keys(u).length&&(o.state=u)}const a=this.parseUrl(n);this.scheduleNavigation(a,r,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(Ew),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,r={}){const{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:u}=r,c=u?this.currentUrlTree.fragment:s;let d,l=null;switch(a){case"merge":l={...this.currentUrlTree.queryParams,...o};break;case"preserve":l=this.currentUrlTree.queryParams;break;default:l=o||null}null!==l&&(l=this.removeEmptyProps(l));try{d=Z2(i?i.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof n[0]||!n[0].startsWith("/"))&&(n=[]),d=this.currentUrlTree.root}return X2(d,n,l,c??null)}navigateByUrl(n,r={skipLocationChange:!1}){const i=xa(n)?n:this.parseUrl(n),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,Oh,null,r)}navigate(n,r={skipLocationChange:!1}){return function hre(t){for(let e=0;e<t.length;e++)if(null==t[e])throw new L(4008,!1)}(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){let r;try{r=this.urlSerializer.parse(n)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,n)}return r}isActive(n,r){let i;if(i=!0===r?{...lre}:!1===r?{...dre}:r,xa(n))return H2(this.currentUrlTree,n,i);const o=this.parseUrl(n);return H2(this.currentUrlTree,o,i)}removeEmptyProps(n){return Object.keys(n).reduce((r,i)=>{const o=n[i];return null!=o&&(r[i]=o),r},{})}scheduleNavigation(n,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,u,c;s?(a=s.resolve,u=s.reject,c=s.promise):c=new Promise((d,h)=>{a=d,u=h});const l=this.pendingTasks.add();return xF(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(l))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:n,extras:o,resolve:a,reject:u,promise:c,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),c.catch(d=>Promise.reject(d))}setBrowserUrl(n,r){const i=this.urlSerializer.serialize(n);if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){const s={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId)};this.location.replaceState(i,"",s)}else{const o={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId+1)};this.location.go(i,"",o)}}restoreHistory(n,r=!1){if("computed"===this.canceledNavigationResolution){const o=this.currentPageId-this.browserPageId;0!==o?this.location.historyGo(o):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===o&&(this.resetState(n),this.browserUrlTree=n.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=n.currentRouterState,this.currentUrlTree=n.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,r){return"computed"===this.canceledNavigationResolution?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function NF(t){return!(t instanceof fw||t instanceof pw)}let Ss=(()=>{class t{constructor(n,r,i,o,s,a){this.router=n,this.route=r,this.tabIndexAttribute=i,this.renderer=o,this.el=s,this.locationStrategy=a,this.href=null,this.commands=null,this.onChanges=new $e,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const u=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===u||"area"===u,this.isAnchorElement?this.subscription=n.events.subscribe(c=>{c instanceof Mo&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(n){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",n)}ngOnChanges(n){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(n){null!=n?(this.commands=Array.isArray(n)?n:[n],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(n,r,i,o,s){return!!(null===this.urlTree||this.isAnchorElement&&(0!==n||r||i||o||s||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const n=null===this.href?null:function ZP(t,e,n){return function O9(t,e){return"src"===e&&("embed"===t||"frame"===t||"iframe"===t||"media"===t||"script"===t)||"href"===e&&("base"===t||"link"===t)?YP:sr}(e,n)(t)}(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",n)}applyAttributeValue(n,r){const i=this.renderer,o=this.el.nativeElement;null!==r?i.setAttribute(o,n,r):i.removeAttribute(o,n)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static#e=this.\u0275fac=function(r){return new(r||t)(E(Vn),E(ko),function ca(t){return function ez(t,e){if("class"===e)return t.classes;if("style"===e)return t.styles;const n=t.attrs;if(n){const r=n.length;let i=0;for(;i<r;){const o=n[i];if(zA(o))break;if(0===o)i+=2;else if("number"==typeof o)for(i++;i<r&&"string"==typeof n[i];)i++;else{if(o===e)return n[i+1];i+=2}}}return null}(Pn(),t)}("tabindex"),E(Ur),E(Qe),E(ba))};static#t=this.\u0275dir=W({type:t,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(r,i){1&r&&K("click",function(s){return i.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),2&r&&Ye("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",Sc],skipLocationChange:["skipLocationChange","skipLocationChange",Sc],replaceUrl:["replaceUrl","replaceUrl",Sc],routerLink:"routerLink"},standalone:!0,features:[dN,Rn]})}return t})(),Dw=(()=>{class t{get isActive(){return this._isActive}constructor(n,r,i,o,s){this.router=n,this.element=r,this.renderer=i,this.cdr=o,this.link=s,this.classes=[],this._isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new ae,this.routerEventsSubscription=n.events.subscribe(a=>{a instanceof Mo&&this.update()})}ngAfterContentInit(){ce(this.links.changes,ce(null)).pipe(Ru()).subscribe(n=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();const n=[...this.links.toArray(),this.link].filter(r=>!!r).map(r=>r.onChanges);this.linkInputChangesSubscription=en(n).pipe(Ru()).subscribe(r=>{this._isActive!==this.isLinkActive(this.router)(r)&&this.update()})}set routerLinkActive(n){const r=Array.isArray(n)?n:n.split(" ");this.classes=r.filter(i=>!!i)}ngOnChanges(n){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{const n=this.hasActiveLinks();this._isActive!==n&&(this._isActive=n,this.cdr.markForCheck(),this.classes.forEach(r=>{n?this.renderer.addClass(this.element.nativeElement,r):this.renderer.removeClass(this.element.nativeElement,r)}),n&&void 0!==this.ariaCurrentWhenActive?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this.isActiveChange.emit(n))})}isLinkActive(n){const r=function fre(t){return!!t.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return i=>!!i.urlTree&&n.isActive(i.urlTree,r)}hasActiveLinks(){const n=this.isLinkActive(this.router);return this.link&&n(this.link)||this.links.some(n)}static#e=this.\u0275fac=function(r){return new(r||t)(E(Vn),E(Qe),E(Ur),E(Di),E(Ss,8))};static#t=this.\u0275dir=W({type:t,selectors:[["","routerLinkActive",""]],contentQueries:function(r,i,o){if(1&r&&function Pt(t,e,n,r){const i=Le();if(i.firstCreatePass){const o=Pn();bO(i,new _O(e,n,r),o.index),function OQ(t,e){const n=t.contentQueries||(t.contentQueries=[]);e!==(n.length?n[n.length-1]:-1)&&n.push(t.queries.length-1,e)}(i,t),2==(2&n)&&(i.staticContentQueries=!0)}vO(i,O(),n)}(o,Ss,5),2&r){let s;nt(s=rt())&&(i.links=s)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[Rn]})}return t})();class MF{}let pre=(()=>{class t{constructor(n,r,i,o,s){this.router=n,this.injector=i,this.preloadingStrategy=o,this.loader=s}setUpPreloading(){this.subscription=this.router.events.pipe(dn(n=>n instanceof Mo),Mc(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(n,r){const i=[];for(const o of r){o.providers&&!o._injector&&(o._injector=x1(o.providers,n,`Route: ${o.path}`));const s=o._injector??n,a=o._loadedInjector??s;(o.loadChildren&&!o._loadedRoutes&&void 0===o.canLoad||o.loadComponent&&!o._loadedComponent)&&i.push(this.preloadConfig(s,o)),(o.children||o._loadedRoutes)&&i.push(this.processRoutes(a,o.children??o._loadedRoutes))}return en(i).pipe(Ru())}preloadConfig(n,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(n,r):ce(null);const o=i.pipe(an(s=>null===s?ce(void 0):(r._loadedRoutes=s.routes,r._loadedInjector=s.injector,this.processRoutes(s.injector??n,s.routes))));return r.loadComponent&&!r._loadedComponent?en([o,this.loader.loadComponent(r)]).pipe(Ru()):o})}static#e=this.\u0275fac=function(r){return new(r||t)(j(Vn),j(BO),j(ar),j(MF),j(Cw))};static#t=this.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const Sw=new Z("");let OF=(()=>{class t{constructor(n,r,i,o,s={}){this.urlSerializer=n,this.transitions=r,this.viewportScroller=i,this.zone=o,this.options=s,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},s.scrollPositionRestoration=s.scrollPositionRestoration||"disabled",s.anchorScrolling=s.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof h_?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=n.navigationTrigger,this.restoredId=n.restoredState?n.restoredState.navigationId:0):n instanceof Mo?(this.lastId=n.id,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.urlAfterRedirects).fragment)):n instanceof Bc&&0===n.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof sF&&(n.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(n.position):n.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(n.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(n,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new sF(n,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static#e=this.\u0275fac=function(r){!function Lx(){throw new Error("invalid")}()};static#t=this.\u0275prov=G({token:t,factory:t.\u0275fac})}return t})();function Fo(t,e){return{\u0275kind:t,\u0275providers:e}}function FF(){const t=z(zt);return e=>{const n=t.get(_s);if(e!==n.components[0])return;const r=t.get(Vn),i=t.get(VF);1===t.get(Aw)&&r.initialNavigation(),t.get(LF,null,Se.Optional)?.setUpPreloading(),t.get(Sw,null,Se.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}const VF=new Z("",{factory:()=>new $e}),Aw=new Z("",{providedIn:"root",factory:()=>1}),LF=new Z("");function yre(t){return Fo(0,[{provide:LF,useExisting:pre},{provide:MF,useExisting:t}])}const BF=new Z("ROUTER_FORROOT_GUARD"),bre=[dE,{provide:Ph,useClass:uw},Vn,Fh,{provide:ko,useFactory:function kF(t){return t.routerState.root},deps:[Vn]},Cw,[]];function Ere(){return new qO("Router",Vn)}let UF=(()=>{class t{constructor(n){}static forRoot(n,r){return{ngModule:t,providers:[bre,[],{provide:Gc,multi:!0,useValue:n},{provide:BF,useFactory:Cre,deps:[[Vn,new xn,new Dg]]},{provide:w_,useValue:r||{}},r?.useHash?{provide:ba,useClass:pY}:{provide:ba,useClass:w3},{provide:Sw,useFactory:()=>{const t=z(NZ),e=z(Te),n=z(w_),r=z(E_),i=z(Ph);return n.scrollOffset&&t.setOffset(n.scrollOffset),new OF(i,r,t,e,n)}},r?.preloadingStrategy?yre(r.preloadingStrategy).\u0275providers:[],{provide:qO,multi:!0,useFactory:Ere},r?.initialNavigation?Dre(r):[],r?.bindToComponentInputs?Fo(8,[fF,{provide:m_,useExisting:fF}]).\u0275providers:[],[{provide:jF,useFactory:FF},{provide:eE,multi:!0,useExisting:jF}]]}}static forChild(n){return{ngModule:t,providers:[{provide:Gc,multi:!0,useValue:n}]}}static#e=this.\u0275fac=function(r){return new(r||t)(j(BF,8))};static#t=this.\u0275mod=Me({type:t});static#n=this.\u0275inj=Re({})}return t})();function Cre(t){return"guarded"}function Dre(t){return["disabled"===t.initialNavigation?Fo(3,[{provide:q1,multi:!0,useFactory:()=>{const e=z(Vn);return()=>{e.setUpLocationChangeListener()}}},{provide:Aw,useValue:2}]).\u0275providers:[],"enabledBlocking"===t.initialNavigation?Fo(2,[{provide:Aw,useValue:0},{provide:q1,multi:!0,deps:[zt],useFactory:e=>{const n=e.get(hY,Promise.resolve());return()=>n.then(()=>new Promise(r=>{const i=e.get(Vn),o=e.get(VF);xF(i,()=>{r(!0)}),e.get(E_).afterPreactivation=()=>(r(!0),o.closed?ce(void 0):o),i.initialNavigation()}))}}]).\u0275providers:[]]}const jF=new Z("");function $F(t,e,n,r,i,o,s){try{var a=t[o](s),u=a.value}catch(c){return void n(c)}a.done?e(u):Promise.resolve(u).then(r,i)}function w(t){return function(){var e=this,n=arguments;return new Promise(function(r,i){var o=t.apply(e,n);function s(u){$F(o,r,i,s,a,"next",u)}function a(u){$F(o,r,i,s,a,"throw",u)}s(void 0)})}}const HF=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):55296==(64512&i)&&r+1<t.length&&56320==(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},GF={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const o=t[i],s=i+1<t.length,a=s?t[i+1]:0,u=i+2<t.length,c=u?t[i+2]:0;let h=(15&a)<<2|c>>6,f=63&c;u||(f=64,s||(h=64)),r.push(n[o>>2],n[(3&o)<<4|a>>4],n[h],n[f])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(HF(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=t[n++];e[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){const u=((7&i)<<18|(63&t[n++])<<12|(63&t[n++])<<6|63&t[n++])-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(1023&u))}else{const o=t[n++],s=t[n++];e[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&s)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const o=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,null==o||null==a||null==c||null==d)throw new xre;r.push(o<<2|a>>4),64!==c&&(r.push(a<<4&240|c>>2),64!==d&&r.push(c<<6&192|d))}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class xre extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const I_=function(t){return function(t){const e=HF(t);return GF.encodeByteArray(e,!0)}(t).replace(/\./g,"")},T_=function(t){try{return GF.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null},C_=()=>{try{return function Ore(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const t=process.env.__FIREBASE_DEFAULTS__;return t?JSON.parse(t):void 0})()||(()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&T_(t[1]);return e&&JSON.parse(e)})()}catch(t){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`)}},qF=t=>{var e,n;return null===(n=null===(e=C_())||void 0===e?void 0:e.emulatorHosts)||void 0===n?void 0:n[t]},WF=t=>{const e=qF(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return"["===e[0]?[e.substring(1,n-1),r]:[e.substring(0,n),r]},KF=()=>{var t;return null===(t=C_())||void 0===t?void 0:t.config},QF=t=>{var e;return null===(e=C_())||void 0===e?void 0:e[`_${t}`]};class JF{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),"function"==typeof e&&(this.promise.catch(()=>{}),1===e.length?e(n):e(n,r))}}}function YF(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[I_(JSON.stringify({alg:"none",type:"JWT"})),I_(JSON.stringify(s)),""].join(".")}function Ft(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function ZF(){try{return"object"==typeof indexedDB}catch{return!1}}class eo extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name="FirebaseError",Object.setPrototypeOf(this,eo.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Hh.prototype.create)}}class Hh{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?function qre(t,e){return t.replace(Wre,(n,r)=>{const i=e[r];return null!=i?String(i):`<${r}?>`})}(o,r):"Error";return new eo(i,`${this.serviceName}: ${s} (${i}).`,r)}}const Wre=/\{\$([^}]+)}/g;function S_(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const o=t[i],s=e[i];if(eV(o)&&eV(s)){if(!S_(o,s))return!1}else if(o!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function eV(t){return null!==t&&"object"==typeof t}function A_(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Gh(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,o]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(o)}}),e}function zh(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}class Jre{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(void 0===e&&void 0===n&&void 0===r)throw new Error("Missing Observer.");i=function Yre(t,e){if("object"!=typeof t||null===t)return!1;for(const n of e)if(n in t&&"function"==typeof t[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:n,complete:r},void 0===i.next&&(i.next=Pw),void 0===i.error&&(i.error=Pw),void 0===i.complete&&(i.complete=Pw);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){void 0===this.observers||void 0===this.observers[e]||(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Pw(){}function Vt(t){return t&&t._delegate?t._delegate:t}class As{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Na="[DEFAULT]";class rie{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new JF;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e?.identifier),i=null!==(n=e?.optional)&&void 0!==n&&n;if(!this.isInitialized(r)&&!this.shouldAutoInitialize()){if(i)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function oie(t){return"EAGER"===t.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:Na})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=Na){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){var e=this;return w(function*(){const n=Array.from(e.instances.values());yield Promise.all([...n.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...n.filter(r=>"_delete"in r).map(r=>r._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(e=Na){return this.instances.has(e)}getOptions(e=Na){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,s]of this.instancesDeferred.entries())r===this.normalizeInstanceIdentifier(o)&&s.resolve(i);return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),o=null!==(r=this.onInitCallbacks.get(i))&&void 0!==r?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);const s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(t=e,t===Na?void 0:t),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}var t;return r||null}normalizeInstanceIdentifier(e=Na){return this.component?this.component.multipleInstances?e:Na:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class sie{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new rie(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}const Nw=[];var ke=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(ke||{});const tV={debug:ke.DEBUG,verbose:ke.VERBOSE,info:ke.INFO,warn:ke.WARN,error:ke.ERROR,silent:ke.SILENT},aie=ke.INFO,uie={[ke.DEBUG]:"log",[ke.VERBOSE]:"log",[ke.INFO]:"info",[ke.WARN]:"warn",[ke.ERROR]:"error"},cie=(t,e,...n)=>{if(e<t.logLevel)return;const r=(new Date).toISOString(),i=uie[e];if(!i)throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`);console[i](`[${r}]  ${t.name}:`,...n)};class Mw{constructor(e){this.name=e,this._logLevel=aie,this._logHandler=cie,this._userLogHandler=null,Nw.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ke))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?tV[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ke.DEBUG,...e),this._logHandler(this,ke.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ke.VERBOSE,...e),this._logHandler(this,ke.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ke.INFO,...e),this._logHandler(this,ke.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ke.WARN,...e),this._logHandler(this,ke.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ke.ERROR,...e),this._logHandler(this,ke.ERROR,...e)}}const lie=(t,e)=>e.some(n=>t instanceof n);let nV,rV;const iV=new WeakMap,Ow=new WeakMap,oV=new WeakMap,kw=new WeakMap,Fw=new WeakMap;let Vw={get(t,e,n){if(t instanceof IDBTransaction){if("done"===e)return Ow.get(t);if("objectStoreNames"===e)return t.objectStoreNames||oV.get(t);if("store"===e)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Rs(t[e])},set:(t,e,n)=>(t[e]=n,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function _ie(t){return"function"==typeof t?function mie(t){return t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function hie(){return rV||(rV=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(t)?function(...e){return t.apply(Lw(this),e),Rs(iV.get(this))}:function(...e){return Rs(t.apply(Lw(this),e))}:function(e,...n){const r=t.call(Lw(this),e,...n);return oV.set(r,e.sort?e.sort():[e]),Rs(r)}}(t):(t instanceof IDBTransaction&&function pie(t){if(Ow.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});Ow.set(t,e)}(t),lie(t,function die(){return nV||(nV=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(t,Vw):t)}function Rs(t){if(t instanceof IDBRequest)return function fie(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(Rs(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&iV.set(n,t)}).catch(()=>{}),Fw.set(e,t),e}(t);if(kw.has(t))return kw.get(t);const e=_ie(t);return e!==t&&(kw.set(t,e),Fw.set(e,t)),e}const Lw=t=>Fw.get(t),vie=["get","getKey","getAll","getAllKeys","count"],bie=["put","add","delete","clear"],Bw=new Map;function sV(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!=typeof e)return;if(Bw.get(e))return Bw.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=bie.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!vie.includes(n))return;const o=function(){var s=w(function*(a,...u){const c=this.transaction(a,i?"readwrite":"readonly");let l=c.store;return r&&(l=l.index(u.shift())),(yield Promise.all([l[n](...u),i&&c.done]))[0]});return function(u){return s.apply(this,arguments)}}();return Bw.set(e,o),o}!function gie(t){Vw=t(Vw)}(t=>({...t,get:(e,n,r)=>sV(e,n)||t.get(e,n,r),has:(e,n)=>!!sV(e,n)||t.has(e,n)}));class Eie{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(function wie(t){const e=t.getComponent();return"VERSION"===e?.type}(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}return null}).filter(n=>n).join(" ")}}const R_="@firebase/app",Ma=new Mw("@firebase/app"),P_="[DEFAULT]",Kie={[R_]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Oa=new Map,qh=new Map,Wh=new Map;function aV(t,e){try{t.container.addComponent(e)}catch(n){Ma.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function ka(t){const e=t.name;if(Wh.has(e))return Ma.debug(`There were multiple attempts to register component ${e}.`),!1;Wh.set(e,t);for(const n of Oa.values())aV(n,t);for(const n of qh.values())aV(n,t);return!0}function Kh(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function to(t){return void 0!==t.settings}const di=new Hh("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class Yie{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new As("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw di.create("app-deleted",{appName:this._name})}}const Fa="10.11.0";function uV(t,e={}){let n=t;"object"!=typeof e&&(e={name:e});const r=Object.assign({name:P_,automaticDataCollectionEnabled:!1},e),i=r.name;if("string"!=typeof i||!i)throw di.create("bad-app-name",{appName:String(i)});if(n||(n=KF()),!n)throw di.create("no-options");const o=Oa.get(i);if(o){if(S_(n,o.options)&&S_(r,o.config))return o;throw di.create("duplicate-app",{appName:i})}const s=new sie(i);for(const u of Wh.values())s.addComponent(u);const a=new Yie(n,r,s);return Oa.set(i,a),a}function x_(t=P_){const e=Oa.get(t);if(!e&&t===P_&&KF())return uV();if(!e)throw di.create("no-app",{appName:t});return e}function cV(){return Array.from(Oa.values())}function Ln(t,e,n){var r;let i=null!==(r=Kie[t])&&void 0!==r?r:t;n&&(i+=`-${n}`);const o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){const a=[`Unable to register library "${i}" with version "${e}":`];return o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),void Ma.warn(a.join(" "))}ka(new As(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}const eoe="firebase-heartbeat-database",toe=1,Qh="firebase-heartbeat-store";let $w=null;function lV(){return $w||($w=function yie(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const s=indexedDB.open(t,e),a=Rs(s);return r&&s.addEventListener("upgradeneeded",u=>{r(Rs(s.result),u.oldVersion,u.newVersion,Rs(s.transaction),u)}),n&&s.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),a.then(u=>{o&&u.addEventListener("close",()=>o()),i&&u.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}(eoe,toe,{upgrade:(t,e)=>{if(0===e)try{t.createObjectStore(Qh)}catch(n){console.warn(n)}}}).catch(t=>{throw di.create("idb-open",{originalErrorMessage:t.message})})),$w}function Hw(){return(Hw=w(function*(t){try{const n=(yield lV()).transaction(Qh),r=yield n.objectStore(Qh).get(hV(t));return yield n.done,r}catch(e){if(e instanceof eo)Ma.warn(e.message);else{const n=di.create("idb-get",{originalErrorMessage:e?.message});Ma.warn(n.message)}}})).apply(this,arguments)}function dV(t,e){return Gw.apply(this,arguments)}function Gw(){return(Gw=w(function*(t,e){try{const r=(yield lV()).transaction(Qh,"readwrite");yield r.objectStore(Qh).put(e,hV(t)),yield r.done}catch(n){if(n instanceof eo)Ma.warn(n.message);else{const r=di.create("idb-set",{originalErrorMessage:n?.message});Ma.warn(r.message)}}})).apply(this,arguments)}function hV(t){return`${t.name}!${t.options.appId}`}class ooe{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new aoe(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){var e=this;return w(function*(){var n,r;const o=e.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=fV();if((null!=(null===(n=e._heartbeatsCache)||void 0===n?void 0:n.heartbeats)||(e._heartbeatsCache=yield e._heartbeatsCachePromise,null!=(null===(r=e._heartbeatsCache)||void 0===r?void 0:r.heartbeats)))&&e._heartbeatsCache.lastSentHeartbeatDate!==s&&!e._heartbeatsCache.heartbeats.some(a=>a.date===s))return e._heartbeatsCache.heartbeats.push({date:s,agent:o}),e._heartbeatsCache.heartbeats=e._heartbeatsCache.heartbeats.filter(a=>{const u=new Date(a.date).valueOf();return Date.now()-u<=2592e6}),e._storage.overwrite(e._heartbeatsCache)})()}getHeartbeatsHeader(){var e=this;return w(function*(){var n;if(null===e._heartbeatsCache&&(yield e._heartbeatsCachePromise),null==(null===(n=e._heartbeatsCache)||void 0===n?void 0:n.heartbeats)||0===e._heartbeatsCache.heartbeats.length)return"";const r=fV(),{heartbeatsToSend:i,unsentEntries:o}=function soe(t,e=1024){const n=[];let r=t.slice();for(const i of t){const o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),pV(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),pV(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(e._heartbeatsCache.heartbeats),s=I_(JSON.stringify({version:2,heartbeats:i}));return e._heartbeatsCache.lastSentHeartbeatDate=r,o.length>0?(e._heartbeatsCache.heartbeats=o,yield e._storage.overwrite(e._heartbeatsCache)):(e._heartbeatsCache.heartbeats=[],e._storage.overwrite(e._heartbeatsCache)),s})()}}function fV(){return(new Date).toISOString().substring(0,10)}class aoe{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return w(function*(){return!!ZF()&&function Gre(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e((null===(o=i.error)||void 0===o?void 0:o.message)||"")}}catch(n){e(n)}})}().then(()=>!0).catch(()=>!1)})()}read(){var e=this;return w(function*(){if(yield e._canUseIndexedDBPromise){const r=yield function noe(t){return Hw.apply(this,arguments)}(e.app);return r?.heartbeats?r:{heartbeats:[]}}return{heartbeats:[]}})()}overwrite(e){var n=this;return w(function*(){var r;if(yield n._canUseIndexedDBPromise){const o=yield n.read();return dV(n.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}})()}add(e){var n=this;return w(function*(){var r;if(yield n._canUseIndexedDBPromise){const o=yield n.read();return dV(n.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}})()}}function pV(t){return I_(JSON.stringify({version:2,heartbeats:t})).length}!function uoe(t){ka(new As("platform-logger",e=>new Eie(e),"PRIVATE")),ka(new As("heartbeat",e=>new ooe(e),"PRIVATE")),Ln(R_,"0.10.1",t),Ln(R_,"0.10.1","esm2017"),Ln("fire-js","")}(""),Ln("firebase","10.11.0","app");class doe extends Ut{constructor(e,n){super()}schedule(e,n=0){return this}}const N_={setInterval(t,e,...n){const{delegate:r}=N_;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){const{delegate:e}=N_;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};class gV extends doe{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;const i=this.id,o=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(o,i,n)),this.pending=!0,this.delay=n,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(o,this.id,n),this}requestAsyncId(e,n,r=0){return N_.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return n;null!=n&&N_.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(e,n);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let i,r=!1;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,ts(r,this),null!=e&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}}const mV={now:()=>(mV.delegate||Date).now(),delegate:void 0};class Jh{constructor(e,n=Jh.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}}Jh.now=mV.now;class _V extends Jh{constructor(e,n=Jh.now){super(e,n),this.actions=[],this._active=!1}flush(e){const{actions:n}=this;if(this._active)return void n.push(e);let r;this._active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}}const poe=new class foe extends _V{}(class hoe extends gV{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return null!=r&&r>0||null==r&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}}),zw=new _V(gV),goe=zw,Yh=new sc("ANGULARFIRE2_VERSION");function qw(t,e,n){if(e){if(1===e.length)return e[0];const o=e.filter(s=>s.app===n);if(1===o.length)return o[0]}return n.container.getProvider(t).getImmediate({optional:!0})}const M_=(t,e)=>{const n=e?[e]:cV(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(s=>{r.includes(s)||r.push(s)})}),r};class Ww{constructor(){return M_(moe)}}const moe="app-check";function zc(){}class yV{zone;delegate;constructor(e,n=poe){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){const i=this.zone;return this.delegate.schedule(function(s){i.runGuarded(()=>{e.apply(this,[s])})},n,r)}}class _oe{zone;task=null;constructor(e){this.zone=e}call(e,n){const r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",zc,{},zc,zc)),n.pipe(hn({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let O_=(()=>{class t{ngZone;outsideAngular;insideAngular;constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new yV(Zone.current)),this.insideAngular=n.run(()=>new yV(Zone.current,zw)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(r){return new(r||t)(j(Te))};static \u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function qc(){const t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return t}function Va(t){return qc().ngZone.run(()=>t())}function voe(t){return function boe(t){return function(n){return(n=n.lift(new _oe(t.ngZone))).pipe(eg(t.outsideAngular),Xp(t.insideAngular))}}(qc())(t)}const Eoe=(t,e)=>function(){const r=arguments;return e&&setTimeout(()=>{"scheduled"===e.state&&e.invoke()},10),Va(()=>t.apply(void 0,r))},Wt=(t,e)=>function(){let n;const r=arguments;for(let o=0;o<arguments.length;o++)"function"==typeof r[o]&&(e&&(n||=Va(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",zc,{},zc,zc))),r[o]=Eoe(r[o],n));const i=function yoe(t){return qc().ngZone.runOutsideAngular(()=>t())}(()=>t.apply(this,r));if(!e){if(i instanceof Fe){const o=qc();return i.pipe(eg(o.outsideAngular),Xp(o.insideAngular))}return Va(()=>i)}return i instanceof Fe?i.pipe(voe):i instanceof Promise?Va(()=>new Promise((o,s)=>i.then(a=>Va(()=>o(a)),a=>Va(()=>s(a))))):"function"==typeof i&&n?function(){return setTimeout(()=>{n&&"scheduled"===n.state&&n.invoke()},10),i.apply(this,arguments)}:Va(()=>i)};class Wc{constructor(e){return e}}class k_{constructor(){return cV()}}const Kw=new Z("angularfire2._apps"),Ioe={provide:Wc,useFactory:function woe(t){return t&&1===t.length?t[0]:new Wc(x_())},deps:[[new xn,Kw]]},Toe={provide:k_,deps:[[new xn,Kw]]};function Coe(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new Wc(r)}}let Doe=(()=>{class t{constructor(n){Ln("angularfire",Yh.full,"core"),Ln("angularfire",Yh.full,"app"),Ln("angular",fx.full,n.toString())}static \u0275fac=function(r){return new(r||t)(j(hs))};static \u0275mod=Me({type:t});static \u0275inj=Re({providers:[Ioe,Toe]})}return t})();function Soe(t,...e){return{ngModule:Doe,providers:[{provide:Kw,useFactory:Coe(t),multi:!0,deps:[Te,zt,O_,...e]}]}}const Aoe=Wt(uV,!0);const Roe=function vV(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},bV=new Hh("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),F_=new Mw("@firebase/auth");function V_(t,...e){F_.logLevel<=ke.ERROR&&F_.error(`Auth (${Fa}): ${t}`,...e)}function Ar(t,...e){throw Jw(t,...e)}function hi(t,...e){return Jw(t,...e)}function Qw(t,e,n){const r=Object.assign(Object.assign({},Roe()),{[e]:n});return new Hh("auth","Firebase",r).create(e,{appName:t.name})}function vn(t){return Qw(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Jw(t,...e){if("string"!=typeof t){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return bV.create(t,...e)}function q(t,e,...n){if(!t)throw Jw(e,...n)}function no(t){const e="INTERNAL ASSERTION FAILED: "+t;throw V_(e),new Error(e)}function Ps(t,e){t||no(e)}function Zh(){var t;return typeof self<"u"&&(null===(t=self.location)||void 0===t?void 0:t.href)||""}function EV(){var t;return typeof self<"u"&&(null===(t=self.location)||void 0===t?void 0:t.protocol)||null}function xoe(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function Yw(){return"http:"===EV()||"https:"===EV()}()||function Ure(){const t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}()||"connection"in navigator))||navigator.onLine}class Xh{constructor(e,n){this.shortDelay=e,this.longDelay=n,Ps(n>e,"Short delay should be less than long delay!"),this.isMobile=function Lre(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ft())}()||function jre(){return"object"==typeof navigator&&"ReactNative"===navigator.product}()}get(){return xoe()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Zw(t,e){Ps(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class wV{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:typeof globalThis<"u"&&globalThis.fetch?globalThis.fetch:typeof fetch<"u"?fetch:void no("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:typeof globalThis<"u"&&globalThis.Headers?globalThis.Headers:typeof Headers<"u"?Headers:void no("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:typeof globalThis<"u"&&globalThis.Response?globalThis.Response:typeof Response<"u"?Response:void no("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Moe={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Ooe=new Xh(3e4,6e4);function yt(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function vt(t,e,n,r){return Xw.apply(this,arguments)}function Xw(){return(Xw=w(function*(t,e,n,r,i={}){return IV(t,i,w(function*(){let o={},s={};r&&("GET"===e?s=r:o={body:JSON.stringify(r)});const a=A_(Object.assign({key:t.config.apiKey},s)).slice(1),u=yield t._getAdditionalHeaders();return u["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode),wV.fetch()(TV(t,t.config.apiHost,n,a),Object.assign({method:e,headers:u,referrerPolicy:"no-referrer"},o))}))})).apply(this,arguments)}function IV(t,e,n){return eI.apply(this,arguments)}function eI(){return(eI=w(function*(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},Moe),e);try{const i=new Foe(t),o=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();const s=yield o.json();if("needConfirmation"in s)throw ef(t,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{const a=o.ok?s.errorMessage:s.error.message,[u,c]=a.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===u)throw ef(t,"credential-already-in-use",s);if("EMAIL_EXISTS"===u)throw ef(t,"email-already-in-use",s);if("USER_DISABLED"===u)throw ef(t,"user-disabled",s);const l=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw Qw(t,l,c);Ar(t,l)}}catch(i){if(i instanceof eo)throw i;Ar(t,"network-request-failed",{message:String(i)})}})).apply(this,arguments)}function Vo(t,e,n,r){return tI.apply(this,arguments)}function tI(){return(tI=w(function*(t,e,n,r,i={}){const o=yield vt(t,e,n,r,i);return"mfaPendingCredential"in o&&Ar(t,"multi-factor-auth-required",{_serverResponse:o}),o})).apply(this,arguments)}function TV(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?Zw(t.config,i):`${t.config.apiScheme}://${i}`}function koe(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Foe{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(hi(this.auth,"network-request-failed")),Ooe.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function ef(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=hi(t,e,r);return i.customData._tokenResponse=n,i}function DV(t){return void 0!==t&&void 0!==t.enterprise}class SV{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return koe(n.enforcementState);return null}isProviderEnabled(e){return"ENFORCE"===this.getProviderEnforcementState(e)||"AUDIT"===this.getProviderEnforcementState(e)}}function AV(t,e){return rI.apply(this,arguments)}function rI(){return(rI=w(function*(t,e){return vt(t,"GET","/v2/recaptchaConfig",yt(t,e))})).apply(this,arguments)}function iI(){return(iI=w(function*(t,e){return vt(t,"POST","/v1/accounts:delete",e)})).apply(this,arguments)}function RV(t,e){return sI.apply(this,arguments)}function sI(){return(sI=w(function*(t,e){return vt(t,"POST","/v1/accounts:lookup",e)})).apply(this,arguments)}function tf(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function aI(){return(aI=w(function*(t,e=!1){const n=Vt(t),r=yield n.getIdToken(e),i=L_(r);q(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o="object"==typeof i.firebase?i.firebase:void 0,s=o?.sign_in_provider;return{claims:i,token:r,authTime:tf(uI(i.auth_time)),issuedAtTime:tf(uI(i.iat)),expirationTime:tf(uI(i.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}})).apply(this,arguments)}function uI(t){return 1e3*Number(t)}function L_(t){const[e,n,r]=t.split(".");if(void 0===e||void 0===n||void 0===r)return V_("JWT malformed, contained fewer than 3 sections"),null;try{const i=T_(n);return i?JSON.parse(i):(V_("Failed to decode base64 JWT payload"),null)}catch(i){return V_("Caught error parsing JWT payload as JSON",i?.toString()),null}}function PV(t){const e=L_(t);return q(e,"internal-error"),q(typeof e.exp<"u","internal-error"),q(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function Lo(t,e){return cI.apply(this,arguments)}function cI(){return(cI=w(function*(t,e,n=!1){if(n)return e;try{return yield e}catch(r){throw r instanceof eo&&function joe({code:t}){return"auth/user-disabled"===t||"auth/user-token-expired"===t}(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})).apply(this,arguments)}class $oe{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),r}{this.errorBackoff=3e4;const i=(null!==(n=this.user.stsTokenManager.expirationTime)&&void 0!==n?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){var n=this;if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(w(function*(){yield n.iteration()}),r)}iteration(){var e=this;return w(function*(){try{yield e.user.getIdToken(!0)}catch(n){return void("auth/network-request-failed"===n?.code&&e.schedule(!0))}e.schedule()})()}}class lI{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=tf(this.lastLoginAt),this.creationTime=tf(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function nf(t){return dI.apply(this,arguments)}function dI(){return(dI=w(function*(t){var e;const n=t.auth,r=yield t.getIdToken(),i=yield Lo(t,RV(n,{idToken:r}));q(i?.users.length,n,"internal-error");const o=i.users[0];t._notifyReloadListener(o);const s=null!==(e=o.providerUserInfo)&&void 0!==e&&e.length?xV(o.providerUserInfo):[],a=function Goe(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}(t.providerData,s),l=!!t.isAnonymous&&!(t.email&&o.passwordHash||a?.length),d={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new lI(o.createdAt,o.lastLoginAt),isAnonymous:l};Object.assign(t,d)})).apply(this,arguments)}function hI(){return(hI=w(function*(t){const e=Vt(t);yield nf(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})).apply(this,arguments)}function xV(t){return t.map(e=>{var{providerId:n}=e,r=Jp(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function fI(){return(fI=w(function*(t,e){const n=yield IV(t,{},w(function*(){const r=A_({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,s=TV(t,i,"/v1/token",`key=${o}`),a=yield t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",wV.fetch()(s,{method:"POST",headers:a,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})).apply(this,arguments)}function pI(){return(pI=w(function*(t,e){return vt(t,"POST","/v2/accounts:revokeToken",yt(t,e))})).apply(this,arguments)}class Qc{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){q(e.idToken,"internal-error"),q(typeof e.idToken<"u","internal-error"),q(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):PV(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){q(0!==e.length,"internal-error");const n=PV(e);this.updateTokensAndExpiration(e,null,n)}getToken(e,n=!1){var r=this;return w(function*(){return n||!r.accessToken||r.isExpired?(q(r.refreshToken,e,"user-token-expired"),r.refreshToken?(yield r.refresh(e,r.refreshToken),r.accessToken):null):r.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(e,n){var r=this;return w(function*(){const{accessToken:i,refreshToken:o,expiresIn:s}=yield function zoe(t,e){return fI.apply(this,arguments)}(e,n);r.updateTokensAndExpiration(i,o,Number(s))})()}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*r}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:o}=n,s=new Qc;return r&&(q("string"==typeof r,"internal-error",{appName:e}),s.refreshToken=r),i&&(q("string"==typeof i,"internal-error",{appName:e}),s.accessToken=i),o&&(q("number"==typeof o,"internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Qc,this.toJSON())}_performRefresh(){return no("not implemented")}}function xs(t,e){q("string"==typeof t||typeof t>"u","internal-error",{appName:e})}class Bo{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,o=Jp(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new $oe(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new lI(o.createdAt||void 0,o.lastLoginAt||void 0)}getIdToken(e){var n=this;return w(function*(){const r=yield Lo(n,n.stsTokenManager.getToken(n.auth,e));return q(r,n.auth,"internal-error"),n.accessToken!==r&&(n.accessToken=r,yield n.auth._persistUserIfCurrent(n),n.auth._notifyListenersIfCurrent(n)),r})()}getIdTokenResult(e){return function Uoe(t){return aI.apply(this,arguments)}(this,e)}reload(){return function Hoe(t){return hI.apply(this,arguments)}(this)}_assign(e){this!==e&&(q(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Bo(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){q(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){var r=this;return w(function*(){let i=!1;e.idToken&&e.idToken!==r.stsTokenManager.accessToken&&(r.stsTokenManager.updateFromServerResponse(e),i=!0),n&&(yield nf(r)),yield r.auth._persistUserIfCurrent(r),i&&r.auth._notifyListenersIfCurrent(r)})()}delete(){var e=this;return w(function*(){if(to(e.auth.app))return Promise.reject(vn(e.auth));const n=yield e.getIdToken();return yield Lo(e,function Loe(t,e){return iI.apply(this,arguments)}(e.auth,{idToken:n})),e.stsTokenManager.clearRefreshToken(),e.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,o,s,a,u,c,l;const d=null!==(r=n.displayName)&&void 0!==r?r:void 0,h=null!==(i=n.email)&&void 0!==i?i:void 0,f=null!==(o=n.phoneNumber)&&void 0!==o?o:void 0,m=null!==(s=n.photoURL)&&void 0!==s?s:void 0,y=null!==(a=n.tenantId)&&void 0!==a?a:void 0,v=null!==(u=n._redirectEventId)&&void 0!==u?u:void 0,T=null!==(c=n.createdAt)&&void 0!==c?c:void 0,b=null!==(l=n.lastLoginAt)&&void 0!==l?l:void 0,{uid:C,emailVerified:R,isAnonymous:M,providerData:$,stsTokenManager:ie}=n;q(C&&ie,e,"internal-error");const ue=Qc.fromJSON(this.name,ie);q("string"==typeof C,e,"internal-error"),xs(d,e.name),xs(h,e.name),q("boolean"==typeof R,e,"internal-error"),q("boolean"==typeof M,e,"internal-error"),xs(f,e.name),xs(m,e.name),xs(y,e.name),xs(v,e.name),xs(T,e.name),xs(b,e.name);const ze=new Bo({uid:C,auth:e,email:h,emailVerified:R,displayName:d,isAnonymous:M,photoURL:m,phoneNumber:f,tenantId:y,stsTokenManager:ue,createdAt:T,lastLoginAt:b});return $&&Array.isArray($)&&(ze.providerData=$.map(_t=>Object.assign({},_t))),v&&(ze._redirectEventId=v),ze}static _fromIdTokenResponse(e,n,r=!1){return w(function*(){const i=new Qc;i.updateFromServerResponse(n);const o=new Bo({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield nf(o),o})()}static _fromGetAccountInfoResponse(e,n,r){return w(function*(){const i=n.users[0];q(void 0!==i.localId,"internal-error");const o=void 0!==i.providerUserInfo?xV(i.providerUserInfo):[],s=!(i.email&&i.passwordHash||o?.length),a=new Qc;a.updateFromIdToken(r);const u=new Bo({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:s}),c={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new lI(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash||o?.length)};return Object.assign(u,c),u})()}}const NV=new Map;function Uo(t){Ps(t instanceof Function,"Expected a class definition");let e=NV.get(t);return e?(Ps(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,NV.set(t,e),e)}const MV=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return w(function*(){return!0})()}_set(n,r){var i=this;return w(function*(){i.storage[n]=r})()}_get(n){var r=this;return w(function*(){const i=r.storage[n];return void 0===i?null:i})()}_remove(n){var r=this;return w(function*(){delete r.storage[n]})()}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})();function B_(t,e,n){return`firebase:${t}:${e}:${n}`}class Jc{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:o}=this.auth;this.fullUserKey=B_(this.userKey,i.apiKey,o),this.fullPersistenceKey=B_("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){var e=this;return w(function*(){const n=yield e.persistence._get(e.fullUserKey);return n?Bo._fromJSON(e.auth,n):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){var n=this;return w(function*(){if(n.persistence===e)return;const r=yield n.getCurrentUser();return yield n.removeCurrentUser(),n.persistence=e,r?n.setCurrentUser(r):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return w(function*(){if(!n.length)return new Jc(Uo(MV),e,r);const i=(yield Promise.all(n.map(function(){var c=w(function*(l){if(yield l._isAvailable())return l});return function(l){return c.apply(this,arguments)}}()))).filter(c=>c);let o=i[0]||Uo(MV);const s=B_(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const l=yield c._get(s);if(l){const d=Bo._fromJSON(e,l);c!==o&&(a=d),o=c;break}}catch{}const u=i.filter(c=>c._shouldAllowMigration);return o._shouldAllowMigration&&u.length?(o=u[0],a&&(yield o._set(s,a.toJSON())),yield Promise.all(n.map(function(){var c=w(function*(l){if(l!==o)try{yield l._remove(s)}catch{}});return function(l){return c.apply(this,arguments)}}())),new Jc(o,e,r)):new Jc(o,e,r)})()}}function OV(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(VV(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(kV(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(BV(e))return"Blackberry";if(UV(e))return"Webos";if(gI(e))return"Safari";if((e.includes("chrome/")||FV(e))&&!e.includes("edge/"))return"Chrome";if(LV(e))return"Android";{const r=t.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===r?.length)return r[1]}return"Other"}function kV(t=Ft()){return/firefox\//i.test(t)}function gI(t=Ft()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function FV(t=Ft()){return/crios\//i.test(t)}function VV(t=Ft()){return/iemobile/i.test(t)}function LV(t=Ft()){return/android/i.test(t)}function BV(t=Ft()){return/blackberry/i.test(t)}function UV(t=Ft()){return/webos/i.test(t)}function U_(t=Ft()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function jV(t=Ft()){return U_(t)||LV(t)||UV(t)||BV(t)||/windows phone/i.test(t)||VV(t)}function $V(t,e=[]){let n;switch(t){case"Browser":n=OV(Ft());break;case"Worker":n=`${OV(Ft())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Fa}/${r}`}class Joe{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=o=>new Promise((s,a)=>{try{s(e(o))}catch(u){a(u)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){var n=this;return w(function*(){if(n.auth.currentUser===e)return;const r=[];try{for(const i of n.queue)yield i(e),i.onAbort&&r.push(i.onAbort)}catch(i){r.reverse();for(const o of r)try{o()}catch{}throw n.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}})()}}function mI(){return(mI=w(function*(t,e={}){return vt(t,"GET","/v2/passwordPolicy",yt(t,e))})).apply(this,arguments)}class Xoe{constructor(e){var n,r,i,o;const s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(n=s.minPasswordLength)&&void 0!==n?n:6,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),void 0!==s.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),void 0!==s.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),void 0!==s.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),void 0!==s.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(i=null===(r=e.allowedNonAlphanumericCharacters)||void 0===r?void 0:r.join(""))&&void 0!==i?i:"",this.forceUpgradeOnSignin=null!==(o=e.forceUpgradeOnSignin)&&void 0!==o&&o,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,o,s,a;const u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=null===(n=u.meetsMinPasswordLength)||void 0===n||n),u.isValid&&(u.isValid=null===(r=u.meetsMaxPasswordLength)||void 0===r||r),u.isValid&&(u.isValid=null===(i=u.containsLowercaseLetter)||void 0===i||i),u.isValid&&(u.isValid=null===(o=u.containsUppercaseLetter)||void 0===o||o),u.isValid&&(u.isValid=null===(s=u.containsNumericCharacter)||void 0===s||s),u.isValid&&(u.isValid=null===(a=u.containsNonAlphanumericCharacter)||void 0===a||a),u}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){let r;this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}class ese{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new HV(this),this.idTokenSubscription=new HV(this),this.beforeStateQueue=new Joe(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=bV,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){var r=this;return n&&(this._popupRedirectResolver=Uo(n)),this._initializationPromise=this.queue(w(function*(){var i,o;if(!r._deleted&&(r.persistenceManager=yield Jc.create(r,e),!r._deleted)){if(null!==(i=r._popupRedirectResolver)&&void 0!==i&&i._shouldInitProactively)try{yield r._popupRedirectResolver._initialize(r)}catch{}yield r.initializeCurrentUser(n),r.lastNotifiedUid=(null===(o=r.currentUser)||void 0===o?void 0:o.uid)||null,!r._deleted&&(r._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var e=this;return w(function*(){if(e._deleted)return;const n=yield e.assertedPersistence.getCurrentUser();if(e.currentUser||n){if(e.currentUser&&n&&e.currentUser.uid===n.uid)return e._currentUser._assign(n),void(yield e.currentUser.getIdToken());yield e._updateCurrentUser(n,!0)}})()}initializeCurrentUserFromIdToken(e){var n=this;return w(function*(){try{const r=yield RV(n,{idToken:e}),i=yield Bo._fromGetAccountInfoResponse(n,r,e);yield n.directlySetCurrentUser(i)}catch(r){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",r),yield n.directlySetCurrentUser(null)}})()}initializeCurrentUser(e){var n=this;return w(function*(){var r;if(to(n.app)){const a=n.app.settings.authIdToken;return a?new Promise(u=>{setTimeout(()=>n.initializeCurrentUserFromIdToken(a).then(u,u))}):n.directlySetCurrentUser(null)}const i=yield n.assertedPersistence.getCurrentUser();let o=i,s=!1;if(e&&n.config.authDomain){yield n.getOrInitRedirectPersistenceManager();const a=null===(r=n.redirectUser)||void 0===r?void 0:r._redirectEventId,u=o?._redirectEventId,c=yield n.tryRedirectSignIn(e);(!a||a===u)&&c?.user&&(o=c.user,s=!0)}if(!o)return n.directlySetCurrentUser(null);if(!o._redirectEventId){if(s)try{yield n.beforeStateQueue.runMiddleware(o)}catch(a){o=i,n._popupRedirectResolver._overrideRedirectResult(n,()=>Promise.reject(a))}return o?n.reloadAndSetCurrentUserOrClear(o):n.directlySetCurrentUser(null)}return q(n._popupRedirectResolver,n,"argument-error"),yield n.getOrInitRedirectPersistenceManager(),n.redirectUser&&n.redirectUser._redirectEventId===o._redirectEventId?n.directlySetCurrentUser(o):n.reloadAndSetCurrentUserOrClear(o)})()}tryRedirectSignIn(e){var n=this;return w(function*(){let r=null;try{r=yield n._popupRedirectResolver._completeRedirectFn(n,e,!0)}catch{yield n._setRedirectUser(null)}return r})()}reloadAndSetCurrentUserOrClear(e){var n=this;return w(function*(){try{yield nf(e)}catch(r){if("auth/network-request-failed"!==r?.code)return n.directlySetCurrentUser(null)}return n.directlySetCurrentUser(e)})()}useDeviceLanguage(){this.languageCode=function Noe(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}()}_delete(){var e=this;return w(function*(){e._deleted=!0})()}updateCurrentUser(e){var n=this;return w(function*(){if(to(n.app))return Promise.reject(vn(n));const r=e?Vt(e):null;return r&&q(r.auth.config.apiKey===n.config.apiKey,n,"invalid-user-token"),n._updateCurrentUser(r&&r._clone(n))})()}_updateCurrentUser(e,n=!1){var r=this;return w(function*(){if(!r._deleted)return e&&q(r.tenantId===e.tenantId,r,"tenant-id-mismatch"),n||(yield r.beforeStateQueue.runMiddleware(e)),r.queue(w(function*(){yield r.directlySetCurrentUser(e),r.notifyAuthListeners()}))})()}signOut(){var e=this;return w(function*(){return to(e.app)?Promise.reject(vn(e)):(yield e.beforeStateQueue.runMiddleware(null),(e.redirectPersistenceManager||e._popupRedirectResolver)&&(yield e._setRedirectUser(null)),e._updateCurrentUser(null,!0))})()}setPersistence(e){var n=this;return to(this.app)?Promise.reject(vn(this)):this.queue(w(function*(){yield n.assertedPersistence.setPersistence(Uo(e))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){var n=this;return w(function*(){n._getPasswordPolicyInternal()||(yield n._updatePasswordPolicy());const r=n._getPasswordPolicyInternal();return r.schemaVersion!==n.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(n._errorFactory.create("unsupported-password-policy-schema-version",{})):r.validatePassword(e)})()}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){var e=this;return w(function*(){const n=yield function Yoe(t){return mI.apply(this,arguments)}(e),r=new Xoe(n);null===e.tenantId?e._projectPasswordPolicy=r:e._tenantPasswordPolicies[e.tenantId]=r})()}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Hh("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}revokeAccessToken(e){var n=this;return w(function*(){if(n.currentUser){const r=yield n.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:r};null!=n.tenantId&&(i.tenantId=n.tenantId),yield function qoe(t,e){return pI.apply(this,arguments)}(n,i)}})()}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}_setRedirectUser(e,n){var r=this;return w(function*(){const i=yield r.getOrInitRedirectPersistenceManager(n);return null===e?i.removeCurrentUser():i.setCurrentUser(e)})()}getOrInitRedirectPersistenceManager(e){var n=this;return w(function*(){if(!n.redirectPersistenceManager){const r=e&&Uo(e)||n._popupRedirectResolver;q(r,n,"argument-error"),n.redirectPersistenceManager=yield Jc.create(n,[Uo(r._redirectPersistence)],"redirectUser"),n.redirectUser=yield n.redirectPersistenceManager.getCurrentUser()}return n.redirectPersistenceManager})()}_redirectUserForId(e){var n=this;return w(function*(){var r,i;return n._isInitialized&&(yield n.queue(w(function*(){}))),(null===(r=n._currentUser)||void 0===r?void 0:r._redirectEventId)===e?n._currentUser:(null===(i=n.redirectUser)||void 0===i?void 0:i._redirectEventId)===e?n.redirectUser:null})()}_persistUserIfCurrent(e){var n=this;return w(function*(){if(e===n.currentUser)return n.queue(w(function*(){return n.directlySetCurrentUser(e)}))})()}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=null!==(n=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==n?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const o="function"==typeof n?n:n.next.bind(n);let s=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(q(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),"function"==typeof n){const u=e.addObserver(n,r,i);return()=>{s=!0,u()}}{const u=e.addObserver(n);return()=>{s=!0,u()}}}directlySetCurrentUser(e){var n=this;return w(function*(){n.currentUser&&n.currentUser!==e&&n._currentUser._stopProactiveRefresh(),e&&n.isProactiveRefreshEnabled&&e._startProactiveRefresh(),n.currentUser=e,e?yield n.assertedPersistence.setCurrentUser(e):yield n.assertedPersistence.removeCurrentUser()})()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return q(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=$V(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var e=this;return w(function*(){var n;const r={"X-Client-Version":e.clientVersion};e.app.options.appId&&(r["X-Firebase-gmpid"]=e.app.options.appId);const i=yield null===(n=e.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===n?void 0:n.getHeartbeatsHeader();i&&(r["X-Firebase-Client"]=i);const o=yield e._getAppCheckToken();return o&&(r["X-Firebase-AppCheck"]=o),r})()}_getAppCheckToken(){var e=this;return w(function*(){var n;const r=yield null===(n=e.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===n?void 0:n.getToken();return r?.error&&function Poe(t,...e){F_.logLevel<=ke.WARN&&F_.warn(`Auth (${Fa}): ${t}`,...e)}(`Error while retrieving App Check token: ${r.error}`),r?.token})()}}function Kt(t){return Vt(t)}class HV{constructor(e){this.auth=e,this.observer=null,this.addObserver=function Qre(t,e){const n=new Jre(t,e);return n.subscribe.bind(n)}(n=>this.observer=n)}get next(){return q(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let rf={loadJS:()=>w(function*(){throw new Error("Unable to load external scripts")})(),recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function _I(t){return rf.loadJS(t)}function GV(t){return`__${t}${Math.floor(1e6*Math.random())}`}class zV{constructor(e){this.type="recaptcha-enterprise",this.auth=Kt(e)}verify(e="verify",n=!1){var r=this;return w(function*(){function o(){return o=w(function*(a){if(!n){if(null==a.tenantId&&null!=a._agentRecaptchaConfig)return a._agentRecaptchaConfig.siteKey;if(null!=a.tenantId&&void 0!==a._tenantRecaptchaConfigs[a.tenantId])return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(function(){var u=w(function*(c,l){AV(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(void 0!==d.recaptchaKey){const h=new SV(d);return null==a.tenantId?a._agentRecaptchaConfig=h:a._tenantRecaptchaConfigs[a.tenantId]=h,c(h.siteKey)}l(new Error("recaptcha Enterprise site key undefined"))}).catch(d=>{l(d)})});return function(c,l){return u.apply(this,arguments)}}())}),o.apply(this,arguments)}function s(a,u,c){const l=window.grecaptcha;DV(l)?l.enterprise.ready(()=>{l.enterprise.execute(a,{action:e}).then(d=>{u(d)}).catch(()=>{u("NO_RECAPTCHA")})}):c(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((a,u)=>{(function i(a){return o.apply(this,arguments)})(r.auth).then(c=>{if(!n&&DV(window.grecaptcha))s(c,a,u);else{if(typeof window>"u")return void u(new Error("RecaptchaVerifier is only supported in browser"));let l=function rse(){return rf.recaptchaEnterpriseScript}();0!==l.length&&(l+=c),_I(l).then(()=>{s(c,a,u)}).catch(d=>{u(d)})}}).catch(c=>{u(c)})})})()}}function qV(t,e,n){return yI.apply(this,arguments)}function yI(){return(yI=w(function*(t,e,n,r=!1){const i=new zV(t);let o;try{o=yield i.verify(n)}catch{o=yield i.verify(n,!0)}const s=Object.assign({},e);return Object.assign(s,r?{captchaResp:o}:{captchaResponse:o}),Object.assign(s,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(s,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),s})).apply(this,arguments)}function sf(t,e,n,r){return vI.apply(this,arguments)}function vI(){return vI=w(function*(t,e,n,r){var i;if(null!==(i=t._getRecaptchaConfig())&&void 0!==i&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=yield qV(t,e,n,"getOobCode"===n);return r(t,o)}return r(t,e).catch(function(){var o=w(function*(s){if("auth/missing-recaptcha-token"===s.code){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const a=yield qV(t,e,n,"getOobCode"===n);return r(t,a)}return Promise.reject(s)});return function(s){return o.apply(this,arguments)}}())}),vI.apply(this,arguments)}function WV(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function KV(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}class QV{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return no("not implemented")}_getIdTokenResponse(e){return no("not implemented")}_linkToIdToken(e,n){return no("not implemented")}_getReauthenticationResolver(e){return no("not implemented")}}function pse(t,e){return II.apply(this,arguments)}function II(){return(II=w(function*(t,e){return vt(t,"POST","/v1/accounts:signUp",e)})).apply(this,arguments)}function mse(t,e){return CI.apply(this,arguments)}function CI(){return(CI=w(function*(t,e){return Vo(t,"POST","/v1/accounts:signInWithPassword",yt(t,e))})).apply(this,arguments)}function xI(){return(xI=w(function*(t,e){return Vo(t,"POST","/v1/accounts:signInWithEmailLink",yt(t,e))})).apply(this,arguments)}function NI(){return(NI=w(function*(t,e){return Vo(t,"POST","/v1/accounts:signInWithEmailLink",yt(t,e))})).apply(this,arguments)}class af extends QV{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new af(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new af(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n="string"==typeof e?JSON.parse(e):e;if(n?.email&&n?.password){if("password"===n.signInMethod)return this._fromEmailAndPassword(n.email,n.password);if("emailLink"===n.signInMethod)return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}_getIdTokenResponse(e){var n=this;return w(function*(){switch(n.signInMethod){case"password":return sf(e,{returnSecureToken:!0,email:n._email,password:n._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",mse);case"emailLink":return function Ese(t,e){return xI.apply(this,arguments)}(e,{email:n._email,oobCode:n._password});default:Ar(e,"internal-error")}})()}_linkToIdToken(e,n){var r=this;return w(function*(){switch(r.signInMethod){case"password":return sf(e,{idToken:n,returnSecureToken:!0,email:r._email,password:r._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",pse);case"emailLink":return function wse(t,e){return NI.apply(this,arguments)}(e,{idToken:n,email:r._email,oobCode:r._password});default:Ar(e,"internal-error")}})()}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}function jo(t,e){return MI.apply(this,arguments)}function MI(){return(MI=w(function*(t,e){return Vo(t,"POST","/v1/accounts:signInWithIdp",yt(t,e))})).apply(this,arguments)}class lf{constructor(e){var n,r,i,o,s,a;const u=Gh(zh(e)),c=null!==(n=u.apiKey)&&void 0!==n?n:null,l=null!==(r=u.oobCode)&&void 0!==r?r:null,d=function Rse(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=u.mode)&&void 0!==i?i:null);q(c&&l&&d,"argument-error"),this.apiKey=c,this.operation=d,this.code=l,this.continueUrl=null!==(o=u.continueUrl)&&void 0!==o?o:null,this.languageCode=null!==(s=u.languageCode)&&void 0!==s?s:null,this.tenantId=null!==(a=u.tenantId)&&void 0!==a?a:null}static parseLink(e){const n=function Pse(t){const e=Gh(zh(t)).link,n=e?Gh(zh(e)).deep_link_id:null,r=Gh(zh(t)).deep_link_id;return(r?Gh(zh(r)).link:null)||r||n||e||t}(e);try{return new lf(n)}catch{return null}}}let YV=(()=>{class t{constructor(){this.providerId=t.PROVIDER_ID}static credential(n,r){return af._fromEmailAndPassword(n,r)}static credentialWithLink(n,r){const i=lf.parseLink(r);return q(i,"argument-error"),af._fromEmailAndCode(n,i.code,i.tenantId)}}return t.PROVIDER_ID="password",t.EMAIL_PASSWORD_SIGN_IN_METHOD="password",t.EMAIL_LINK_SIGN_IN_METHOD="emailLink",t})();class Ns{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class xse extends Ns{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}function ZV(t,e){return BI.apply(this,arguments)}function BI(){return(BI=w(function*(t,e){return Vo(t,"POST","/v1/accounts:signUp",yt(t,e))})).apply(this,arguments)}class fi{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,n,r,i=!1){return w(function*(){const o=yield Bo._fromIdTokenResponse(e,r,i),s=XV(r);return new fi({user:o,providerId:s,_tokenResponse:r,operationType:n})})()}static _forOperation(e,n,r){return w(function*(){yield e._updateTokensIfNecessary(r,!0);const i=XV(r);return new fi({user:e,providerId:i,_tokenResponse:r,operationType:n})})()}}function XV(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}class H_ extends eo{constructor(e,n,r,i){var o;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,H_.prototype),this.customData={appName:e.name,tenantId:null!==(o=e.tenantId)&&void 0!==o?o:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new H_(e,n,r,i)}}function eL(t,e,n,r){return("reauthenticate"===e?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw"auth/multi-factor-auth-required"===o.code?H_._fromErrorAndOperation(t,o,e,r):o})}function HI(){return(HI=w(function*(t,e,n=!1){const r=yield Lo(t,e._linkToIdToken(t.auth,yield t.getIdToken()),n);return fi._forOperation(t,"link",r)})).apply(this,arguments)}function zI(){return(zI=w(function*(t,e,n=!1){const{auth:r}=t;if(to(r.app))return Promise.reject(vn(r));const i="reauthenticate";try{const o=yield Lo(t,eL(r,i,e,t),n);q(o.idToken,r,"internal-error");const s=L_(o.idToken);q(s,r,"internal-error");const{sub:a}=s;return q(t.uid===a,r,"user-mismatch"),fi._forOperation(t,i,o)}catch(o){throw"auth/user-not-found"===o?.code&&Ar(r,"user-mismatch"),o}})).apply(this,arguments)}function rL(t,e){return qI.apply(this,arguments)}function qI(){return(qI=w(function*(t,e,n=!1){if(to(t.app))return Promise.reject(vn(t));const r="signIn",i=yield eL(t,r,e),o=yield fi._fromIdTokenResponse(t,r,i);return n||(yield t._updateCurrentUser(o.user)),o})).apply(this,arguments)}function WI(t,e){return KI.apply(this,arguments)}function KI(){return(KI=w(function*(t,e){return rL(Kt(t),e)})).apply(this,arguments)}function nT(t){return rT.apply(this,arguments)}function rT(){return(rT=w(function*(t){const e=Kt(t);e._getPasswordPolicyInternal()&&(yield e._updatePasswordPolicy())})).apply(this,arguments)}function Lse(t,e,n){return cT.apply(this,arguments)}function cT(){return(cT=w(function*(t,e,n){if(to(t.app))return Promise.reject(vn(t));const r=Kt(t),s=yield sf(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",ZV).catch(u=>{throw"auth/password-does-not-meet-requirements"===u.code&&nT(t),u}),a=yield fi._fromIdTokenResponse(r,"signIn",s);return yield r._updateCurrentUser(a.user),a})).apply(this,arguments)}const q_="__sak";class oL{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(q_,"1"),this.storage.removeItem(q_),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const nae=(()=>{class t extends oL{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(n,r)=>this.onStorageEvent(n,r),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Xse(){const t=Ft();return gI(t)||U_(t)}()&&function Qoe(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=jV(),this._shouldAllowMigration=!0}forAllChangedKeys(n){for(const r of Object.keys(this.listeners)){const i=this.storage.getItem(r),o=this.localCache[r];i!==o&&n(r,o,i)}}onStorageEvent(n,r=!1){if(!n.key)return void this.forAllChangedKeys((a,u,c)=>{this.notifyListeners(a,c)});const i=n.key;if(r?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const a=this.storage.getItem(i);if(n.newValue!==a)null!==n.newValue?this.storage.setItem(i,n.newValue):this.storage.removeItem(i);else if(this.localCache[i]===n.newValue&&!r)return}const o=()=>{const a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},s=this.storage.getItem(i);!function Koe(){return function $re(){const t=Ft();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}()&&10===document.documentMode}()||s===n.newValue||n.newValue===n.oldValue?o():setTimeout(o,10)}notifyListeners(n,r){this.localCache[n]=r;const i=this.listeners[n];if(i)for(const o of Array.from(i))o(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((n,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:n,oldValue:r,newValue:i}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(n,r){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[n]||(this.listeners[n]=new Set,this.localCache[n]=this.storage.getItem(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),0===this.listeners[n].size&&delete this.listeners[n]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(n,r){var i=()=>super._set,o=this;return w(function*(){yield i().call(o,n,r),o.localCache[n]=JSON.stringify(r)})()}_get(n){var r=()=>super._get,i=this;return w(function*(){const o=yield r().call(i,n);return i.localCache[n]=JSON.stringify(o),o})()}_remove(n){var r=()=>super._remove,i=this;return w(function*(){yield r().call(i,n),delete i.localCache[n]})()}}return t.type="LOCAL",t})(),sL=(()=>{class t extends oL{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(n,r){}_removeListener(n,r){}}return t.type="SESSION",t})();let iae=(()=>{class t{constructor(n){this.eventTarget=n,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(n){const r=this.receivers.find(o=>o.isListeningto(n));if(r)return r;const i=new t(n);return this.receivers.push(i),i}isListeningto(n){return this.eventTarget===n}handleEvent(n){var r=this;return w(function*(){const i=n,{eventId:o,eventType:s,data:a}=i.data,u=r.handlersMap[s];if(!u?.size)return;i.ports[0].postMessage({status:"ack",eventId:o,eventType:s});const c=Array.from(u).map(function(){var d=w(function*(h){return h(i.origin,a)});return function(h){return d.apply(this,arguments)}}()),l=yield function rae(t){return Promise.all(t.map(function(){var e=w(function*(n){try{return{fulfilled:!0,value:yield n}}catch(r){return{fulfilled:!1,reason:r}}});return function(n){return e.apply(this,arguments)}}()))}(c);i.ports[0].postMessage({status:"done",eventId:o,eventType:s,response:l})})()}_subscribe(n,r){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[n]||(this.handlersMap[n]=new Set),this.handlersMap[n].add(r)}_unsubscribe(n,r){this.handlersMap[n]&&r&&this.handlersMap[n].delete(r),(!r||0===this.handlersMap[n].size)&&delete this.handlersMap[n],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return t.receivers=[],t})();function CT(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(10*Math.random());return t+n}class oae{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,n,r=50){var i=this;return w(function*(){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let s,a;return new Promise((u,c)=>{const l=CT("",20);o.port1.start();const d=setTimeout(()=>{c(new Error("unsupported_event"))},r);a={messageChannel:o,onMessage(h){const f=h;if(f.data.eventId===l)switch(f.data.status){case"ack":clearTimeout(d),s=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),u(f.data.response);break;default:clearTimeout(d),clearTimeout(s),c(new Error("invalid_response"))}}},i.handlers.add(a),o.port1.addEventListener("message",a.onMessage),i.target.postMessage({eventType:e,eventId:l,data:n},[o.port2])}).finally(()=>{a&&i.removeMessageHandler(a)})})()}}function rn(){return window}function DT(){return typeof rn().WorkerGlobalScope<"u"&&"function"==typeof rn().importScripts}function ST(){return(ST=w(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const aL="firebaseLocalStorageDb",W_="firebaseLocalStorage",uL="fbase_key";class hf{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function K_(t,e){return t.transaction([W_],e?"readwrite":"readonly").objectStore(W_)}function AT(){const t=indexedDB.open(aL,1);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(W_,{keyPath:uL})}catch(i){n(i)}}),t.addEventListener("success",w(function*(){const r=t.result;r.objectStoreNames.contains(W_)?e(r):(r.close(),yield function dae(){const t=indexedDB.deleteDatabase(aL);return new hf(t).toPromise()}(),e(yield AT()))}))})}function cL(t,e,n){return RT.apply(this,arguments)}function RT(){return(RT=w(function*(t,e,n){const r=K_(t,!0).put({[uL]:e,value:n});return new hf(r).toPromise()})).apply(this,arguments)}function PT(){return(PT=w(function*(t,e){const n=K_(t,!1).get(e),r=yield new hf(n).toPromise();return void 0===r?null:r.value})).apply(this,arguments)}function lL(t,e){const n=K_(t,!0).delete(e);return new hf(n).toPromise()}const gae=(()=>{class t{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var n=this;return w(function*(){return n.db||(n.db=yield AT()),n.db})()}_withRetries(n){var r=this;return w(function*(){let i=0;for(;;)try{const o=yield r._openDb();return yield n(o)}catch(o){if(i++>3)throw o;r.db&&(r.db.close(),r.db=void 0)}})()}initializeServiceWorkerMessaging(){var n=this;return w(function*(){return DT()?n.initializeReceiver():n.initializeSender()})()}initializeReceiver(){var n=this;return w(function*(){n.receiver=iae._getInstance(function cae(){return DT()?self:null}()),n.receiver._subscribe("keyChanged",function(){var r=w(function*(i,o){return{keyProcessed:(yield n._poll()).includes(o.key)}});return function(i,o){return r.apply(this,arguments)}}()),n.receiver._subscribe("ping",function(){var r=w(function*(i,o){return["keyChanged"]});return function(i,o){return r.apply(this,arguments)}}())})()}initializeSender(){var n=this;return w(function*(){var r,i;if(n.activeServiceWorker=yield function aae(){return ST.apply(this,arguments)}(),!n.activeServiceWorker)return;n.sender=new oae(n.activeServiceWorker);const o=yield n.sender._send("ping",{},800);o&&null!==(r=o[0])&&void 0!==r&&r.fulfilled&&null!==(i=o[0])&&void 0!==i&&i.value.includes("keyChanged")&&(n.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(n){var r=this;return w(function*(){if(r.sender&&r.activeServiceWorker&&function uae(){var t;return(null===(t=navigator?.serviceWorker)||void 0===t?void 0:t.controller)||null}()===r.activeServiceWorker)try{yield r.sender._send("keyChanged",{key:n},r.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return w(function*(){try{if(!indexedDB)return!1;const n=yield AT();return yield cL(n,q_,"1"),yield lL(n,q_),!0}catch{}return!1})()}_withPendingWrite(n){var r=this;return w(function*(){r.pendingWrites++;try{yield n()}finally{r.pendingWrites--}})()}_set(n,r){var i=this;return w(function*(){return i._withPendingWrite(w(function*(){return yield i._withRetries(o=>cL(o,n,r)),i.localCache[n]=r,i.notifyServiceWorker(n)}))})()}_get(n){var r=this;return w(function*(){const i=yield r._withRetries(o=>function hae(t,e){return PT.apply(this,arguments)}(o,n));return r.localCache[n]=i,i})()}_remove(n){var r=this;return w(function*(){return r._withPendingWrite(w(function*(){return yield r._withRetries(i=>lL(i,n)),delete r.localCache[n],r.notifyServiceWorker(n)}))})()}_poll(){var n=this;return w(function*(){const r=yield n._withRetries(s=>{const a=K_(s,!1).getAll();return new hf(a).toPromise()});if(!r)return[];if(0!==n.pendingWrites)return[];const i=[],o=new Set;if(0!==r.length)for(const{fbase_key:s,value:a}of r)o.add(s),JSON.stringify(n.localCache[s])!==JSON.stringify(a)&&(n.notifyListeners(s,a),i.push(s));for(const s of Object.keys(n.localCache))n.localCache[s]&&!o.has(s)&&(n.notifyListeners(s,null),i.push(s));return i})()}notifyListeners(n,r){this.localCache[n]=r;const i=this.listeners[n];if(i)for(const o of Array.from(i))o(r)}startPolling(){var n=this;this.stopPolling(),this.pollTimer=setInterval(w(function*(){return n._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(n,r){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[n]||(this.listeners[n]=new Set,this._get(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),0===this.listeners[n].size&&delete this.listeners[n]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return t.type="LOCAL",t})();GV("rcb"),new Xh(3e4,6e4);class BT extends QV{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return jo(e,this._buildIdpRequest())}_linkToIdToken(e,n){return jo(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return jo(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function Pae(t){return rL(t.auth,new BT(t),t.bypassAuthState)}function xae(t){const{auth:e,user:n}=t;return q(n,e,"internal-error"),function nL(t,e){return zI.apply(this,arguments)}(n,new BT(t),t.bypassAuthState)}function Nae(t){return UT.apply(this,arguments)}function UT(){return(UT=w(function*(t){const{auth:e,user:n}=t;return q(n,e,"internal-error"),function $I(t,e){return HI.apply(this,arguments)}(n,new BT(t),t.bypassAuthState)})).apply(this,arguments)}class Mae{constructor(e,n,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){var e=this;return new Promise(function(){var n=w(function*(r,i){e.pendingPromise={resolve:r,reject:i};try{e.eventManager=yield e.resolver._initialize(e.auth),yield e.onExecution(),e.eventManager.registerConsumer(e)}catch(o){e.reject(o)}});return function(r,i){return n.apply(this,arguments)}}())}onAuthEvent(e){var n=this;return w(function*(){const{urlResponse:r,sessionId:i,postBody:o,tenantId:s,error:a,type:u}=e;if(a)return void n.reject(a);const c={auth:n.auth,requestUri:r,sessionId:i,tenantId:s||void 0,postBody:o||void 0,user:n.user,bypassAuthState:n.bypassAuthState};try{n.resolve(yield n.getIdpTask(u)(c))}catch(l){n.reject(l)}})()}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Pae;case"linkViaPopup":case"linkViaRedirect":return Nae;case"reauthViaPopup":case"reauthViaRedirect":return xae;default:Ar(this.auth,"internal-error")}}resolve(e){Ps(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ps(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}new Xh(2e3,1e4);const Oae="pendingRedirect",ff=new Map;class kae extends Mae{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}execute(){var e=()=>super.execute,n=this;return w(function*(){let r=ff.get(n.auth._key());if(!r){try{const o=(yield function Fae(t,e){return zT.apply(this,arguments)}(n.resolver,n.auth))?yield e().call(n):null;r=()=>Promise.resolve(o)}catch(i){r=()=>Promise.reject(i)}ff.set(n.auth._key(),r)}return n.bypassAuthState||ff.set(n.auth._key(),()=>Promise.resolve(null)),r()})()}onAuthEvent(e){var n=()=>super.onAuthEvent,r=this;return w(function*(){if("signInViaRedirect"===e.type)return n().call(r,e);if("unknown"!==e.type){if(e.eventId){const i=yield r.auth._redirectUserForId(e.eventId);if(i)return r.user=i,n().call(r,e);r.resolve(null)}}else r.resolve(null)})()}onExecution(){return w(function*(){})()}cleanUp(){}}function zT(){return(zT=w(function*(t,e){const n=function fL(t){return B_(Oae,t.config.apiKey,t.name)}(e),r=function hL(t){return Uo(t._redirectPersistence)}(t);if(!(yield r._isAvailable()))return!1;const i="true"===(yield r._get(n));return yield r._remove(n),i})).apply(this,arguments)}function Vae(t,e){ff.set(t._key(),e)}function pL(t,e){return ZT.apply(this,arguments)}function ZT(){return(ZT=w(function*(t,e,n=!1){if(to(t.app))return Promise.reject(vn(t));const r=Kt(t),i=function Ba(t,e){return e?Uo(e):(q(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}(r,e),s=yield new kae(r,i,n).execute();return s&&!n&&(delete s.user._redirectEventId,yield r._persistUserIfCurrent(s.user),yield r._setRedirectUser(null,e)),s})).apply(this,arguments)}class $ae{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function Hae(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return _L(t);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!_L(e)){const i=(null===(r=e.error.code)||void 0===r?void 0:r.split("auth/")[1])||"internal-error";n.onError(hi(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=null===n.eventId||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(mL(e))}saveEventToCache(e){this.cachedEventUids.add(mL(e)),this.lastProcessedEventTime=Date.now()}}function mL(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function _L({type:t,error:e}){return"unknown"===t&&"auth/no-auth-event"===e?.code}function eC(){return(eC=w(function*(t,e={}){return vt(t,"GET","/v1/projects",e)})).apply(this,arguments)}const zae=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,qae=/^https?/;function tC(){return tC=w(function*(t){if(t.config.emulator)return;const{authorizedDomains:e}=yield function Gae(t){return eC.apply(this,arguments)}(t);for(const n of e)try{if(Kae(n))return}catch{}Ar(t,"unauthorized-domain")}),tC.apply(this,arguments)}function Kae(t){const e=Zh(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const s=new URL(t);return""===s.hostname&&""===r?"chrome-extension:"===n&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):"chrome-extension:"===n&&s.hostname===r}if(!qae.test(n))return!1;if(zae.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const Qae=new Xh(3e4,6e4);function yL(){const t=rn().___jsl;if(t?.H)for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}let J_=null;const Zae=new Xh(5e3,15e3),Xae="__/auth/iframe",eue="emulator/auth/iframe",tue={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},nue=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function rue(t){const e=t.config;q(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Zw(e,eue):`https://${t.config.authDomain}/${Xae}`,r={apiKey:e.apiKey,appName:t.name,v:Fa},i=nue.get(t.config.apiHost);i&&(r.eid=i);const o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${A_(r).slice(1)}`}function nC(){return nC=w(function*(t){const e=yield function Yae(t){return J_=J_||function Jae(t){return new Promise((e,n)=>{var r,i,o;function s(){yL(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{yL(),n(hi(t,"network-request-failed"))},timeout:Qae.get()})}if(null!==(i=null===(r=rn().gapi)||void 0===r?void 0:r.iframes)&&void 0!==i&&i.Iframe)e(gapi.iframes.getContext());else{if(null===(o=rn().gapi)||void 0===o||!o.load){const a=GV("iframefcb");return rn()[a]=()=>{gapi.load?s():n(hi(t,"network-request-failed"))},_I(`${function ise(){return rf.gapiScript}()}?onload=${a}`).catch(u=>n(u))}s()}}).catch(e=>{throw J_=null,e})}(t),J_}(t),n=rn().gapi;return q(n,t,"internal-error"),e.open({where:document.body,url:rue(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:tue,dontclear:!0},r=>new Promise(function(){var i=w(function*(o,s){yield r.restyle({setHideOnLeave:!1});const a=hi(t,"network-request-failed"),u=rn().setTimeout(()=>{s(a)},Zae.get());function c(){rn().clearTimeout(u),o(r)}r.ping(c).then(c,()=>{s(a)})});return function(o,s){return i.apply(this,arguments)}}()))}),nC.apply(this,arguments)}const oue={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class vL{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const hue="__/auth/handler",fue="emulator/auth/handler",pue=encodeURIComponent("fac");function bL(t,e,n,r,i,o){return rC.apply(this,arguments)}function rC(){return(rC=w(function*(t,e,n,r,i,o){q(t.config.authDomain,t,"auth-domain-config-required"),q(t.config.apiKey,t,"invalid-api-key");const s={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Fa,eventId:i};if(e instanceof Ns){e.setDefaultLanguage(t.languageCode),s.providerId=e.providerId||"",function Kre(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(const[l,d]of Object.entries(o||{}))s[l]=d}if(e instanceof xse){const l=e.getScopes().filter(d=>""!==d);l.length>0&&(s.scopes=l.join(","))}t.tenantId&&(s.tid=t.tenantId);const a=s;for(const l of Object.keys(a))void 0===a[l]&&delete a[l];const u=yield t._getAppCheckToken(),c=u?`#${pue}=${encodeURIComponent(u)}`:"";return`${function gue({config:t}){return t.emulator?Zw(t,fue):`https://${t.authDomain}/${hue}`}(t)}?${A_(a).slice(1)}${c}`})).apply(this,arguments)}const iC="webStorageSupport",_ue=class mue{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=sL,this._completeRedirectFn=pL,this._overrideRedirectResult=Vae}_openPopup(e,n,r,i){var o=this;return w(function*(){var s;Ps(null===(s=o.eventManagers[e._key()])||void 0===s?void 0:s.manager,"_initialize() not called before _openPopup()");const a=yield bL(e,n,r,Zh(),i);return function lue(t,e,n,r=500,i=600){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const u=Object.assign(Object.assign({},oue),{width:r.toString(),height:i.toString(),top:o,left:s}),c=Ft().toLowerCase();n&&(a=FV(c)?"_blank":n),kV(c)&&(e=e||"http://localhost",u.scrollbars="yes");const l=Object.entries(u).reduce((h,[f,m])=>`${h}${f}=${m},`,"");if(function Woe(t=Ft()){var e;return U_(t)&&!(null===(e=window.navigator)||void 0===e||!e.standalone)}(c)&&"_self"!==a)return function due(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(e||"",a),new vL(null);const d=window.open(e||"",a,l);q(d,t,"popup-blocked");try{d.focus()}catch{}return new vL(d)}(e,a,CT())})()}_openRedirect(e,n,r,i){var o=this;return w(function*(){return yield o._originValidation(e),function sae(t){rn().location.href=t}(yield bL(e,n,r,Zh(),i)),new Promise(()=>{})})()}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:o}=this.eventManagers[n];return i?Promise.resolve(i):(Ps(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}initAndGetManager(e){var n=this;return w(function*(){const r=yield function iue(t){return nC.apply(this,arguments)}(e),i=new $ae(e);return r.register("authEvent",o=>(q(o?.authEvent,e,"invalid-auth-event"),{status:i.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),n.eventManagers[e._key()]={manager:i},n.iframes[e._key()]=r,i})()}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(iC,{type:iC},i=>{var o;const s=null===(o=i?.[0])||void 0===o?void 0:o[iC];void 0!==s&&n(!!s),Ar(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=function Wae(t){return tC.apply(this,arguments)}(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return jV()||gI()||U_()}};var IL="@firebase/auth";class yue{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}getToken(e){var n=this;return w(function*(){return n.assertAuthConfigured(),yield n.auth._initializationPromise,n.auth.currentUser?{accessToken:yield n.auth.currentUser.getIdToken(e)}:null})()}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){q(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const wue=QF("authIdTokenMaxAge")||300;let CL=null;const Iue=t=>function(){var e=w(function*(n){const r=n&&(yield n.getIdTokenResult()),i=r&&((new Date).getTime()-Date.parse(r.issuedAtTime))/1e3;if(i&&i>wue)return;const o=r?.token;CL!==o&&(CL=o,yield fetch(t,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))});return function(n){return e.apply(this,arguments)}}();function Tue(t=x_()){const e=Kh(t,"auth");if(e.isInitialized())return e.getImmediate();const n=function use(t,e){const n=Kh(t,"auth");if(n.isInitialized()){const i=n.getImmediate();if(S_(n.getOptions(),e??{}))return i;Ar(i,"already-initialized")}return n.initialize({options:e})}(t,{popupRedirectResolver:_ue,persistence:[gae,nae,sL]}),r=QF("authTokenSyncURL");if(r&&"boolean"==typeof isSecureContext&&isSecureContext){const o=new URL(r,location.origin);if(location.origin===o.origin){const s=Iue(o.toString());(function Kse(t,e,n){Vt(t).beforeAuthStateChanged(e,n)})(n,s,()=>s(n.currentUser)),function Wse(t,e,n,r){Vt(t).onIdTokenChanged(e,n,r)}(n,a=>s(a))}}const i=qF("auth");return i&&function lse(t,e,n){const r=Kt(t);q(r._canInitEmulator,r,"emulator-config-failed"),q(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!n?.disableWarnings,o=WV(e),{host:s,port:a}=function dse(t){const e=WV(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const o=i[1];return{host:o,port:KV(r.substr(o.length+1))}}{const[o,s]=r.split(":");return{host:o,port:KV(s)}}}(e);r.config.emulator={url:`${o}//${s}${null===a?"":`:${a}`}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function hse(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",t):t())}()}(n,`http://${i}`),n}(function tse(t){rf=t})({loadJS:t=>new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const o=hi("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",function Cue(){var t,e;return null!==(e=null===(t=document.getElementsByTagName("head"))||void 0===t?void 0:t[0])&&void 0!==e?e:document}().appendChild(r)}),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="}),function bue(t){ka(new As("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;q(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});const u={apiKey:s,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:$V(t)},c=new ese(r,i,o,u);return function cse(t,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(Uo);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),ka(new As("auth-internal",e=>{const n=Kt(e.getProvider("auth").getImmediate());return new yue(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ln(IL,"1.7.1",function vue(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(t)),Ln(IL,"1.7.1","esm2017")}("Browser");class Z_{constructor(e){return e}}class sC{constructor(){return M_("auth")}}const aC=new Z("angularfire2.auth-instances");function Sue(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new Z_(r)}}const Aue={provide:sC,deps:[[new xn,aC]]},Rue={provide:Z_,useFactory:function Due(t,e){const n=qw("auth",t,e);return n&&new Z_(n)},deps:[[new xn,aC],Wc]};let Pue=(()=>{class t{constructor(){Ln("angularfire",Yh.full,"auth")}static \u0275fac=function(r){return new(r||t)};static \u0275mod=Me({type:t});static \u0275inj=Re({providers:[Rue,Aue]})}return t})();function xue(t,...e){return{ngModule:Pue,providers:[{provide:aC,useFactory:Sue(t),multi:!0,deps:[Te,zt,O_,k_,[new xn,Ww],...e]}]}}const Nue=Wt(Lse,!0),Mue=Wt(Tue,!0);var X,Oue=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Pi={},uC=uC||{},me=Oue||self;function X_(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function pf(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var cC="closure_uid_"+(1e9*Math.random()>>>0),Fue=0;function Vue(t,e,n){return t.call.apply(t.bind,arguments)}function Lue(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function Jn(t,e,n){return(Jn=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Vue:Lue).apply(null,arguments)}function e0(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function bn(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,i,o){for(var s=Array(arguments.length-2),a=2;a<arguments.length;a++)s[a-2]=arguments[a];return e.prototype[i].apply(r,s)}}function Ms(){this.s=this.s,this.o=this.o}Ms.prototype.s=!1,Ms.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function kue(t){Object.prototype.hasOwnProperty.call(t,cC)&&t[cC]||(t[cC]=++Fue)}(this)},Ms.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const SL=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function lC(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function AL(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(X_(r)){const i=t.length||0,o=r.length||0;t.length=i+o;for(let s=0;s<o;s++)t[i+s]=r[s]}else t.push(r)}}function Yn(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}Yn.prototype.h=function(){this.defaultPrevented=!0};var Uue=function(){if(!me.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{const n=()=>{};me.addEventListener("test",n,e),me.removeEventListener("test",n,e)}catch{}return t}();function gf(t){return/^[\s\xa0]*$/.test(t)}function t0(){var t=me.navigator;return t&&(t=t.userAgent)?t:""}function ro(t){return-1!=t0().indexOf(t)}function dC(t){return dC[" "](t),t}dC[" "]=function(){};var fC,t,$ue=ro("Opera"),Yc=ro("Trident")||ro("MSIE"),RL=ro("Edge"),hC=RL||Yc,PL=ro("Gecko")&&!(-1!=t0().toLowerCase().indexOf("webkit")&&!ro("Edge"))&&!(ro("Trident")||ro("MSIE"))&&!ro("Edge"),Hue=-1!=t0().toLowerCase().indexOf("webkit")&&!ro("Edge");function xL(){var t=me.document;return t?t.documentMode:void 0}e:{var pC="",gC=(t=t0(),PL?/rv:([^\);]+)(\)|;)/.exec(t):RL?/Edge\/([\d\.]+)/.exec(t):Yc?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t):Hue?/WebKit\/(\S+)/.exec(t):$ue?/(?:Version)[ \/]?(\S+)/.exec(t):void 0);if(gC&&(pC=gC?gC[1]:""),Yc){var mC=xL();if(null!=mC&&mC>parseFloat(pC)){fC=String(mC);break e}}fC=pC}var Gue=me.document&&Yc&&(xL()||parseInt(fC,10))||void 0;function mf(t,e){if(Yn.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(PL){e:{try{dC(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:zue[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&mf.$.h.call(this)}}bn(mf,Yn);var zue={2:"touch",3:"pen",4:"mouse"};mf.prototype.h=function(){mf.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var _f="closure_listenable_"+(1e6*Math.random()|0),que=0;function Wue(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=i,this.key=++que,this.fa=this.ia=!1}function n0(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function yC(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function ML(t){const e={};for(const n in t)e[n]=t[n];return e}const OL="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function kL(t,e){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)t[n]=r[n];for(let o=0;o<OL.length;o++)n=OL[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function r0(t){this.src=t,this.g={},this.h=0}function vC(t,e){var n=e.type;if(n in t.g){var o,r=t.g[n],i=SL(r,e);(o=0<=i)&&Array.prototype.splice.call(r,i,1),o&&(n0(e),0==t.g[n].length&&(delete t.g[n],t.h--))}}function bC(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.fa&&o.listener==e&&o.capture==!!n&&o.la==r)return i}return-1}r0.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.g[o])||(t=this.g[o]=[],this.h++);var s=bC(t,e,r,i);return-1<s?(e=t[s],n||(e.ia=!1)):((e=new Wue(e,this.src,o,!!r,i)).ia=n,t.push(e)),e};var EC="closure_lm_"+(1e6*Math.random()|0),wC={};function FL(t,e,n,r,i){if(r&&r.once)return LL(t,e,n,r,i);if(Array.isArray(e)){for(var o=0;o<e.length;o++)FL(t,e[o],n,r,i);return null}return n=DC(n),t&&t[_f]?t.O(e,n,pf(r)?!!r.capture:!!r,i):VL(t,e,n,!1,r,i)}function VL(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var s=pf(i)?!!i.capture:!!i,a=TC(t);if(a||(t[EC]=a=new r0(t)),(n=a.add(e,n,r,s,o)).proxy)return n;if(r=function Que(){const e=Jue;return function t(n){return e.call(t.src,t.listener,n)}}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)Uue||(i=s),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(UL(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function LL(t,e,n,r,i){if(Array.isArray(e)){for(var o=0;o<e.length;o++)LL(t,e[o],n,r,i);return null}return n=DC(n),t&&t[_f]?t.P(e,n,pf(r)?!!r.capture:!!r,i):VL(t,e,n,!0,r,i)}function BL(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)BL(t,e[o],n,r,i);else r=pf(r)?!!r.capture:!!r,n=DC(n),t&&t[_f]?(t=t.i,(e=String(e).toString())in t.g&&-1<(n=bC(o=t.g[e],n,r,i))&&(n0(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete t.g[e],t.h--))):t&&(t=TC(t))&&(e=t.g[e.toString()],t=-1,e&&(t=bC(e,n,r,i)),(n=-1<t?e[t]:null)&&IC(n))}function IC(t){if("number"!=typeof t&&t&&!t.fa){var e=t.src;if(e&&e[_f])vC(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(UL(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=TC(e))?(vC(n,t),0==n.h&&(n.src=null,e[EC]=null)):n0(t)}}}function UL(t){return t in wC?wC[t]:wC[t]="on"+t}function Jue(t,e){if(t.fa)t=!0;else{e=new mf(e,this);var n=t.listener,r=t.la||t.src;t.ia&&IC(t),t=n.call(r,e)}return t}function TC(t){return(t=t[EC])instanceof r0?t:null}var CC="__closure_events_fn_"+(1e9*Math.random()>>>0);function DC(t){return"function"==typeof t?t:(t[CC]||(t[CC]=function(e){return t.handleEvent(e)}),t[CC])}function En(){Ms.call(this),this.i=new r0(this),this.S=this,this.J=null}function Bn(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,"string"==typeof e)e=new Yn(e,t);else if(e instanceof Yn)e.target=e.target||t;else{var i=e;kL(e=new Yn(r,t),i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var s=e.g=n[o];i=o0(s,r,!0,e)&&i}if(i=o0(s=e.g=t,r,!0,e)&&i,i=o0(s,r,!1,e)&&i,n)for(o=0;o<n.length;o++)i=o0(s=e.g=n[o],r,!1,e)&&i}function o0(t,e,n,r){if(!(e=t.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.fa&&s.capture==n){var a=s.listener,u=s.la||s.src;s.ia&&vC(t.i,s),i=!1!==a.call(u,r)&&i}}return i&&!r.defaultPrevented}bn(En,Ms),En.prototype[_f]=!0,En.prototype.removeEventListener=function(t,e,n,r){BL(this,t,e,n,r)},En.prototype.N=function(){if(En.$.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)n0(n[r]);delete t.g[e],t.h--}}this.J=null},En.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)},En.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};var SC=me.JSON.stringify;function Zue(){var t=AC;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}var jL=new class Yue{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new ece,t=>t.reset());class ece{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function tce(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function nce(t){me.setTimeout(()=>{throw t},0)}let yf,vf=!1,AC=new class Xue{constructor(){this.h=this.g=null}add(e,n){const r=jL.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}},$L=()=>{const t=me.Promise.resolve(void 0);yf=()=>{t.then(rce)}};var rce=()=>{for(var t;t=Zue();){try{t.h.call(t.g)}catch(n){nce(n)}var e=jL;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}vf=!1};function s0(t,e){En.call(this),this.h=t||1,this.g=e||me,this.j=Jn(this.qb,this),this.l=Date.now()}function RC(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}function PC(t,e,n){if("function"==typeof t)n&&(t=Jn(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=Jn(t.handleEvent,t)}return 2147483647<Number(e)?-1:me.setTimeout(t,e||0)}function HL(t){t.g=PC(()=>{t.g=null,t.i&&(t.i=!1,HL(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}bn(s0,En),(X=s0.prototype).ga=!1,X.T=null,X.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Bn(this,"tick"),this.ga&&(RC(this),this.start()))}},X.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},X.N=function(){s0.$.N.call(this),RC(this),delete this.g};class ice extends Ms{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:HL(this)}N(){super.N(),this.g&&(me.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function bf(t){Ms.call(this),this.h=t,this.g={}}bn(bf,Ms);var GL=[];function zL(t,e,n,r){Array.isArray(n)||(n&&(GL[0]=n.toString()),n=GL);for(var i=0;i<n.length;i++){var o=FL(e,n[i],r||t.handleEvent,!1,t.h||t);if(!o)break;t.g[o.key]=o}}function qL(t){yC(t.g,function(e,n){this.g.hasOwnProperty(n)&&IC(e)},t),t.g={}}function a0(){this.g=!0}function Zc(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+function uce(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var s=1;s<i.length;s++)i[s]=""}}}return SC(n)}catch{return e}}(t,n)+(r?" "+r:"")})}bf.prototype.N=function(){bf.$.N.call(this),qL(this)},bf.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},a0.prototype.Ea=function(){this.g=!1},a0.prototype.info=function(){};var Ua={},WL=null;function u0(){return WL=WL||new En}function KL(t){Yn.call(this,Ua.Ta,t)}function Ef(t){const e=u0();Bn(e,new KL(e))}function QL(t,e){Yn.call(this,Ua.STAT_EVENT,t),this.stat=e}function fr(t){const e=u0();Bn(e,new QL(e,t))}function JL(t,e){Yn.call(this,Ua.Ua,t),this.size=e}function wf(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return me.setTimeout(function(){t()},e)}Ua.Ta="serverreachability",bn(KL,Yn),Ua.STAT_EVENT="statevent",bn(QL,Yn),Ua.Ua="timingevent",bn(JL,Yn);var c0={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},YL={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function xC(){}function XL(){}xC.prototype.h=null;var OC,If={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function NC(){Yn.call(this,"d")}function MC(){Yn.call(this,"c")}function l0(){}function Tf(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new bf(this),this.P=cce,this.V=new s0(t=hC?125:void 0),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new eB}function eB(){this.i=null,this.g="",this.h=!1}bn(NC,Yn),bn(MC,Yn),bn(l0,xC),l0.prototype.g=function(){return new XMLHttpRequest},l0.prototype.i=function(){return{}},OC=new l0;var cce=45e3,tB={},kC={};function FC(t,e,n){t.L=1,t.A=p0($o(e)),t.u=n,t.S=!0,nB(t,null)}function nB(t,e){t.G=Date.now(),Cf(t),t.B=$o(t.A);var n=t.B,r=t.W;Array.isArray(r)||(r=[String(r)]),hB(n.i,"t",r),t.o=0,n=t.l.J,t.h=new eB,t.g=FB(t.l,n?e:null,!t.u),0<t.O&&(t.M=new ice(Jn(t.Pa,t,t.g),t.O)),zL(t.U,t.g,"readystatechange",t.nb),e=t.I?ML(t.I):{},t.u?(t.v||(t.v="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.B,t.v,t.u,e)):(t.v="GET",t.g.ha(t.B,t.v,null,e)),Ef(),function oce(t,e,n,r,i,o){t.info(function(){if(t.g)if(o)for(var s="",a=o.split("&"),u=0;u<a.length;u++){var c=a[u].split("=");if(1<c.length){var l=c[0];c=c[1];var d=l.split("_");s=2<=d.length&&"type"==d[1]?s+(l+"=")+c+"&":s+(l+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+s})}(t.j,t.v,t.B,t.m,t.W,t.u)}function rB(t){return!!t.g&&"GET"==t.v&&2!=t.L&&t.l.Ha}function iB(t,e,n){let i,r=!0;for(;!t.J&&t.o<n.length;){if(i=lce(t,n),i==kC){4==e&&(t.s=4,fr(14),r=!1),Zc(t.j,t.m,null,"[Incomplete Response]");break}if(i==tB){t.s=4,fr(15),Zc(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}Zc(t.j,t.m,i,null),VC(t,i)}rB(t)&&0!=t.o&&(t.h.g=t.h.g.slice(t.o),t.o=0),4!=e||0!=n.length||t.h.h||(t.s=1,fr(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,(e=t.l).g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),GC(e),e.M=!0,fr(11))):(Zc(t.j,t.m,n,"[Invalid Chunked Response]"),ja(t),Df(t))}function lce(t,e){var n=t.o,r=e.indexOf("\n",n);return-1==r?kC:(n=Number(e.substring(n,r)),isNaN(n)?tB:(r+=1)+n>e.length?kC:(e=e.slice(r,r+n),t.o=r+n,e))}function Cf(t){t.Y=Date.now()+t.P,oB(t,t.P)}function oB(t,e){if(null!=t.C)throw Error("WatchDog timer not null");t.C=wf(Jn(t.lb,t),e)}function d0(t){t.C&&(me.clearTimeout(t.C),t.C=null)}function Df(t){0==t.l.H||t.J||NB(t.l,t)}function ja(t){d0(t);var e=t.M;e&&"function"==typeof e.sa&&e.sa(),t.M=null,RC(t.V),qL(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function VC(t,e){try{var n=t.l;if(0!=n.H&&(n.g==t||LC(n.i,t)))if(!t.K&&LC(n.i,t)&&3==n.H){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.G+3e3<t.G))break e;b0(n),y0(n)}HC(n),fr(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&0==n.A&&!n.v&&(n.v=wf(Jn(n.ib,n),6e3));if(1>=gB(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else Ha(n,11)}else if((t.K||n.g==t)&&b0(n),!gf(e))for(i=n.Ja.g.parse(e),e=0;e<i.length;e++){let c=i[e];if(n.V=c[0],c=c[1],2==n.H)if("c"==c[0]){n.K=c[1],n.pa=c[2];const l=c[3];null!=l&&(n.ra=l,n.l.info("VER="+n.ra));const d=c[4];null!=d&&(n.Ga=d,n.l.info("SVER="+n.Ga));const h=c[5];null!=h&&"number"==typeof h&&0<h&&(n.L=r=1.5*h,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const f=t.g;if(f){const m=f.g?f.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(m){var o=r.i;o.g||-1==m.indexOf("spdy")&&-1==m.indexOf("quic")&&-1==m.indexOf("h2")||(o.j=o.l,o.g=new Set,o.h&&(BC(o,o.h),o.h=null))}if(r.F){const y=f.g?f.g.getResponseHeader("X-HTTP-Session-Id"):null;y&&(r.Da=y,bt(r.I,r.F,y))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms"));var s=t;if((r=n).wa=kB(r,r.J?r.pa:null,r.Y),s.K){mB(r.i,s);var a=s,u=r.L;u&&a.setTimeout(u),a.C&&(d0(a),Cf(a)),r.g=s}else PB(r);0<n.j.length&&v0(n)}else"stop"!=c[0]&&"close"!=c[0]||Ha(n,7);else 3==n.H&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?Ha(n,7):$C(n):"noop"!=c[0]&&n.h&&n.h.Aa(c),n.A=0)}Ef()}catch{}}function sB(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(X_(t)||"string"==typeof t)Array.prototype.forEach.call(t,e,void 0);else for(var n=function hce(t){if(t.ta&&"function"==typeof t.ta)return t.ta();if(!t.Z||"function"!=typeof t.Z){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(X_(t)||"string"==typeof t){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}(t),r=function dce(t){if(t.Z&&"function"==typeof t.Z)return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if("string"==typeof t)return t.split("");if(X_(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t),i=r.length,o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}(X=Tf.prototype).setTimeout=function(t){this.P=t},X.nb=function(t){t=t.target;const e=this.M;e&&3==io(t)?e.l():this.Pa(t)},X.Pa=function(t){try{if(t==this.g)e:{const l=io(this.g);var e=this.g.Ia();if(this.g.da(),!(3>l)&&(3!=l||hC||this.g&&(this.h.h||this.g.ja()||TB(this.g)))){this.J||4!=l||7==e||Ef(),d0(this);var n=this.g.da();this.ca=n;t:if(rB(this)){var r=TB(this.g);t="";var i=r.length,o=4==io(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){ja(this),Df(this);var s="";break t}this.h.i=new me.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:o&&e==i-1});r.length=0,this.h.g+=t,this.o=0,s=this.h.g}else s=this.g.ja();if(this.i=200==n,function sce(t,e,n,r,i,o,s){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+o+" "+s})}(this.j,this.v,this.B,this.m,this.W,l,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,u=this.g;if((a=u.g?u.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!gf(a)){var c=a;break t}}c=null}if(!(n=c)){this.i=!1,this.s=3,fr(12),ja(this),Df(this);break e}Zc(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,VC(this,n)}this.S?(iB(this,l,s),hC&&this.i&&3==l&&(zL(this.U,this.V,"tick",this.mb),this.V.start())):(Zc(this.j,this.m,s,null),VC(this,s)),4==l&&ja(this),this.i&&!this.J&&(4==l?NB(this.l,this):(this.i=!1,Cf(this)))}else(function Pce(t){const e={};t=(t.g&&2<=io(t)&&t.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<t.length;r++){if(gf(t[r]))continue;var n=tce(t[r]);const i=n[0];if("string"!=typeof(n=n[1]))continue;n=n.trim();const o=e[i]||[];e[i]=o,o.push(n)}!function Kue(t,e){for(const n in t)e.call(void 0,t[n],n,t)}(e,function(r){return r.join(", ")})})(this.g),400==n&&0<s.indexOf("Unknown SID")?(this.s=3,fr(12)):(this.s=0,fr(13)),ja(this),Df(this)}}}catch{}},X.mb=function(){if(this.g){var t=io(this.g),e=this.g.ja();this.o<e.length&&(d0(this),iB(this,t,e),this.i&&4!=t&&Cf(this))}},X.cancel=function(){this.J=!0,ja(this)},X.lb=function(){this.C=null;const t=Date.now();0<=t-this.Y?(function ace(t,e){t.info(function(){return"TIMEOUT: "+e})}(this.j,this.B),2!=this.L&&(Ef(),fr(17)),ja(this),this.s=2,Df(this)):oB(this,this.Y-t)};var aB=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function $a(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof $a){this.h=t.h,h0(this,t.j),this.s=t.s,this.g=t.g,f0(this,t.m),this.l=t.l;var e=t.i,n=new Rf;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),uB(this,n),this.o=t.o}else t&&(e=String(t).match(aB))?(this.h=!1,h0(this,e[1]||"",!0),this.s=Sf(e[2]||""),this.g=Sf(e[3]||"",!0),f0(this,e[4]),this.l=Sf(e[5]||"",!0),uB(this,e[6]||"",!0),this.o=Sf(e[7]||"")):(this.h=!1,this.i=new Rf(null,this.h))}function $o(t){return new $a(t)}function h0(t,e,n){t.j=n?Sf(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function f0(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function uB(t,e,n){e instanceof Rf?(t.i=e,function vce(t,e){e&&!t.j&&(Os(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(lB(this,r),hB(this,i,n))},t)),t.j=e}(t.i,t.h)):(n||(e=Af(e,_ce)),t.i=new Rf(e,t.h))}function bt(t,e,n){t.i.set(e,n)}function p0(t){return bt(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function Sf(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Af(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,pce),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function pce(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}$a.prototype.toString=function(){var t=[],e=this.j;e&&t.push(Af(e,cB,!0),":");var n=this.g;return(n||"file"==e)&&(t.push("//"),(e=this.s)&&t.push(Af(e,cB,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&t.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&t.push("/"),t.push(Af(n,"/"==n.charAt(0)?mce:gce,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",Af(n,yce)),t.join("")};var cB=/[#\/\?@]/g,gce=/[#\?:]/g,mce=/[#\?]/g,_ce=/[#\?@]/g,yce=/#/g;function Rf(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function Os(t){t.g||(t.g=new Map,t.h=0,t.i&&function fce(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function lB(t,e){Os(t),e=Xc(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function dB(t,e){return Os(t),e=Xc(t,e),t.g.has(e)}function hB(t,e,n){lB(t,e),0<n.length&&(t.i=null,t.g.set(Xc(t,e),lC(n)),t.h+=n.length)}function Xc(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function fB(t){this.l=t||Ece,t=me.PerformanceNavigationTiming?0<(t=me.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(me.g&&me.g.Ka&&me.g.Ka()&&me.g.Ka().dc),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(X=Rf.prototype).add=function(t,e){Os(this),this.i=null,t=Xc(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this},X.forEach=function(t,e){Os(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)},X.ta=function(){Os(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const i=t[r];for(let o=0;o<i.length;o++)n.push(e[r])}return n},X.Z=function(t){Os(this);let e=[];if("string"==typeof t)dB(this,t)&&(e=e.concat(this.g.get(Xc(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e},X.set=function(t,e){return Os(this),this.i=null,dB(this,t=Xc(this,t))&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this},X.get=function(t,e){return t&&0<(t=this.Z(t)).length?String(t[0]):e},X.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const o=encodeURIComponent(String(r)),s=this.Z(r);for(r=0;r<s.length;r++){var i=o;""!==s[r]&&(i+="="+encodeURIComponent(String(s[r]))),t.push(i)}}return this.i=t.join("&")};var Ece=10;function pB(t){return!!t.h||!!t.g&&t.g.size>=t.j}function gB(t){return t.h?1:t.g?t.g.size:0}function LC(t,e){return t.h?t.h==e:!!t.g&&t.g.has(e)}function BC(t,e){t.g?t.g.add(e):t.h=e}function mB(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}function _B(t){if(null!=t.h)return t.i.concat(t.h.F);if(null!=t.g&&0!==t.g.size){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return lC(t.i)}fB.prototype.cancel=function(){if(this.i=_B(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const t of this.g.values())t.cancel();this.g.clear()}};var wce=class{stringify(t){return me.JSON.stringify(t,void 0)}parse(t){return me.JSON.parse(t,void 0)}};function Ice(){this.g=new wce}function Tce(t,e,n){const r=n||"";try{sB(t,function(i,o){let s=i;pf(i)&&(s=SC(i)),e.push(r+o+"="+encodeURIComponent(s))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function g0(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function Pf(t){this.l=t.ec||null,this.j=t.ob||!1}function m0(t,e){En.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=UC,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}bn(Pf,xC),Pf.prototype.g=function(){return new m0(this.l,this.j)},Pf.prototype.i=function(t){return function(){return t}}({}),bn(m0,En);var UC=0;function yB(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}function xf(t){t.readyState=4,t.l=null,t.j=null,t.A=null,Nf(t)}function Nf(t){t.onreadystatechange&&t.onreadystatechange.call(t)}(X=m0.prototype).open=function(t,e){if(this.readyState!=UC)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,Nf(this)},X.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||me).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},X.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,xf(this)),this.readyState=UC},X.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,Nf(this)),this.g&&(this.readyState=3,Nf(this),this.g)))if("arraybuffer"===this.responseType)t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof me.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;yB(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))},X.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?xf(this):Nf(this),3==this.readyState&&yB(this)}},X.Za=function(t){this.g&&(this.response=this.responseText=t,xf(this))},X.Ya=function(t){this.g&&(this.response=t,xf(this))},X.ka=function(){this.g&&xf(this)},X.setRequestHeader=function(t,e){this.v.append(t,e)},X.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""},X.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)t.push((n=n.value)[0]+": "+n[1]),n=e.next();return t.join("\r\n")},Object.defineProperty(m0.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(t){this.m=t?"include":"same-origin"}});var Dce=me.JSON.parse;function Lt(t){En.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=vB,this.L=this.M=!1}bn(Lt,En);var vB="",Sce=/^https?$/i,Ace=["POST","PUT"];function bB(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,EB(t),_0(t)}function EB(t){t.F||(t.F=!0,Bn(t,"complete"),Bn(t,"error"))}function wB(t){if(t.h&&typeof uC<"u"&&(!t.C[1]||4!=io(t)||2!=t.da()))if(t.v&&4==io(t))PC(t.La,0,t);else if(Bn(t,"readystatechange"),4==io(t)){t.h=!1;try{const s=t.da();e:switch(s){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=0===s){var i=String(t.I).match(aB)[1]||null;!i&&me.self&&me.self.location&&(i=me.self.location.protocol.slice(0,-1)),r=!Sce.test(i?i.toLowerCase():"")}n=r}if(n)Bn(t,"complete"),Bn(t,"success");else{t.m=6;try{var o=2<io(t)?t.g.statusText:""}catch{o=""}t.j=o+" ["+t.da()+"]",EB(t)}}finally{_0(t)}}}function _0(t,e){if(t.g){IB(t);const n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||Bn(t,"ready");try{n.onreadystatechange=r}catch{}}}function IB(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(me.clearTimeout(t.A),t.A=null)}function io(t){return t.g?t.g.readyState:0}function TB(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case vB:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function CB(t){let e="";return yC(t,function(n,r){e+=r,e+=":",e+=n,e+="\r\n"}),e}function jC(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=CB(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):bt(t,e,n))}function Mf(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function DB(t){this.Ga=0,this.j=[],this.l=new a0,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Mf("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Mf("baseRetryDelayMs",5e3,t),this.hb=Mf("retryDelaySeedMs",1e4,t),this.eb=Mf("forwardChannelMaxRetries",2,t),this.xa=Mf("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.useFetchStreams||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new fB(t&&t.concurrentRequestLimit),this.Ja=new Ice,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function $C(t){if(SB(t),3==t.H){var e=t.W++,n=$o(t.I);if(bt(n,"SID",t.K),bt(n,"RID",e),bt(n,"TYPE","terminate"),Of(t,n),(e=new Tf(t,t.l,e)).L=2,e.A=p0($o(n)),n=!1,me.navigator&&me.navigator.sendBeacon)try{n=me.navigator.sendBeacon(e.A.toString(),"")}catch{}!n&&me.Image&&((new Image).src=e.A,n=!0),n||(e.g=FB(e.l,null),e.g.ha(e.A)),e.G=Date.now(),Cf(e)}OB(t)}function y0(t){t.g&&(GC(t),t.g.cancel(),t.g=null)}function SB(t){y0(t),t.u&&(me.clearTimeout(t.u),t.u=null),b0(t),t.i.cancel(),t.m&&("number"==typeof t.m&&me.clearTimeout(t.m),t.m=null)}function v0(t){if(!pB(t.i)&&!t.m){t.m=!0;var e=t.Na;yf||$L(),vf||(yf(),vf=!0),AC.add(e,t),t.C=0}}function AB(t,e){var n;n=e?e.m:t.W++;const r=$o(t.I);bt(r,"SID",t.K),bt(r,"RID",n),bt(r,"AID",t.V),Of(t,r),t.o&&t.s&&jC(r,t.o,t.s),n=new Tf(t,t.l,n,t.C+1),null===t.o&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=RB(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),BC(t.i,n),FC(n,r,e)}function Of(t,e){t.na&&yC(t.na,function(n,r){bt(e,r,n)}),t.h&&sB({},function(n,r){bt(e,r,n)})}function RB(t,e,n){n=Math.min(t.j.length,n);var r=t.h?Jn(t.h.Va,t.h,t):null;e:{var i=t.j;let o=-1;for(;;){const s=["count="+n];-1==o?0<n?(o=i[0].g,s.push("ofs="+o)):o=0:s.push("ofs="+o);let a=!0;for(let u=0;u<n;u++){let c=i[u].g;const l=i[u].map;if(c-=o,0>c)o=Math.max(0,i[u].g-100),a=!1;else try{Tce(l,s,"req"+c+"_")}catch{r&&r(l)}}if(a){r=s.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function PB(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;yf||$L(),vf||(yf(),vf=!0),AC.add(e,t),t.A=0}}function HC(t){return!(t.g||t.u||3<=t.A||(t.ba++,t.u=wf(Jn(t.Ma,t),MB(t,t.A)),t.A++,0))}function GC(t){null!=t.B&&(me.clearTimeout(t.B),t.B=null)}function xB(t){t.g=new Tf(t,t.l,"rpc",t.ba),null===t.o&&(t.g.I=t.s),t.g.O=0;var e=$o(t.wa);bt(e,"RID","rpc"),bt(e,"SID",t.K),bt(e,"AID",t.V),bt(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&bt(e,"TO",t.qa),bt(e,"TYPE","xmlhttp"),Of(t,e),t.o&&t.s&&jC(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.A=p0($o(e)),n.u=null,n.S=!0,nB(n,t)}function b0(t){null!=t.v&&(me.clearTimeout(t.v),t.v=null)}function NB(t,e){var n=null;if(t.g==e){b0(t),GC(t),t.g=null;var r=2}else{if(!LC(t.i,e))return;n=e.F,mB(t.i,e),r=1}if(0!=t.H)if(e.i)if(1==r){n=e.u?e.u.length:0,e=Date.now()-e.G;var i=t.C;Bn(r=u0(),new JL(r,n)),v0(t)}else PB(t);else if(3==(i=e.s)||0==i&&0<e.ca||!(1==r&&function xce(t,e){return!(gB(t.i)>=t.i.j-(t.m?1:0)||(t.m?(t.j=e.F.concat(t.j),0):1==t.H||2==t.H||t.C>=(t.cb?0:t.eb)||(t.m=wf(Jn(t.Na,t,e),MB(t,t.C)),t.C++,0)))}(t,e)||2==r&&HC(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:Ha(t,5);break;case 4:Ha(t,10);break;case 3:Ha(t,6);break;default:Ha(t,2)}}function MB(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function Ha(t,e){if(t.l.info("Error code "+e),2==e){var n=null;t.h&&(n=null);var r=Jn(t.pb,t);n||(n=new $a("//www.google.com/images/cleardot.gif"),me.location&&"http"==me.location.protocol||h0(n,"https"),p0(n)),function Cce(t,e){const n=new a0;if(me.Image){const r=new Image;r.onload=e0(g0,n,r,"TestLoadImage: loaded",!0,e),r.onerror=e0(g0,n,r,"TestLoadImage: error",!1,e),r.onabort=e0(g0,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=e0(g0,n,r,"TestLoadImage: timeout",!1,e),me.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}(n.toString(),r)}else fr(2);t.H=0,t.h&&t.h.za(e),OB(t),SB(t)}function OB(t){if(t.H=0,t.ma=[],t.h){const e=_B(t.i);(0!=e.length||0!=t.j.length)&&(AL(t.ma,e),AL(t.ma,t.j),t.i.i.length=0,lC(t.j),t.j.length=0),t.h.ya()}}function kB(t,e,n){var r=n instanceof $a?$o(n):new $a(n);if(""!=r.g)e&&(r.g=e+"."+r.g),f0(r,r.m);else{var i=me.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var o=new $a(null);r&&h0(o,r),e&&(o.g=e),i&&f0(o,i),n&&(o.l=n),r=o}return e=t.Da,(n=t.F)&&e&&bt(r,n,e),bt(r,"VER",t.ra),Of(t,r),r}function FB(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Lt(t.Ha&&!t.va?new Pf({ob:n}):t.va)).Oa(t.J),e}function VB(){}function E0(){if(Yc&&!(10<=Number(Gue)))throw Error("Environmental error: no available transport.")}function Hr(t,e){En.call(this),this.g=new DB(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!gf(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!gf(e)&&(this.g.F=e,null!==(t=this.h)&&e in t&&e in(t=this.h)&&delete t[e]),this.j=new el(this)}function LB(t){NC.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=null!==e&&t in e?e[t]:void 0),this.data=e}else this.data=t}function BB(){MC.call(this),this.status=1}function el(t){this.g=t}function xi(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function zC(t,e,n){n||(n=0);var r=Array(16);if("string"==typeof e)for(var i=0;16>i;++i)r[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;var o=t.g[3],s=(e=t.g[0])+(o^(n=t.g[1])&((i=t.g[2])^o))+r[0]+3614090360&4294967295;s=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=n+(s<<7&4294967295|s>>>25))+((s=o+(i^e&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^o&(e^n))+r[2]+606105819&4294967295)<<17&4294967295|s>>>15))+((s=n+(e^i&(o^e))+r[3]+3250441966&4294967295)<<22&4294967295|s>>>10))+((s=e+(o^n&(i^o))+r[4]+4118548399&4294967295)<<7&4294967295|s>>>25))+((s=o+(i^e&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^o&(e^n))+r[6]+2821735955&4294967295)<<17&4294967295|s>>>15))+((s=n+(e^i&(o^e))+r[7]+4249261313&4294967295)<<22&4294967295|s>>>10))+((s=e+(o^n&(i^o))+r[8]+1770035416&4294967295)<<7&4294967295|s>>>25))+((s=o+(i^e&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^o&(e^n))+r[10]+4294925233&4294967295)<<17&4294967295|s>>>15))+((s=n+(e^i&(o^e))+r[11]+2304563134&4294967295)<<22&4294967295|s>>>10))+((s=e+(o^n&(i^o))+r[12]+1804603682&4294967295)<<7&4294967295|s>>>25))+((s=o+(i^e&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^o&(e^n))+r[14]+2792965006&4294967295)<<17&4294967295|s>>>15))+((s=n+(e^i&(o^e))+r[15]+1236535329&4294967295)<<22&4294967295|s>>>10))+((s=e+(i^o&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|s>>>27))+((s=o+(n^i&(e^n))+r[6]+3225465664&4294967295)<<9&4294967295|s>>>23))+((s=i+(e^n&(o^e))+r[11]+643717713&4294967295)<<14&4294967295|s>>>18))+((s=n+(o^e&(i^o))+r[0]+3921069994&4294967295)<<20&4294967295|s>>>12))+((s=e+(i^o&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|s>>>27))+((s=o+(n^i&(e^n))+r[10]+38016083&4294967295)<<9&4294967295|s>>>23))+((s=i+(e^n&(o^e))+r[15]+3634488961&4294967295)<<14&4294967295|s>>>18))+((s=n+(o^e&(i^o))+r[4]+3889429448&4294967295)<<20&4294967295|s>>>12))+((s=e+(i^o&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|s>>>27))+((s=o+(n^i&(e^n))+r[14]+3275163606&4294967295)<<9&4294967295|s>>>23))+((s=i+(e^n&(o^e))+r[3]+4107603335&4294967295)<<14&4294967295|s>>>18))+((s=n+(o^e&(i^o))+r[8]+1163531501&4294967295)<<20&4294967295|s>>>12))+((s=e+(i^o&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|s>>>27))+((s=o+(n^i&(e^n))+r[2]+4243563512&4294967295)<<9&4294967295|s>>>23))+((s=i+(e^n&(o^e))+r[7]+1735328473&4294967295)<<14&4294967295|s>>>18))+((s=n+(o^e&(i^o))+r[12]+2368359562&4294967295)<<20&4294967295|s>>>12))+((s=e+(n^i^o)+r[5]+4294588738&4294967295)<<4&4294967295|s>>>28))+((s=o+(e^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|s>>>21))+((s=i+(o^e^n)+r[11]+1839030562&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^o^e)+r[14]+4259657740&4294967295)<<23&4294967295|s>>>9))+((s=e+(n^i^o)+r[1]+2763975236&4294967295)<<4&4294967295|s>>>28))+((s=o+(e^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|s>>>21))+((s=i+(o^e^n)+r[7]+4139469664&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^o^e)+r[10]+3200236656&4294967295)<<23&4294967295|s>>>9))+((s=e+(n^i^o)+r[13]+681279174&4294967295)<<4&4294967295|s>>>28))+((s=o+(e^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|s>>>21))+((s=i+(o^e^n)+r[3]+3572445317&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^o^e)+r[6]+76029189&4294967295)<<23&4294967295|s>>>9))+((s=e+(n^i^o)+r[9]+3654602809&4294967295)<<4&4294967295|s>>>28))+((s=o+(e^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|s>>>21))+((s=i+(o^e^n)+r[15]+530742520&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^o^e)+r[2]+3299628645&4294967295)<<23&4294967295|s>>>9))+((s=e+(i^(n|~o))+r[0]+4096336452&4294967295)<<6&4294967295|s>>>26))+((s=o+(n^(e|~i))+r[7]+1126891415&4294967295)<<10&4294967295|s>>>22))+((s=i+(e^(o|~n))+r[14]+2878612391&4294967295)<<15&4294967295|s>>>17))+((s=n+(o^(i|~e))+r[5]+4237533241&4294967295)<<21&4294967295|s>>>11))+((s=e+(i^(n|~o))+r[12]+1700485571&4294967295)<<6&4294967295|s>>>26))+((s=o+(n^(e|~i))+r[3]+2399980690&4294967295)<<10&4294967295|s>>>22))+((s=i+(e^(o|~n))+r[10]+4293915773&4294967295)<<15&4294967295|s>>>17))+((s=n+(o^(i|~e))+r[1]+2240044497&4294967295)<<21&4294967295|s>>>11))+((s=e+(i^(n|~o))+r[8]+1873313359&4294967295)<<6&4294967295|s>>>26))+((s=o+(n^(e|~i))+r[15]+4264355552&4294967295)<<10&4294967295|s>>>22))+((s=i+(e^(o|~n))+r[6]+2734768916&4294967295)<<15&4294967295|s>>>17))+((s=n+(o^(i|~e))+r[13]+1309151649&4294967295)<<21&4294967295|s>>>11))+((o=(e=n+((s=e+(i^(n|~o))+r[4]+4149444226&4294967295)<<6&4294967295|s>>>26))+((s=o+(n^(e|~i))+r[11]+3174756917&4294967295)<<10&4294967295|s>>>22))^((i=o+((s=i+(e^(o|~n))+r[2]+718787259&4294967295)<<15&4294967295|s>>>17))|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(s<<21&4294967295|s>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+o&4294967295}function ot(t,e){this.h=e;for(var n=[],r=!0,i=t.length-1;0<=i;i--){var o=0|t[i];r&&o==e||(n[i]=o,r=!1)}this.g=n}(X=Lt.prototype).Oa=function(t){this.M=t},X.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():OC.g(),this.C=function ZL(t){return t.h||(t.h=t.i())}(this.u?this.u:OC),this.g.onreadystatechange=Jn(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(o){return void bB(this,o)}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const o of r.keys())n.set(o,r.get(o))}r=Array.from(n.keys()).find(o=>"content-type"==o.toLowerCase()),i=me.FormData&&t instanceof me.FormData,!(0<=SL(Ace,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[o,s]of n)this.g.setRequestHeader(o,s);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{IB(this),0<this.B&&((this.L=function Rce(t){return Yc&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Jn(this.ua,this)):this.A=PC(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(o){bB(this,o)}},X.ua=function(){typeof uC<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Bn(this,"timeout"),this.abort(8))},X.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Bn(this,"complete"),Bn(this,"abort"),_0(this))},X.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),_0(this,!0)),Lt.$.N.call(this)},X.La=function(){this.s||(this.G||this.v||this.l?wB(this):this.kb())},X.kb=function(){wB(this)},X.isActive=function(){return!!this.g},X.da=function(){try{return 2<io(this)?this.g.status:-1}catch{return-1}},X.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},X.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),Dce(e)}},X.Ia=function(){return this.m},X.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(X=DB.prototype).ra=8,X.H=1,X.Na=function(t){if(this.m)if(this.m=null,1==this.H){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const i=new Tf(this,this.l,t);let o=this.s;if(this.U&&(o?(o=ML(o),kL(o,this.U)):o=this.U),null!==this.o||this.O||(i.I=o,o=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){var r=this.j[n];if(void 0===(r="__data__"in r.map&&"string"==typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=n;break e}if(4096===e||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=RB(this,i,e),bt(n=$o(this.I),"RID",t),bt(n,"CVER",22),this.F&&bt(n,"X-HTTP-Session-Id",this.F),Of(this,n),o&&(this.O?e="headers="+encodeURIComponent(String(CB(o)))+"&"+e:this.o&&jC(n,this.o,o)),BC(this.i,i),this.bb&&bt(n,"TYPE","init"),this.P?(bt(n,"$req",e),bt(n,"SID","null"),i.aa=!0,FC(i,n,null)):FC(i,n,e),this.H=2}}else 3==this.H&&(t?AB(this,t):0==this.j.length||pB(this.i)||AB(this))},X.Ma=function(){if(this.u=null,xB(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=wf(Jn(this.jb,this),t)}},X.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,fr(10),y0(this),xB(this))},X.ib=function(){null!=this.v&&(this.v=null,y0(this),HC(this),fr(19))},X.pb=function(t){t?(this.l.info("Successfully pinged google.com"),fr(2)):(this.l.info("Failed to ping google.com"),fr(1))},X.isActive=function(){return!!this.h&&this.h.isActive(this)},(X=VB.prototype).Ba=function(){},X.Aa=function(){},X.za=function(){},X.ya=function(){},X.isActive=function(){return!0},X.Va=function(){},E0.prototype.g=function(t,e){return new Hr(t,e)},bn(Hr,En),Hr.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;fr(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=kB(t,null,t.Y),v0(t)},Hr.prototype.close=function(){$C(this.g)},Hr.prototype.u=function(t){var e=this.g;if("string"==typeof t){var n={};n.__data__=t,t=n}else this.v&&((n={}).__data__=SC(t),t=n);e.j.push(new class{constructor(t,e){this.g=t,this.map=e}}(e.fb++,t)),3==e.H&&v0(e)},Hr.prototype.N=function(){this.g.h=null,delete this.j,$C(this.g),delete this.g,Hr.$.N.call(this)},bn(LB,NC),bn(BB,MC),bn(el,VB),el.prototype.Ba=function(){Bn(this.g,"a")},el.prototype.Aa=function(t){Bn(this.g,new LB(t))},el.prototype.za=function(t){Bn(this.g,new BB)},el.prototype.ya=function(){Bn(this.g,"b")},bn(xi,function Nce(){this.blockSize=-1}),xi.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},xi.prototype.j=function(t,e){void 0===e&&(e=t.length);for(var n=e-this.blockSize,r=this.m,i=this.h,o=0;o<e;){if(0==i)for(;o<=n;)zC(this,t,o),o+=this.blockSize;if("string"==typeof t){for(;o<e;)if(r[i++]=t.charCodeAt(o++),i==this.blockSize){zC(this,r),i=0;break}}else for(;o<e;)if(r[i++]=t[o++],i==this.blockSize){zC(this,r),i=0;break}}this.h=i,this.i+=e},xi.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=255&n,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};var Mce={};function qC(t){return-128<=t&&128>t?function jue(t,e){var n=Mce;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}(t,function(e){return new ot([0|e],0>e?-1:0)}):new ot([0|t],0>t?-1:0)}function oo(t){if(isNaN(t)||!isFinite(t))return tl;if(0>t)return Un(oo(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=WC;return new ot(e,0)}var WC=4294967296,tl=qC(0),KC=qC(1),jB=qC(16777216);function Ho(t){if(0!=t.h)return!1;for(var e=0;e<t.g.length;e++)if(0!=t.g[e])return!1;return!0}function pi(t){return-1==t.h}function Un(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new ot(n,~t.h).add(KC)}function w0(t,e){return t.add(Un(e))}function I0(t,e){for(;(65535&t[e])!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function kf(t,e){this.g=t,this.h=e}function T0(t,e){if(Ho(e))throw Error("division by zero");if(Ho(t))return new kf(tl,tl);if(pi(t))return e=T0(Un(t),e),new kf(Un(e.g),Un(e.h));if(pi(e))return e=T0(t,Un(e)),new kf(Un(e.g),e.h);if(30<t.g.length){if(pi(t)||pi(e))throw Error("slowDivide_ only works with positive integers.");for(var n=KC,r=e;0>=r.X(t);)n=$B(n),r=$B(r);var i=nl(n,1),o=nl(r,1);for(r=nl(r,2),n=nl(n,2);!Ho(r);){var s=o.add(r);0>=s.X(t)&&(i=i.add(n),o=s),r=nl(r,1),n=nl(n,1)}return e=w0(t,i.R(e)),new kf(i,e)}for(i=tl;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),s=(o=oo(n)).R(e);pi(s)||0<s.X(t);)s=(o=oo(n-=r)).R(e);Ho(o)&&(o=KC),i=i.add(o),t=w0(t,s)}return new kf(i,t)}function $B(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new ot(n,t.h)}function nl(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,i=[],o=0;o<r;o++)i[o]=0<e?t.D(o+n)>>>e|t.D(o+n+1)<<32-e:t.D(o+n);return new ot(i,t.h)}(X=ot.prototype).ea=function(){if(pi(this))return-Un(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:WC+r)*e,e*=WC}return t},X.toString=function(t){if(2>(t=t||10)||36<t)throw Error("radix out of range: "+t);if(Ho(this))return"0";if(pi(this))return"-"+Un(this).toString(t);for(var e=oo(Math.pow(t,6)),n=this,r="";;){var i=T0(n,e).g,o=((0<(n=w0(n,i.R(e))).g.length?n.g[0]:n.h)>>>0).toString(t);if(Ho(n=i))return o+r;for(;6>o.length;)o="0"+o;r=o+r}},X.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h},X.X=function(t){return pi(t=w0(this,t))?-1:Ho(t)?0:1},X.abs=function(){return pi(this)?Un(this):this},X.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,i=0;i<=e;i++){var o=r+(65535&this.D(i))+(65535&t.D(i)),s=(o>>>16)+(this.D(i)>>>16)+(t.D(i)>>>16);r=s>>>16,n[i]=(s&=65535)<<16|(o&=65535)}return new ot(n,-2147483648&n[n.length-1]?-1:0)},X.R=function(t){if(Ho(this)||Ho(t))return tl;if(pi(this))return pi(t)?Un(this).R(Un(t)):Un(Un(this).R(t));if(pi(t))return Un(this.R(Un(t)));if(0>this.X(jB)&&0>t.X(jB))return oo(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<t.g.length;i++){var o=this.D(r)>>>16,s=65535&this.D(r),a=t.D(i)>>>16,u=65535&t.D(i);n[2*r+2*i]+=s*u,I0(n,2*r+2*i),n[2*r+2*i+1]+=o*u,I0(n,2*r+2*i+1),n[2*r+2*i+1]+=s*a,I0(n,2*r+2*i+1),n[2*r+2*i+2]+=o*a,I0(n,2*r+2*i+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new ot(n,0)},X.gb=function(t){return T0(this,t).h},X.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new ot(n,this.h&t.h)},X.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new ot(n,this.h|t.h)},X.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new ot(n,this.h^t.h)},E0.prototype.createWebChannel=E0.prototype.g,Hr.prototype.send=Hr.prototype.u,Hr.prototype.open=Hr.prototype.m,Hr.prototype.close=Hr.prototype.close,c0.NO_ERROR=0,c0.TIMEOUT=8,c0.HTTP_ERROR=6,YL.COMPLETE="complete",XL.EventType=If,If.OPEN="a",If.CLOSE="b",If.ERROR="c",If.MESSAGE="d",En.prototype.listen=En.prototype.O,Lt.prototype.listenOnce=Lt.prototype.P,Lt.prototype.getLastError=Lt.prototype.Sa,Lt.prototype.getLastErrorCode=Lt.prototype.Ia,Lt.prototype.getStatus=Lt.prototype.da,Lt.prototype.getResponseJson=Lt.prototype.Wa,Lt.prototype.getResponseText=Lt.prototype.ja,Lt.prototype.send=Lt.prototype.ha,Lt.prototype.setWithCredentials=Lt.prototype.Oa,xi.prototype.digest=xi.prototype.l,xi.prototype.reset=xi.prototype.reset,xi.prototype.update=xi.prototype.j,ot.prototype.add=ot.prototype.add,ot.prototype.multiply=ot.prototype.R,ot.prototype.modulo=ot.prototype.gb,ot.prototype.compare=ot.prototype.X,ot.prototype.toNumber=ot.prototype.ea,ot.prototype.toString=ot.prototype.toString,ot.prototype.getBits=ot.prototype.D,ot.fromNumber=oo,ot.fromString=function UB(t,e){if(0==t.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==t.charAt(0))return Un(UB(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=oo(Math.pow(e,8)),r=tl,i=0;i<t.length;i+=8){var o=Math.min(8,t.length-i),s=parseInt(t.substring(i,i+o),e);8>o?(o=oo(Math.pow(e,o)),r=r.R(o).add(oo(s))):r=(r=r.R(n)).add(oo(s))}return r};var Oce=Pi.createWebChannelTransport=function(){return new E0},kce=Pi.getStatEventTarget=function(){return u0()},QC=Pi.ErrorCode=c0,Fce=Pi.EventType=YL,Vce=Pi.Event=Ua,HB=Pi.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},C0=(Pi.FetchXmlHttpFactory=Pf,Pi.WebChannel=XL),Lce=Pi.XhrIo=Lt,Bce=Pi.Md5=xi,rl=Pi.Integer=ot;const GB="@firebase/firestore";class wn{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}wn.UNAUTHENTICATED=new wn(null),wn.GOOGLE_CREDENTIALS=new wn("google-credentials-uid"),wn.FIRST_PARTY=new wn("first-party-uid"),wn.MOCK_USER=new wn("mock-user");let il="10.11.0";const ks=new Mw("@firebase/firestore");function ol(){return ks.logLevel}function F(t,...e){if(ks.logLevel<=ke.DEBUG){const n=e.map(JC);ks.debug(`Firestore (${il}): ${t}`,...n)}}function Qt(t,...e){if(ks.logLevel<=ke.ERROR){const n=e.map(JC);ks.error(`Firestore (${il}): ${t}`,...n)}}function Gr(t,...e){if(ks.logLevel<=ke.WARN){const n=e.map(JC);ks.warn(`Firestore (${il}): ${t}`,...n)}}function JC(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch{return t}}function te(t="Unexpected state"){const e=`FIRESTORE (${il}) INTERNAL ASSERTION FAILED: `+t;throw Qt(e),new Error(e)}function oe(t,e){t||te()}function Q(t,e){return t}const x={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class V extends eo{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class fn{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}class zB{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Uce{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(wn.UNAUTHENTICATED))}shutdown(){}}class jce{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class $ce{constructor(e){this.t=e,this.currentUser=wn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){var r=this;let i=this.i;const o=c=>this.i!==i?(i=this.i,n(c)):Promise.resolve();let s=new fn;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new fn,e.enqueueRetryable(()=>o(this.currentUser))};const a=()=>{const c=s;e.enqueueRetryable(w(function*(){yield c.promise,yield o(r.currentUser)}))},u=c=>{F("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.auth.addAuthTokenListener(this.o),a()};this.t.onInit(c=>u(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?u(c):(F("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new fn)}},0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(F("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(oe("string"==typeof r.accessToken),new zB(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return oe(null===e||"string"==typeof e),new wn(e)}}class Hce{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=wn.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class Gce{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new Hce(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(wn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class qB{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class zce{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const r=o=>{null!=o.error&&F("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const s=o.token!==this.R;return this.R=o.token,F("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const i=o=>{F("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.A.getImmediate({optional:!0});o?i(o):F("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(oe("string"==typeof n.token),this.R=n.token,new qB(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function qce(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}class WB{static newId(){const n=62*Math.floor(256/62);let r="";for(;r.length<20;){const i=qce(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(i[o]%62))}return r}}function fe(t,e){return t<e?-1:t>e?1:0}function sl(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}class xt{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new V(x.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new V(x.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new V(x.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new V(x.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return xt.fromMillis(Date.now())}static fromDate(e){return xt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new xt(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?fe(this.nanoseconds,e.nanoseconds):fe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class se{constructor(e){this.timestamp=e}static fromTimestamp(e){return new se(e)}static min(){return new se(new xt(0,0))}static max(){return new se(new xt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Ff{constructor(e,n,r){void 0===n?n=0:n>e.length&&te(),void 0===r?r=e.length-n:r>e.length-n&&te(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return 0===Ff.comparator(this,e)}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Ff?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const o=e.get(i),s=n.get(i);if(o<s)return-1;if(o>s)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Pe extends Ff{construct(e,n,r){return new Pe(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new V(x.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Pe(n)}static emptyPath(){return new Pe([])}}const Wce=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class It extends Ff{construct(e,n,r){return new It(e,n,r)}static isValidIdentifier(e){return Wce.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),It.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new It(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const o=()=>{if(0===r.length)throw new V(x.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let s=!1;for(;i<e.length;){const a=e[i];if("\\"===a){if(i+1===e.length)throw new V(x.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new V(x.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else"`"===a?(s=!s,i++):"."!==a||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new V(x.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new It(n)}static emptyPath(){return new It([])}}class Y{constructor(e){this.path=e}static fromPath(e){return new Y(Pe.fromString(e))}static fromName(e){return new Y(Pe.fromString(e).popFirst(5))}static empty(){return new Y(Pe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Pe.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,n){return Pe.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Y(new Pe(e.slice()))}}function JB(t){return new zr(t.readTime,t.key,-1)}class zr{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new zr(se.min(),Y.empty(),-1)}static max(){return new zr(se.max(),Y.empty(),-1)}}function ZC(t,e){let n=t.readTime.compareTo(e.readTime);return 0!==n?n:(n=Y.comparator(t.documentKey,e.documentKey),0!==n?n:fe(t.largestBatchId,e.largestBatchId))}const YB="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Jce{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function Fs(t){return XC.apply(this,arguments)}function XC(){return XC=w(function*(t){if(t.code!==x.FAILED_PRECONDITION||t.message!==YB)throw t;F("LocalStore","Unexpectedly lost primary lease")}),XC.apply(this,arguments)}class S{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&te(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new S((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof S?n:S.resolve(n)}catch(n){return S.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):S.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):S.reject(n)}static resolve(e){return new S((n,r)=>{n(e)})}static reject(e){return new S((n,r)=>{r(e)})}static waitFor(e){return new S((n,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&n()},u=>r(u))}),s=!0,o===i&&n()})}static or(e){let n=S.resolve(!1);for(const r of e)n=n.next(i=>i?S.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new S((r,i)=>{const o=e.length,s=new Array(o);let a=0;for(let u=0;u<o;u++){const c=u;n(e[c]).next(l=>{s[c]=l,++a,a===o&&r(s)},l=>i(l))}})}static doWhile(e,n){return new S((r,i)=>{const o=()=>{!0===e()?n().next(()=>{o()},i):r()};o()})}}class D0{constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.V=new fn,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{n.error?this.V.reject(new Vf(e,n.error)):this.V.resolve()},this.transaction.onerror=r=>{const i=eD(r.target.error);this.V.reject(new Vf(e,i))}}static open(e,n,r,i){try{return new D0(n,e.transaction(i,r))}catch(o){throw new Vf(n,o)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(F("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const n=this.transaction.objectStore(e);return new Zce(n)}}class gi{constructor(e,n,r){this.name=e,this.version=n,this.p=r,12.2===gi.S(Ft())&&Qt("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return F("SimpleDb","Removing database:",e),qa(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!ZF())return!1;if(gi.C())return!0;const e=Ft(),n=gi.S(e),r=0<n&&n<10,i=gi.v(e),o=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||o)}static C(){var e;return typeof process<"u"&&"YES"===(null===(e=process.__PRIVATE_env)||void 0===e?void 0:e.F)}static M(e,n){return e.store(n)}static S(e){const n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static v(e){const n=e.match(/Android ([\d.]+)/i),r=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(r)}O(e){var n=this;return w(function*(){return n.db||(F("SimpleDb","Opening database:",n.name),n.db=yield new Promise((r,i)=>{const o=indexedDB.open(n.name,n.version);o.onsuccess=s=>{r(s.target.result)},o.onblocked=()=>{i(new Vf(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},o.onerror=s=>{const a=s.target.error;i("VersionError"===a.name?new V(x.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===a.name?new V(x.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+a):new Vf(e,a))},o.onupgradeneeded=s=>{F("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',s.oldVersion),n.p.N(s.target.result,o.transaction,s.oldVersion,n.version).next(()=>{F("SimpleDb","Database upgrade to version "+n.version+" complete")})}})),n.L&&(n.db.onversionchange=r=>n.L(r)),n.db})()}B(e){this.L=e,this.db&&(this.db.onversionchange=n=>e(n))}runTransaction(e,n,r,i){var o=this;return w(function*(){const s="readonly"===n;let a=0;for(;;){++a;try{o.db=yield o.O(e);const u=D0.open(o.db,e,s?"readonly":"readwrite",r),c=i(u).next(l=>(u.g(),l)).catch(l=>(u.abort(l),S.reject(l))).toPromise();return c.catch(()=>{}),yield u.m,c}catch(u){const c=u,l="FirebaseError"!==c.name&&a<3;if(F("SimpleDb","Transaction failed with error:",c.message,"Retrying:",l),o.close(),!l)return Promise.reject(c)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class Yce{constructor(e){this.k=e,this.q=!1,this.K=null}get isDone(){return this.q}get $(){return this.K}set cursor(e){this.k=e}done(){this.q=!0}U(e){this.K=e}delete(){return qa(this.k.delete())}}class Vf extends V{constructor(e,n){super(x.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}}function Vs(t){return"IndexedDbTransactionError"===t.name}class Zce{constructor(e){this.store=e}put(e,n){let r;return void 0!==n?(F("SimpleDb","PUT",this.store.name,e,n),r=this.store.put(n,e)):(F("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),qa(r)}add(e){return F("SimpleDb","ADD",this.store.name,e,e),qa(this.store.add(e))}get(e){return qa(this.store.get(e)).next(n=>(void 0===n&&(n=null),F("SimpleDb","GET",this.store.name,e,n),n))}delete(e){return F("SimpleDb","DELETE",this.store.name,e),qa(this.store.delete(e))}count(){return F("SimpleDb","COUNT",this.store.name),qa(this.store.count())}W(e,n){const r=this.options(e,n),i=r.index?this.store.index(r.index):this.store;if("function"==typeof i.getAll){const o=i.getAll(r.range);return new S((s,a)=>{o.onerror=u=>{a(u.target.error)},o.onsuccess=u=>{s(u.target.result)}})}{const o=this.cursor(r),s=[];return this.G(o,(a,u)=>{s.push(u)}).next(()=>s)}}j(e,n){const r=this.store.getAll(e,null===n?void 0:n);return new S((i,o)=>{r.onerror=s=>{o(s.target.error)},r.onsuccess=s=>{i(s.target.result)}})}H(e,n){F("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,n);r.J=!1;const i=this.cursor(r);return this.G(i,(o,s,a)=>a.delete())}Y(e,n){let r;n?r=e:(r={},n=e);const i=this.cursor(r);return this.G(i,n)}Z(e){const n=this.cursor({});return new S((r,i)=>{n.onerror=o=>{const s=eD(o.target.error);i(s)},n.onsuccess=o=>{const s=o.target.result;s?e(s.primaryKey,s.value).next(a=>{a?s.continue():r()}):r()}})}G(e,n){const r=[];return new S((i,o)=>{e.onerror=s=>{o(s.target.error)},e.onsuccess=s=>{const a=s.target.result;if(!a)return void i();const u=new Yce(a),c=n(a.primaryKey,a.value,u);if(c instanceof S){const l=c.catch(d=>(u.done(),S.reject(d)));r.push(l)}u.isDone?i():null===u.$?a.continue():a.continue(u.$)}}).next(()=>S.waitFor(r))}options(e,n){let r;return void 0!==e&&("string"==typeof e?r=e:n=e),{index:r,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){const r=this.store.index(e.index);return e.J?r.openKeyCursor(e.range,n):r.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}}function qa(t){return new S((e,n)=>{t.onsuccess=r=>{e(r.target.result)},t.onerror=r=>{const i=eD(r.target.error);n(i)}})}let ZB=!1;function eD(t){const e=gi.S(Ft());if(e>=12.2&&e<13){const n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){const r=new V("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return ZB||(ZB=!0,setTimeout(()=>{throw r},0)),r}}return t}let qr=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=i=>this.se(i),this.oe=i=>r.writeSequenceNumber(i))}se(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){const n=++this.previousValue;return this.oe&&this.oe(n),n}}return t._e=-1,t})();function Lf(t){return null==t}function Bf(t){return 0===t&&1/t==-1/0}function sU(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Ls(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function aU(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}class gt{constructor(e,n){this.comparator=e,this.root=n||jn.EMPTY}insert(e,n){return new gt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,jn.BLACK,null,null))}remove(e){return new gt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,jn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new A0(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new A0(this.root,e,this.comparator,!1)}getReverseIterator(){return new A0(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new A0(this.root,e,this.comparator,!0)}}class A0{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(0===o){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class jn{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??jn.RED,this.left=i??jn.EMPTY,this.right=o??jn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new jn(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):0===o?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return jn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(e,i.key)){if(i.right.isEmpty())return jn.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,jn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,jn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw te();const e=this.left.check();if(e!==this.right.check())throw te();return e+(this.isRed()?0:1)}}jn.EMPTY=null,jn.RED=!0,jn.BLACK=!1,jn.EMPTY=new class{constructor(){this.size=0}get key(){throw te()}get value(){throw te()}get color(){throw te()}get left(){throw te()}get right(){throw te()}copy(e,n,r,i,o){return this}insert(e,n,r){return new jn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class at{constructor(e){this.comparator=e,this.data=new gt(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=void 0!==n?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new uU(this.data.getIterator())}getIteratorFrom(e){return new uU(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof at)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(0!==this.comparator(i,o))return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new at(this.comparator);return n.data=e,n}}class uU{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Rr{constructor(e){this.fields=e,e.sort(It.comparator)}static empty(){return new Rr([])}unionWith(e){let n=new at(It.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Rr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return sl(this.fields,e.fields,(n,r)=>n.isEqual(r))}}class cU extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class pn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new cU("Invalid base64 string: "+o):o}}(e);return new pn(n)}static fromUint8Array(e){const n=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new pn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return fe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}pn.EMPTY_BYTE_STRING=new pn("");const ble=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Go(t){if(oe(!!t),"string"==typeof t){let e=0;const n=ble.exec(t);if(oe(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Bt(t.seconds),nanos:Bt(t.nanos)}}function Bt(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function zo(t){return"string"==typeof t?pn.fromBase64String(t):pn.fromUint8Array(t)}function R0(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=t?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function P0(t){const e=t.mapValue.fields.__previous_value__;return R0(e)?P0(e):e}function Uf(t){const e=Go(t.mapValue.fields.__local_write_time__.timestampValue);return new xt(e.seconds,e.nanos)}class Ele{constructor(e,n,r,i,o,s,a,u,c){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=c}}class Wa{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Wa("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Wa&&e.projectId===this.projectId&&e.database===this.database}}const Bs={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Us(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?R0(t)?4:fU(t)?9007199254740991:10:te()}function ao(t,e){if(t===e)return!0;const n=Us(t);if(n!==Us(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Uf(t).isEqual(Uf(e));case 3:return function(i,o){if("string"==typeof i.timestampValue&&"string"==typeof o.timestampValue&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const s=Go(i.timestampValue),a=Go(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return o=e,zo(t.bytesValue).isEqual(zo(o.bytesValue));case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,o){return Bt(i.geoPointValue.latitude)===Bt(o.geoPointValue.latitude)&&Bt(i.geoPointValue.longitude)===Bt(o.geoPointValue.longitude)}(t,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return Bt(i.integerValue)===Bt(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const s=Bt(i.doubleValue),a=Bt(o.doubleValue);return s===a?Bf(s)===Bf(a):isNaN(s)&&isNaN(a)}return!1}(t,e);case 9:return sl(t.arrayValue.values||[],e.arrayValue.values||[],ao);case 10:return function(i,o){const s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(sU(s)!==sU(a))return!1;for(const u in s)if(s.hasOwnProperty(u)&&(void 0===a[u]||!ao(s[u],a[u])))return!1;return!0}(t,e);default:return te()}var o}function jf(t,e){return void 0!==(t.values||[]).find(n=>ao(n,e))}function js(t,e){if(t===e)return 0;const n=Us(t),r=Us(e);if(n!==r)return fe(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return fe(t.booleanValue,e.booleanValue);case 2:return function(o,s){const a=Bt(o.integerValue||o.doubleValue),u=Bt(s.integerValue||s.doubleValue);return a<u?-1:a>u?1:a===u?0:isNaN(a)?isNaN(u)?0:-1:1}(t,e);case 3:return lU(t.timestampValue,e.timestampValue);case 4:return lU(Uf(t),Uf(e));case 5:return fe(t.stringValue,e.stringValue);case 6:return function(o,s){const a=zo(o),u=zo(s);return a.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(o,s){const a=o.split("/"),u=s.split("/");for(let c=0;c<a.length&&c<u.length;c++){const l=fe(a[c],u[c]);if(0!==l)return l}return fe(a.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,s){const a=fe(Bt(o.latitude),Bt(s.latitude));return 0!==a?a:fe(Bt(o.longitude),Bt(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(o,s){const a=o.values||[],u=s.values||[];for(let c=0;c<a.length&&c<u.length;++c){const l=js(a[c],u[c]);if(l)return l}return fe(a.length,u.length)}(t.arrayValue,e.arrayValue);case 10:return function(o,s){if(o===Bs.mapValue&&s===Bs.mapValue)return 0;if(o===Bs.mapValue)return 1;if(s===Bs.mapValue)return-1;const a=o.fields||{},u=Object.keys(a),c=s.fields||{},l=Object.keys(c);u.sort(),l.sort();for(let d=0;d<u.length&&d<l.length;++d){const h=fe(u[d],l[d]);if(0!==h)return h;const f=js(a[u[d]],c[l[d]]);if(0!==f)return f}return fe(u.length,l.length)}(t.mapValue,e.mapValue);default:throw te()}}function lU(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return fe(t,e);const n=Go(t),r=Go(e),i=fe(n.seconds,r.seconds);return 0!==i?i:fe(n.nanos,r.nanos)}function ll(t){return nD(t)}function nD(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Go(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?zo(t.bytesValue).toBase64():"referenceValue"in t?Y.fromName(t.referenceValue).toString():"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const o of n.values||[])i?i=!1:r+=",",r+=nD(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",o=!0;for(const s of r)o?o=!1:i+=",",i+=`${s}:${nD(n.fields[s])}`;return i+"}"}(t.mapValue):te()}function Ka(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function rD(t){return!!t&&"integerValue"in t}function $f(t){return!!t&&"arrayValue"in t}function dU(t){return!!t&&"nullValue"in t}function hU(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function M0(t){return!!t&&"mapValue"in t}function Hf(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&"object"==typeof t.timestampValue)return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Ls(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Hf(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Hf(t.arrayValue.values[n]);return e}return Object.assign({},t)}function fU(t){return"__max__"===(((t.mapValue||{}).fields||{}).__type__||{}).stringValue}class $n{constructor(e){this.value=e}static empty(){return new $n({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!M0(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Hf(n)}setAll(e){let n=It.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!n.isImmediateParentOf(a)){const u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=a.popLast()}s?r[a.lastSegment()]=Hf(s):i.push(a.lastSegment())});const o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){const n=this.field(e.popLast());M0(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return ao(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];M0(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Ls(n,(i,o)=>e[i]=o);for(const i of r)delete e[i]}clone(){return new $n(Hf(this.value))}}function mU(t){const e=[];return Ls(t.fields,(n,r)=>{const i=new It([n]);if(M0(r)){const o=mU(r.mapValue).fields;if(0===o.length)e.push(i);else for(const s of o)e.push(i.child(s))}else e.push(i)}),new Rr(e)}class Et{constructor(e,n,r,i,o,s,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new Et(e,0,se.min(),se.min(),se.min(),$n.empty(),0)}static newFoundDocument(e,n,r,i){return new Et(e,1,n,se.min(),r,i,0)}static newNoDocument(e,n){return new Et(e,2,n,se.min(),se.min(),$n.empty(),0)}static newUnknownDocument(e,n){return new Et(e,3,n,se.min(),se.min(),$n.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(se.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=$n.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=$n.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=se.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Et&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Et(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class $s{constructor(e,n){this.position=e,this.inclusive=n}}function _U(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const o=e[i],s=t.position[i];if(r=o.field.isKeyField()?Y.comparator(Y.fromName(s.referenceValue),n.key):js(s,n.data.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return r}function yU(t,e){if(null===t)return null===e;if(null===e||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!ao(t.position[n],e.position[n]))return!1;return!0}class Gf{constructor(e,n="asc"){this.field=e,this.dir=n}}function Tle(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}class vU{}class xe extends vU{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?"in"===n||"not-in"===n?this.createKeyFieldInFilter(e,n,r):new Cle(e,n,r):"array-contains"===n?new Ale(e,r):"in"===n?new CU(e,r):"not-in"===n?new Rle(e,r):"array-contains-any"===n?new Ple(e,r):new xe(e,n,r)}static createKeyFieldInFilter(e,n,r){return"in"===n?new Dle(e,r):new Sle(e,r)}matches(e){const n=e.data.field(this.field);return"!="===this.op?null!==n&&this.matchesComparison(js(n,this.value)):null!==n&&Us(this.value)===Us(n)&&this.matchesComparison(js(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return te()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class st extends vU{constructor(e,n){super(),this.filters=e,this.op=n,this.ue=null}static create(e,n){return new st(e,n)}matches(e){return dl(this)?void 0===this.filters.find(n=>!n.matches(e)):void 0!==this.filters.find(n=>n.matches(e))}getFlattenedFilters(){return null!==this.ue||(this.ue=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function dl(t){return"and"===t.op}function oD(t){return function bU(t){for(const e of t.filters)if(e instanceof st)return!1;return!0}(t)&&dl(t)}function sD(t){if(t instanceof xe)return t.field.canonicalString()+t.op.toString()+ll(t.value);if(oD(t))return t.filters.map(e=>sD(e)).join(",");{const e=t.filters.map(n=>sD(n)).join(",");return`${t.op}(${e})`}}function EU(t,e){return t instanceof xe?(r=t,(i=e)instanceof xe&&r.op===i.op&&r.field.isEqual(i.field)&&ao(r.value,i.value)):t instanceof st?function(r,i){return i instanceof st&&r.op===i.op&&r.filters.length===i.filters.length&&r.filters.reduce((o,s,a)=>o&&EU(s,i.filters[a]),!0)}(t,e):void te();var r,i}function IU(t){return t instanceof xe?`${(n=t).field.canonicalString()} ${n.op} ${ll(n.value)}`:t instanceof st?function(n){return n.op.toString()+" {"+n.getFilters().map(IU).join(" ,")+"}"}(t):"Filter";var n}class Cle extends xe{constructor(e,n,r){super(e,n,r),this.key=Y.fromName(r.referenceValue)}matches(e){const n=Y.comparator(e.key,this.key);return this.matchesComparison(n)}}class Dle extends xe{constructor(e,n){super(e,"in",n),this.keys=TU(0,n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class Sle extends xe{constructor(e,n){super(e,"not-in",n),this.keys=TU(0,n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function TU(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(r=>Y.fromName(r.referenceValue))}class Ale extends xe{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return $f(n)&&jf(n.arrayValue,this.value)}}class CU extends xe{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return null!==n&&jf(this.value.arrayValue,n)}}class Rle extends xe{constructor(e,n){super(e,"not-in",n)}matches(e){if(jf(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return null!==n&&!jf(this.value.arrayValue,n)}}class Ple extends xe{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!$f(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>jf(this.value.arrayValue,r))}}class xle{constructor(e,n=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.ce=null}}function aD(t,e=null,n=[],r=[],i=null,o=null,s=null){return new xle(t,e,n,r,i,o,s)}function Qa(t){const e=Q(t);if(null===e.ce){let n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>sD(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>{return(o=r).field.canonicalString()+o.dir;var o}).join(","),Lf(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>ll(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>ll(r)).join(",")),e.ce=n}return e.ce}function zf(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!Tle(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!EU(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!yU(t.startAt,e.startAt)&&yU(t.endAt,e.endAt)}function O0(t){return Y.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}class qo{constructor(e,n=null,r=[],i=[],o=null,s="F",a=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=u,this.le=null,this.he=null,this.Pe=null}}function hl(t){return new qo(t)}function RU(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.explicitOrderBy.length||1===t.explicitOrderBy.length&&t.explicitOrderBy[0].field.isKeyField())}function uD(t){return null!==t.collectionGroup}function fl(t){const e=Q(t);if(null===e.le){e.le=[];const n=new Set;for(const o of e.explicitOrderBy)e.le.push(o),n.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new at(It.comparator);return s.filters.forEach(u=>{u.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.le.push(new Gf(o,r))}),n.has(It.keyField().canonicalString())||e.le.push(new Gf(It.keyField(),r))}return e.le}function pr(t){const e=Q(t);return e.he||(e.he=function PU(t,e){if("F"===t.limitType)return aD(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>new Gf(i.field,"desc"===i.dir?"asc":"desc"));const n=t.endAt?new $s(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new $s(t.startAt.position,t.startAt.inclusive):null;return aD(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}(e,fl(t))),e.he}function cD(t,e){const n=t.filters.concat([e]);return new qo(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function F0(t,e,n){return new qo(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function qf(t,e){return zf(pr(t),pr(e))&&t.limitType===e.limitType}function xU(t){return`${Qa(pr(t))}|lt:${t.limitType}`}function pl(t){return`Query(target=${function(n){let r=n.path.canonicalString();return null!==n.collectionGroup&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>IU(i)).join(", ")}]`),Lf(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>{return`${(s=i).field.canonicalString()} (${s.dir})`;var s}).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>ll(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>ll(i)).join(",")),`Target(${r})`}(pr(t))}; limitType=${t.limitType})`}function Wf(t,e){return e.isFoundDocument()&&function(r,i){const o=i.key.path;return null!==r.collectionGroup?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):Y.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(t,e)&&function(r,i){for(const o of fl(r))if(!o.field.isKeyField()&&null===i.data.field(o.field))return!1;return!0}(t,e)&&function(r,i){for(const o of r.filters)if(!o.matches(i))return!1;return!0}(t,e)&&(i=e,!((r=t).startAt&&!function(s,a,u){const c=_U(s,a,u);return s.inclusive?c<=0:c<0}(r.startAt,fl(r),i)||r.endAt&&!function(s,a,u){const c=_U(s,a,u);return s.inclusive?c>=0:c>0}(r.endAt,fl(r),i)));var r,i}function MU(t){return(e,n)=>{let r=!1;for(const i of fl(t)){const o=Nle(i,e,n);if(0!==o)return o;r=r||i.field.isKeyField()}return 0}}function Nle(t,e,n){const r=t.field.isKeyField()?Y.comparator(e.key,n.key):function(o,s,a){const u=s.data.field(o),c=a.data.field(o);return null!==u&&null!==c?js(u,c):te()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return te()}}class Wo{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0!==r)for(const[i,o]of r)if(this.equalsFn(i,e))return o}has(e){return void 0!==this.get(e)}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Ls(this.inner,(n,r)=>{for(const[i,o]of r)e(i,o)})}isEmpty(){return aU(this.inner)}size(){return this.innerSize}}const Mle=new gt(Y.comparator);function Pr(){return Mle}const OU=new gt(Y.comparator);function Kf(...t){let e=OU;for(const n of t)e=e.insert(n.key,n);return e}function kU(t){let e=OU;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function uo(){return Qf()}function FU(){return Qf()}function Qf(){return new Wo(t=>t.toString(),(t,e)=>t.isEqual(e))}const Ole=new gt(Y.comparator),kle=new at(Y.comparator);function Ee(...t){let e=kle;for(const n of t)e=e.add(n);return e}const Fle=new at(fe);function VU(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Bf(e)?"-0":e}}function LU(t){return{integerValue:""+t}}function BU(t,e){return function XB(t){return"number"==typeof t&&Number.isInteger(t)&&!Bf(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}(e)?LU(e):VU(t,e)}class V0{constructor(){this._=void 0}}function Vle(t,e,n){return t instanceof gl?function(i,o){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&R0(o)&&(o=P0(o)),o&&(s.fields.__previous_value__=o),{mapValue:s}}(n,e):t instanceof Ja?jU(t,e):t instanceof Ya?$U(t,e):function(i,o){const s=UU(i,o),a=HU(s)+HU(i.Ie);return rD(s)&&rD(i.Ie)?LU(a):VU(i.serializer,a)}(t,e)}function Lle(t,e,n){return t instanceof Ja?jU(t,e):t instanceof Ya?$U(t,e):n}function UU(t,e){return t instanceof ml?rD(r=e)||(o=r)&&"doubleValue"in o?e:{integerValue:0}:null;var r,o}class gl extends V0{}class Ja extends V0{constructor(e){super(),this.elements=e}}function jU(t,e){const n=GU(e);for(const r of t.elements)n.some(i=>ao(i,r))||n.push(r);return{arrayValue:{values:n}}}class Ya extends V0{constructor(e){super(),this.elements=e}}function $U(t,e){let n=GU(e);for(const r of t.elements)n=n.filter(i=>!ao(i,r));return{arrayValue:{values:n}}}class ml extends V0{constructor(e,n){super(),this.serializer=e,this.Ie=n}}function HU(t){return Bt(t.integerValue||t.doubleValue)}function GU(t){return $f(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}class Ule{constructor(e,n){this.version=e,this.transformResults=n}}class Tt{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Tt}static exists(e){return new Tt(void 0,e)}static updateTime(e){return new Tt(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function L0(t,e){return void 0!==t.updateTime?e.isFoundDocument()&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e.isFoundDocument()}class B0{}function zU(t,e){if(!t.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return t.isNoDocument()?new yl(t.key,Tt.none()):new _l(t.key,t.data,Tt.none());{const n=t.data,r=$n.empty();let i=new at(It.comparator);for(let o of e.fields)if(!i.has(o)){let s=n.field(o);null===s&&o.length>1&&(o=o.popLast(),s=n.field(o)),null===s?r.delete(o):r.set(o,s),i=i.add(o)}return new Ko(t.key,r,new Rr(i.toArray()),Tt.none())}}function jle(t,e,n){t instanceof _l?function(i,o,s){const a=i.value.clone(),u=KU(i.fieldTransforms,o,s.transformResults);a.setAll(u),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Ko?function(i,o,s){if(!L0(i.precondition,o))return void o.convertToUnknownDocument(s.version);const a=KU(i.fieldTransforms,o,s.transformResults),u=o.data;u.setAll(WU(i)),u.setAll(a),o.convertToFoundDocument(s.version,u).setHasCommittedMutations()}(t,e,n):e.convertToNoDocument(n.version).setHasCommittedMutations()}function Yf(t,e,n,r){return t instanceof _l?function(o,s,a,u){if(!L0(o.precondition,s))return a;const c=o.value.clone(),l=QU(o.fieldTransforms,u,s);return c.setAll(l),s.convertToFoundDocument(s.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof Ko?function(o,s,a,u){if(!L0(o.precondition,s))return a;const c=QU(o.fieldTransforms,u,s),l=s.data;return l.setAll(WU(o)),l.setAll(c),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),null===a?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(d=>d.field))}(t,e,n,r):(a=n,L0(t.precondition,s=e)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a);var s,a}function $le(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),o=UU(r.transform,i||null);null!=o&&(null===n&&(n=$n.empty()),n.set(r.field,o))}return n||null}function qU(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&(i=e.fieldTransforms,!!(void 0===(r=t.fieldTransforms)&&void 0===i||r&&i&&sl(r,i,(o,s)=>function Ble(t,e){return t.field.isEqual(e.field)&&(i=e.transform,(r=t.transform)instanceof Ja&&i instanceof Ja||r instanceof Ya&&i instanceof Ya?sl(r.elements,i.elements,ao):r instanceof ml&&i instanceof ml?ao(r.Ie,i.Ie):r instanceof gl&&i instanceof gl);var r,i}(o,s))))&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask));var r,i}class _l extends B0{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Ko extends B0{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function WU(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function KU(t,e,n){const r=new Map;oe(t.length===n.length);for(let i=0;i<n.length;i++){const o=t[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,Lle(s,a,n[i]))}return r}function QU(t,e,n){const r=new Map;for(const i of t){const o=i.transform,s=n.data.field(i.field);r.set(i.field,Vle(o,s,e))}return r}class yl extends B0{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class dD extends B0{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class hD{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&jle(o,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Yf(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Yf(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=FU();return this.mutations.forEach(i=>{const o=e.get(i.key),s=o.overlayedDocument;let a=this.applyToLocalView(s,o.mutatedFields);a=n.has(i.key)?null:a;const u=zU(s,a);null!==u&&r.set(i.key,u),s.isValidDocument()||s.convertToNoDocument(se.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Ee())}isEqual(e){return this.batchId===e.batchId&&sl(this.mutations,e.mutations,(n,r)=>qU(n,r))&&sl(this.baseMutations,e.baseMutations,(n,r)=>qU(n,r))}}class fD{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){oe(e.mutations.length===r.length);let i=Ole;const o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new fD(e,n,r,i)}}class pD{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Gle{constructor(e,n){this.count=e,this.unchangedNames=n}}var on,Be;function YU(t){if(void 0===t)return Qt("GRPC error has no .code"),x.UNKNOWN;switch(t){case on.OK:return x.OK;case on.CANCELLED:return x.CANCELLED;case on.UNKNOWN:return x.UNKNOWN;case on.DEADLINE_EXCEEDED:return x.DEADLINE_EXCEEDED;case on.RESOURCE_EXHAUSTED:return x.RESOURCE_EXHAUSTED;case on.INTERNAL:return x.INTERNAL;case on.UNAVAILABLE:return x.UNAVAILABLE;case on.UNAUTHENTICATED:return x.UNAUTHENTICATED;case on.INVALID_ARGUMENT:return x.INVALID_ARGUMENT;case on.NOT_FOUND:return x.NOT_FOUND;case on.ALREADY_EXISTS:return x.ALREADY_EXISTS;case on.PERMISSION_DENIED:return x.PERMISSION_DENIED;case on.FAILED_PRECONDITION:return x.FAILED_PRECONDITION;case on.ABORTED:return x.ABORTED;case on.OUT_OF_RANGE:return x.OUT_OF_RANGE;case on.UNIMPLEMENTED:return x.UNIMPLEMENTED;case on.DATA_LOSS:return x.DATA_LOSS;default:return te()}}(Be=on||(on={}))[Be.OK=0]="OK",Be[Be.CANCELLED=1]="CANCELLED",Be[Be.UNKNOWN=2]="UNKNOWN",Be[Be.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Be[Be.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Be[Be.NOT_FOUND=5]="NOT_FOUND",Be[Be.ALREADY_EXISTS=6]="ALREADY_EXISTS",Be[Be.PERMISSION_DENIED=7]="PERMISSION_DENIED",Be[Be.UNAUTHENTICATED=16]="UNAUTHENTICATED",Be[Be.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Be[Be.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Be[Be.ABORTED=10]="ABORTED",Be[Be.OUT_OF_RANGE=11]="OUT_OF_RANGE",Be[Be.UNIMPLEMENTED=12]="UNIMPLEMENTED",Be[Be.INTERNAL=13]="INTERNAL",Be[Be.UNAVAILABLE=14]="UNAVAILABLE",Be[Be.DATA_LOSS=15]="DATA_LOSS";const zle=new rl([4294967295,4294967295],0);function XU(t){const e=function ZU(){return new TextEncoder}().encode(t),n=new Bce;return n.update(e),new Uint8Array(n.digest())}function e5(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new rl([n,r],0),new rl([i,o],0)]}class gD{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Zf(`Invalid padding: ${n}`);if(r<0)throw new Zf(`Invalid hash count: ${r}`);if(e.length>0&&0===this.hashCount)throw new Zf(`Invalid hash count: ${r}`);if(0===e.length&&0!==n)throw new Zf(`Invalid padding when bitmap length is 0: ${n}`);this.Te=8*e.length-n,this.Ee=rl.fromNumber(this.Te)}de(e,n,r){let i=e.add(n.multiply(rl.fromNumber(r)));return 1===i.compare(zle)&&(i=new rl([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Ee).toNumber()}Ae(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Te)return!1;const n=XU(e),[r,i]=e5(n);for(let o=0;o<this.hashCount;o++){const s=this.de(r,i,o);if(!this.Ae(s))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new gD(o,i,n);return r.forEach(a=>s.insert(a)),s}insert(e){if(0===this.Te)return;const n=XU(e),[r,i]=e5(n);for(let o=0;o<this.hashCount;o++){const s=this.de(r,i,o);this.Re(s)}}Re(e){const n=Math.floor(e/8);this.bitmap[n]|=1<<e%8}}class Zf extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Xf{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,ep.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Xf(se.min(),i,new gt(fe),Pr(),Ee())}}class ep{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new ep(r,n,Ee(),Ee(),Ee())}}class j0{constructor(e,n,r,i){this.Ve=e,this.removedTargetIds=n,this.key=r,this.me=i}}class t5{constructor(e,n){this.targetId=e,this.fe=n}}class n5{constructor(e,n,r=pn.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class r5{constructor(){this.ge=0,this.pe=o5(),this.ye=pn.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return 0!==this.ge}get De(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.ye=e)}ve(){let e=Ee(),n=Ee(),r=Ee();return this.pe.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:te()}}),new ep(this.ye,this.we,e,n,r)}Fe(){this.Se=!1,this.pe=o5()}Me(e,n){this.Se=!0,this.pe=this.pe.insert(e,n)}xe(e){this.Se=!0,this.pe=this.pe.remove(e)}Oe(){this.ge+=1}Ne(){this.ge-=1,oe(this.ge>=0)}Le(){this.Se=!0,this.we=!0}}class qle{constructor(e){this.Be=e,this.ke=new Map,this.qe=Pr(),this.Qe=i5(),this.Ke=new gt(fe)}$e(e){for(const n of e.Ve)e.me&&e.me.isFoundDocument()?this.Ue(n,e.me):this.We(n,e.key,e.me);for(const n of e.removedTargetIds)this.We(n,e.key,e.me)}Ge(e){this.forEachTarget(e,n=>{const r=this.ze(n);switch(e.state){case 0:this.je(n)&&r.Ce(e.resumeToken);break;case 1:r.Ne(),r.be||r.Fe(),r.Ce(e.resumeToken);break;case 2:r.Ne(),r.be||this.removeTarget(n);break;case 3:this.je(n)&&(r.Le(),r.Ce(e.resumeToken));break;case 4:this.je(n)&&(this.He(n),r.Ce(e.resumeToken));break;default:te()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ke.forEach((r,i)=>{this.je(i)&&n(i)})}Je(e){const n=e.targetId,r=e.fe.count,i=this.Ye(n);if(i){const o=i.target;if(O0(o))if(0===r){const s=new Y(o.path);this.We(n,s,Et.newNoDocument(s,se.min()))}else oe(1===r);else{const s=this.Ze(n);if(s!==r){const a=this.Xe(e),u=a?this.et(a,e,s):1;0!==u&&(this.He(n),this.Ke=this.Ke.insert(n,2===u?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch"))}}}}Xe(e){const n=e.fe.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n;let s,a;try{s=zo(r).toUint8Array()}catch(u){if(u instanceof cU)return Gr("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{a=new gD(s,i,o)}catch(u){return Gr(u instanceof Zf?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return 0===a.Te?null:a}et(e,n,r){return n.fe.count===r-this.rt(e,n.targetId)?0:2}rt(e,n){const r=this.Be.getRemoteKeysForTarget(n);let i=0;return r.forEach(o=>{const s=this.Be.nt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.We(n,o,null),i++)}),i}it(e){const n=new Map;this.ke.forEach((o,s)=>{const a=this.Ye(s);if(a){if(o.current&&O0(a.target)){const u=new Y(a.target.path);null!==this.qe.get(u)||this.st(s,u)||this.We(s,u,Et.newNoDocument(u,e))}o.De&&(n.set(s,o.ve()),o.Fe())}});let r=Ee();this.Qe.forEach((o,s)=>{let a=!0;s.forEachWhile(u=>{const c=this.Ye(u);return!c||"TargetPurposeLimboResolution"===c.purpose||(a=!1,!1)}),a&&(r=r.add(o))}),this.qe.forEach((o,s)=>s.setReadTime(e));const i=new Xf(e,n,this.Ke,this.qe,r);return this.qe=Pr(),this.Qe=i5(),this.Ke=new gt(fe),i}Ue(e,n){if(!this.je(e))return;const r=this.st(e,n.key)?2:0;this.ze(e).Me(n.key,r),this.qe=this.qe.insert(n.key,n),this.Qe=this.Qe.insert(n.key,this.ot(n.key).add(e))}We(e,n,r){if(!this.je(e))return;const i=this.ze(e);this.st(e,n)?i.Me(n,1):i.xe(n),this.Qe=this.Qe.insert(n,this.ot(n).delete(e)),r&&(this.qe=this.qe.insert(n,r))}removeTarget(e){this.ke.delete(e)}Ze(e){const n=this.ze(e).ve();return this.Be.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Oe(e){this.ze(e).Oe()}ze(e){let n=this.ke.get(e);return n||(n=new r5,this.ke.set(e,n)),n}ot(e){let n=this.Qe.get(e);return n||(n=new at(fe),this.Qe=this.Qe.insert(e,n)),n}je(e){const n=null!==this.Ye(e);return n||F("WatchChangeAggregator","Detected inactive target",e),n}Ye(e){const n=this.ke.get(e);return n&&n.be?null:this.Be._t(e)}He(e){this.ke.set(e,new r5),this.Be.getRemoteKeysForTarget(e).forEach(n=>{this.We(e,n,null)})}st(e,n){return this.Be.getRemoteKeysForTarget(e).has(n)}}function i5(){return new gt(Y.comparator)}function o5(){return new gt(Y.comparator)}const Wle={asc:"ASCENDING",desc:"DESCENDING"},Kle={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Qle={and:"AND",or:"OR"};class Jle{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function mD(t,e){return t.useProto3Json||Lf(e)?e:{value:e}}function vl(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function s5(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function Yle(t,e){return vl(t,e.toTimestamp())}function Jt(t){return oe(!!t),se.fromTimestamp(function(n){const r=Go(n);return new xt(r.seconds,r.nanos)}(t))}function _D(t,e){return yD(t,e).canonicalString()}function yD(t,e){const n=(i=t,new Pe(["projects",i.projectId,"databases",i.database])).child("documents");var i;return void 0===e?n:n.child(e)}function a5(t){const e=Pe.fromString(t);return oe(_5(e)),e}function tp(t,e){return _D(t.databaseId,e.path)}function co(t,e){const n=a5(e);if(n.get(1)!==t.databaseId.projectId)throw new V(x.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new V(x.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Y(l5(n))}function u5(t,e){return _D(t.databaseId,e)}function vD(t){return new Pe(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function l5(t){return oe(t.length>4&&"documents"===t.get(4)),t.popFirst(5)}function d5(t,e,n){return{name:tp(t,e),fields:n.value.mapValue.fields}}function f5(t,e){return{documents:[u5(t,e.path)]}}function ED(t,e){const n={structuredQuery:{}},r=e.path;let i;null!==e.collectionGroup?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=u5(t,i);const o=function(c){if(0!==c.length)return m5(st.create(c,"and"))}(e.filters);o&&(n.structuredQuery.where=o);const s=function(c){if(0!==c.length)return c.map(l=>{return{field:Hs((h=l).field),direction:nde(h.dir)};var h})}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const a=mD(t,e.limit);return null!==a&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt={before:(c=e.startAt).inclusive,values:c.position}),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{ut:n,parent:i};var c}function p5(t){let e=function c5(t){const e=a5(t);return 4===e.length?Pe.emptyPath():l5(e)}(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){oe(1===r);const l=n.from[0];l.allDescendants?i=l.collectionId:e=e.child(l.collectionId)}let o=[];n.where&&(o=function(d){const h=g5(d);return h instanceof st&&oD(h)?h.getFilters():[h]}(n.where));let s=[];n.orderBy&&(s=n.orderBy.map(h=>{return new Gf(bl((m=h).field),function(v){switch(v){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(m.direction));var m}));let a=null;n.limit&&(a=function(d){let h;return h="object"==typeof d?d.value:d,Lf(h)?null:h}(n.limit));let u=null;var d;n.startAt&&(u=new $s((d=n.startAt).values||[],!!d.before));let c=null;return n.endAt&&(c=function(d){return new $s(d.values||[],!d.before)}(n.endAt)),function AU(t,e,n,r,i,o,s,a){return new qo(t,e,n,r,i,o,s,a)}(e,i,s,o,a,"F",u,c)}function g5(t){return void 0!==t.unaryFilter?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=bl(n.unaryFilter.field);return xe.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=bl(n.unaryFilter.field);return xe.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=bl(n.unaryFilter.field);return xe.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=bl(n.unaryFilter.field);return xe.create(s,"!=",{nullValue:"NULL_VALUE"});default:return te()}}(t):void 0!==t.fieldFilter?xe.create(bl((n=t).fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return te()}}(n.fieldFilter.op),n.fieldFilter.value):void 0!==t.compositeFilter?function(n){return st.create(n.compositeFilter.filters.map(r=>g5(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return te()}}(n.compositeFilter.op))}(t):te();var n}function nde(t){return Wle[t]}function rde(t){return Kle[t]}function ide(t){return Qle[t]}function Hs(t){return{fieldPath:t.canonicalString()}}function bl(t){return It.fromServerFormat(t.fieldPath)}function m5(t){return t instanceof xe?function(n){if("=="===n.op){if(hU(n.value))return{unaryFilter:{field:Hs(n.field),op:"IS_NAN"}};if(dU(n.value))return{unaryFilter:{field:Hs(n.field),op:"IS_NULL"}}}else if("!="===n.op){if(hU(n.value))return{unaryFilter:{field:Hs(n.field),op:"IS_NOT_NAN"}};if(dU(n.value))return{unaryFilter:{field:Hs(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Hs(n.field),op:rde(n.op),value:n.value}}}(t):t instanceof st?function(n){const r=n.getFilters().map(i=>m5(i));return 1===r.length?r[0]:{compositeFilter:{op:ide(n.op),filters:r}}}(t):te()}function ode(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function _5(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}class Qo{constructor(e,n,r,i,o=se.min(),s=se.min(),a=pn.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(e){return new Qo(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Qo(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Qo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Qo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class y5{constructor(e){this.ct=e}}function wD(t){const e=p5({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?F0(e,e.limit,"L"):e}class tu{constructor(){}Pt(e,n){this.It(e,n),n.Tt()}It(e,n){if("nullValue"in e)this.Et(n,5);else if("booleanValue"in e)this.Et(n,10),n.dt(e.booleanValue?1:0);else if("integerValue"in e)this.Et(n,15),n.dt(Bt(e.integerValue));else if("doubleValue"in e){const r=Bt(e.doubleValue);isNaN(r)?this.Et(n,13):(this.Et(n,15),Bf(r)?n.dt(0):n.dt(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Et(n,20),"string"==typeof r&&(r=Go(r)),n.At(`${r.seconds||""}`),n.dt(r.nanos||0)}else if("stringValue"in e)this.Rt(e.stringValue,n),this.Vt(n);else if("bytesValue"in e)this.Et(n,30),n.ft(zo(e.bytesValue)),this.Vt(n);else if("referenceValue"in e)this.gt(e.referenceValue,n);else if("geoPointValue"in e){const r=e.geoPointValue;this.Et(n,45),n.dt(r.latitude||0),n.dt(r.longitude||0)}else"mapValue"in e?fU(e)?this.Et(n,Number.MAX_SAFE_INTEGER):(this.yt(e.mapValue,n),this.Vt(n)):"arrayValue"in e?(this.wt(e.arrayValue,n),this.Vt(n)):te()}Rt(e,n){this.Et(n,25),this.St(e,n)}St(e,n){n.At(e)}yt(e,n){const r=e.fields||{};this.Et(n,55);for(const i of Object.keys(r))this.Rt(i,n),this.It(r[i],n)}wt(e,n){const r=e.values||[];this.Et(n,50);for(const i of r)this.It(i,n)}gt(e,n){this.Et(n,37),Y.fromName(e).path.forEach(r=>{this.Et(n,60),this.St(r,n)})}Et(e,n){e.dt(n)}Vt(e){e.dt(2)}}tu.bt=new tu;class fde{constructor(){this._n=new AD}addToCollectionParentIndex(e,n){return this._n.add(n),S.resolve()}getCollectionParents(e,n){return S.resolve(this._n.getEntries(n))}addFieldIndex(e,n){return S.resolve()}deleteFieldIndex(e,n){return S.resolve()}deleteAllFieldIndexes(e){return S.resolve()}createTargetIndexes(e,n){return S.resolve()}getDocumentsMatchingTarget(e,n){return S.resolve(null)}getIndexType(e,n){return S.resolve(0)}getFieldIndexes(e,n){return S.resolve([])}getNextCollectionGroupToUpdate(e){return S.resolve(null)}getMinOffset(e,n){return S.resolve(zr.min())}getMinOffsetFromCollectionGroup(e,n){return S.resolve(zr.min())}updateCollectionGroup(e,n,r){return S.resolve()}updateIndexEntries(e,n){return S.resolve()}}class AD{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new at(Pe.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new at(Pe.comparator)).toArray()}}new Uint8Array(0);class Xn{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new Xn(e,Xn.DEFAULT_COLLECTION_PERCENTILE,Xn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}Xn.DEFAULT_COLLECTION_PERCENTILE=10,Xn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Xn.DEFAULT=new Xn(41943040,Xn.DEFAULT_COLLECTION_PERCENTILE,Xn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Xn.DISABLED=new Xn(-1,0,0);class ru{constructor(e){this.On=e}next(){return this.On+=2,this.On}static Nn(){return new ru(0)}static Ln(){return new ru(-1)}}class vde{constructor(){this.changes=new Wo(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Et.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return void 0!==r?S.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class wde{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class z5{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(null!==r&&Yf(r.mutation,i,Rr.empty(),xt.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Ee()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Ee()){const i=uo();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let s=Kf();return o.forEach((a,u)=>{s=s.insert(a,u.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){const r=uo();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Ee()))}populateOverlays(e,n,r){const i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{n.set(s,a)})})}computeViews(e,n,r,i){let o=Pr();const s=Qf(),a=Qf();return n.forEach((u,c)=>{const l=r.get(c.key);i.has(c.key)&&(void 0===l||l.mutation instanceof Ko)?o=o.insert(c.key,c):void 0!==l?(s.set(c.key,l.mutation.getFieldMask()),Yf(l.mutation,c,l.mutation.getFieldMask(),xt.now())):s.set(c.key,Rr.empty())}),this.recalculateAndSaveOverlays(e,o).next(u=>(u.forEach((c,l)=>s.set(c,l)),n.forEach((c,l)=>{var d;return a.set(c,new wde(l,null!==(d=s.get(c))&&void 0!==d?d:null))}),a))}recalculateAndSaveOverlays(e,n){const r=Qf();let i=new gt((s,a)=>s-a),o=Ee();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(const a of s)a.keys().forEach(u=>{const c=n.get(u);if(null===c)return;let l=r.get(u)||Rr.empty();l=a.applyToLocalView(c,l),r.set(u,l);const d=(i.get(a.batchId)||Ee()).add(u);i=i.insert(a.batchId,d)})}).next(()=>{const s=[],a=i.getReverseIterator();for(;a.hasNext();){const u=a.getNext(),c=u.key,l=u.value,d=FU();l.forEach(h=>{if(!o.has(h)){const f=zU(n.get(h),r.get(h));null!==f&&d.set(h,f),o=o.add(h)}}),s.push(this.documentOverlayCache.saveOverlays(e,c,d))}return S.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return Y.isDocumentKey((s=n).path)&&null===s.collectionGroup&&0===s.filters.length?this.getDocumentsMatchingDocumentQuery(e,n.path):uD(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i);var s}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{const s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):S.resolve(uo());let a=-1,u=o;return s.next(c=>S.forEach(c,(l,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),o.get(l)?S.resolve():this.remoteDocumentCache.getEntry(e,l).next(h=>{u=u.insert(l,h)}))).next(()=>this.populateOverlays(e,c,o)).next(()=>this.computeViews(e,u,c,Ee())).next(l=>({batchId:a,changes:kU(l)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Y(n)).next(r=>{let i=Kf();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const o=n.collectionGroup;let s=Kf();return this.indexManager.getCollectionParents(e,o).next(a=>S.forEach(a,u=>{const c=(d=n,h=u.child(o),new qo(h,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt));var d,h;return this.getDocumentsMatchingCollectionQuery(e,c,r,i).next(l=>{l.forEach((d,h)=>{s=s.insert(d,h)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i))).next(s=>{o.forEach((u,c)=>{const l=c.getKey();null===s.get(l)&&(s=s.insert(l,Et.newInvalidDocument(l)))});let a=Kf();return s.forEach((u,c)=>{const l=o.get(u);void 0!==l&&Yf(l.mutation,c,Rr.empty(),xt.now()),Wf(n,c)&&(a=a.insert(u,c))}),a})}}class Ide{constructor(e){this.serializer=e,this.cr=new Map,this.lr=new Map}getBundleMetadata(e,n){return S.resolve(this.cr.get(n))}saveBundleMetadata(e,n){return this.cr.set(n.id,{id:(i=n).id,version:i.version,createTime:Jt(i.createTime)}),S.resolve();var i}getNamedQuery(e,n){return S.resolve(this.lr.get(n))}saveNamedQuery(e,n){return this.lr.set(n.name,{name:(i=n).name,query:wD(i.bundledQuery),readTime:Jt(i.readTime)}),S.resolve();var i}}class Tde{constructor(){this.overlays=new gt(Y.comparator),this.hr=new Map}getOverlay(e,n){return S.resolve(this.overlays.get(n))}getOverlays(e,n){const r=uo();return S.forEach(n,i=>this.getOverlay(e,i).next(o=>{null!==o&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.ht(e,n,o)}),S.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.hr.get(r);return void 0!==i&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.hr.delete(r)),S.resolve()}getOverlaysForCollection(e,n,r){const i=uo(),o=n.length+1,s=new Y(n.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){const u=a.getNext().value,c=u.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===o&&u.largestBatchId>r&&i.set(u.getKey(),u)}return S.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new gt((c,l)=>c-l);const s=this.overlays.getIterator();for(;s.hasNext();){const c=s.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let l=o.get(c.largestBatchId);null===l&&(l=uo(),o=o.insert(c.largestBatchId,l)),l.set(c.getKey(),c)}}const a=uo(),u=o.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((c,l)=>a.set(c,l)),!(a.size()>=i)););return S.resolve(a)}ht(e,n,r){const i=this.overlays.get(r.key);if(null!==i){const s=this.hr.get(i.largestBatchId).delete(r.key);this.hr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new pD(n,r));let o=this.hr.get(n);void 0===o&&(o=Ee(),this.hr.set(n,o)),this.hr.set(n,o.add(r.key))}}class RD{constructor(){this.Pr=new at(Tn.Ir),this.Tr=new at(Tn.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(e,n){const r=new Tn(e,n);this.Pr=this.Pr.add(r),this.Tr=this.Tr.add(r)}dr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Ar(new Tn(e,n))}Rr(e,n){e.forEach(r=>this.removeReference(r,n))}Vr(e){const n=new Y(new Pe([])),r=new Tn(n,e),i=new Tn(n,e+1),o=[];return this.Tr.forEachInRange([r,i],s=>{this.Ar(s),o.push(s.key)}),o}mr(){this.Pr.forEach(e=>this.Ar(e))}Ar(e){this.Pr=this.Pr.delete(e),this.Tr=this.Tr.delete(e)}gr(e){const n=new Y(new Pe([])),r=new Tn(n,e),i=new Tn(n,e+1);let o=Ee();return this.Tr.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){const n=new Tn(e,0),r=this.Pr.firstAfterOrEqual(n);return null!==r&&e.isEqual(r.key)}}class Tn{constructor(e,n){this.key=e,this.pr=n}static Ir(e,n){return Y.comparator(e.key,n.key)||fe(e.pr,n.pr)}static Er(e,n){return fe(e.pr,n.pr)||Y.comparator(e.key,n.key)}}class Cde{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.yr=1,this.wr=new at(Tn.Ir)}checkEmpty(e){return S.resolve(0===this.mutationQueue.length)}addMutationBatch(e,n,r,i){const o=this.yr;this.yr++;const s=new hD(o,n,r,i);this.mutationQueue.push(s);for(const a of i)this.wr=this.wr.add(new Tn(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return S.resolve(s)}lookupMutationBatch(e,n){return S.resolve(this.Sr(n))}getNextMutationBatchAfterBatchId(e,n){const i=this.br(n+1),o=i<0?0:i;return S.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return S.resolve(0===this.mutationQueue.length?-1:this.yr-1)}getAllMutationBatches(e){return S.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Tn(n,0),i=new Tn(n,Number.POSITIVE_INFINITY),o=[];return this.wr.forEachInRange([r,i],s=>{const a=this.Sr(s.pr);o.push(a)}),S.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new at(fe);return n.forEach(i=>{const o=new Tn(i,0),s=new Tn(i,Number.POSITIVE_INFINITY);this.wr.forEachInRange([o,s],a=>{r=r.add(a.pr)})}),S.resolve(this.Dr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let o=r;Y.isDocumentKey(o)||(o=o.child(""));const s=new Tn(new Y(o),0);let a=new at(fe);return this.wr.forEachWhile(u=>{const c=u.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(a=a.add(u.pr)),!0)},s),S.resolve(this.Dr(a))}Dr(e){const n=[];return e.forEach(r=>{const i=this.Sr(r);null!==i&&n.push(i)}),n}removeMutationBatch(e,n){oe(0===this.Cr(n.batchId,"removed")),this.mutationQueue.shift();let r=this.wr;return S.forEach(n.mutations,i=>{const o=new Tn(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.wr=r})}Mn(e){}containsKey(e,n){const r=new Tn(n,0),i=this.wr.firstAfterOrEqual(r);return S.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return S.resolve()}Cr(e,n){return this.br(e)}br(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Sr(e){const n=this.br(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class Dde{constructor(e){this.vr=e,this.docs=new gt(Y.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),o=i?i.size:0,s=this.vr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return S.resolve(r?r.document.mutableCopy():Et.newInvalidDocument(n))}getEntries(e,n){let r=Pr();return n.forEach(i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():Et.newInvalidDocument(i))}),S.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=Pr();const s=n.path,a=new Y(s.child("")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){const{key:c,value:{document:l}}=u.getNext();if(!s.isPrefixOf(c.path))break;c.path.length>s.length+1||ZC(JB(l),r)<=0||(i.has(l.key)||Wf(n,l))&&(o=o.insert(l.key,l.mutableCopy()))}return S.resolve(o)}getAllFromCollectionGroup(e,n,r,i){te()}Fr(e,n){return S.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new Sde(this)}getSize(e){return S.resolve(this.size)}}class Sde extends vde{constructor(e){super(),this.ar=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.ar.addEntry(e,i)):this.ar.removeEntry(r)}),S.waitFor(n)}getFromCache(e,n){return this.ar.getEntry(e,n)}getAllFromCache(e,n){return this.ar.getEntries(e,n)}}class Ade{constructor(e){this.persistence=e,this.Mr=new Wo(n=>Qa(n),zf),this.lastRemoteSnapshotVersion=se.min(),this.highestTargetId=0,this.Or=0,this.Nr=new RD,this.targetCount=0,this.Lr=ru.Nn()}forEachTarget(e,n){return this.Mr.forEach((r,i)=>n(i)),S.resolve()}getLastRemoteSnapshotVersion(e){return S.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return S.resolve(this.Or)}allocateTargetId(e){return this.highestTargetId=this.Lr.next(),S.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Or&&(this.Or=n),S.resolve()}qn(e){this.Mr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Lr=new ru(n),this.highestTargetId=n),e.sequenceNumber>this.Or&&(this.Or=e.sequenceNumber)}addTargetData(e,n){return this.qn(n),this.targetCount+=1,S.resolve()}updateTargetData(e,n){return this.qn(n),S.resolve()}removeTargetData(e,n){return this.Mr.delete(n.target),this.Nr.Vr(n.targetId),this.targetCount-=1,S.resolve()}removeTargets(e,n,r){let i=0;const o=[];return this.Mr.forEach((s,a)=>{a.sequenceNumber<=n&&null===r.get(a.targetId)&&(this.Mr.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),S.waitFor(o).next(()=>i)}getTargetCount(e){return S.resolve(this.targetCount)}getTargetData(e,n){const r=this.Mr.get(n)||null;return S.resolve(r)}addMatchingKeys(e,n,r){return this.Nr.dr(n,r),S.resolve()}removeMatchingKeys(e,n,r){this.Nr.Rr(n,r);const i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),S.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.Nr.Vr(n),S.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Nr.gr(n);return S.resolve(r)}containsKey(e,n){return S.resolve(this.Nr.containsKey(n))}}class PD{constructor(e,n){this.Br={},this.overlays={},this.kr=new qr(0),this.qr=!1,this.qr=!0,this.referenceDelegate=e(this),this.Qr=new Ade(this),this.indexManager=new fde,this.remoteDocumentCache=new Dde(r=>this.referenceDelegate.Kr(r)),this.serializer=new y5(n),this.$r=new Ide(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Tde,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Br[e.toKey()];return r||(r=new Cde(n,this.referenceDelegate),this.Br[e.toKey()]=r),r}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(e,n,r){F("MemoryPersistence","Starting transaction:",e);const i=new Rde(this.kr.next());return this.referenceDelegate.Ur(),r(i).next(o=>this.referenceDelegate.Wr(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Gr(e,n){return S.or(Object.values(this.Br).map(r=>()=>r.containsKey(e,n)))}}class Rde extends Jce{constructor(e){super(),this.currentSequenceNumber=e}}class Q0{constructor(e){this.persistence=e,this.zr=new RD,this.jr=null}static Hr(e){return new Q0(e)}get Jr(){if(this.jr)return this.jr;throw te()}addReference(e,n,r){return this.zr.addReference(r,n),this.Jr.delete(r.toString()),S.resolve()}removeReference(e,n,r){return this.zr.removeReference(r,n),this.Jr.add(r.toString()),S.resolve()}markPotentiallyOrphaned(e,n){return this.Jr.add(n.toString()),S.resolve()}removeTarget(e,n){this.zr.Vr(n.targetId).forEach(i=>this.Jr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.Jr.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}Ur(){this.jr=new Set}Wr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return S.forEach(this.Jr,r=>{const i=Y.fromPath(r);return this.Yr(e,i).next(o=>{o||n.removeEntry(i,se.min())})}).next(()=>(this.jr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Yr(e,n).next(r=>{r?this.Jr.delete(n.toString()):this.Jr.add(n.toString())})}Kr(e){return 0}Yr(e,n){return S.or([()=>S.resolve(this.zr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gr(e,n)])}}class OD{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.qi=r,this.Qi=i}static Ki(e,n){let r=Ee(),i=Ee();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new OD(e,n.fromCache,r,i)}}class xde{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class W5{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=function Hre(){return!function Bre(){var t;const e=null===(t=C_())||void 0===t?void 0:t.forceEnvironment;if("node"===e)return!0;if("browser"===e)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}()?8:gi.v(Ft())>0?6:4}initialize(e,n){this.zi=e,this.indexManager=n,this.$i=!0}getDocumentsMatchingQuery(e,n,r,i){const o={result:null};return this.ji(e,n).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.Hi(e,n,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;const s=new xde;return this.Ji(e,n,s).next(a=>{if(o.result=a,this.Ui)return this.Yi(e,n,s,a.size)})}).next(()=>o.result)}Yi(e,n,r,i){return r.documentReadCount<this.Wi?(ol()<=ke.DEBUG&&F("QueryEngine","SDK will not create cache indexes for query:",pl(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),S.resolve()):(ol()<=ke.DEBUG&&F("QueryEngine","Query:",pl(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Gi*i?(ol()<=ke.DEBUG&&F("QueryEngine","The SDK decides to create cache indexes for query:",pl(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,pr(n))):S.resolve())}ji(e,n){if(RU(n))return S.resolve(null);let r=pr(n);return this.indexManager.getIndexType(e,r).next(i=>0===i?null:(null!==n.limit&&1===i&&(n=F0(n,null,"F"),r=pr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const s=Ee(...o);return this.zi.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{const c=this.Zi(n,a);return this.Xi(n,c,s,u.readTime)?this.ji(e,F0(n,null,"F")):this.es(e,c,n,u)}))})))}Hi(e,n,r,i){return RU(n)||i.isEqual(se.min())?S.resolve(null):this.zi.getDocuments(e,r).next(o=>{const s=this.Zi(n,o);return this.Xi(n,s,r,i)?S.resolve(null):(ol()<=ke.DEBUG&&F("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),pl(n)),this.es(e,s,n,function QB(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=se.fromTimestamp(1e9===r?new xt(n+1,0):new xt(n,r));return new zr(i,Y.empty(),e)}(i,-1)).next(a=>a))})}Zi(e,n){let r=new at(MU(e));return n.forEach((i,o)=>{Wf(e,o)&&(r=r.add(o))}),r}Xi(e,n,r,i){if(null===e.limit)return!1;if(r.size!==n.size)return!0;const o="F"===e.limitType?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Ji(e,n,r){return ol()<=ke.DEBUG&&F("QueryEngine","Using full collection scan to execute query:",pl(n)),this.zi.getDocumentsMatchingQuery(e,n,zr.min(),r)}es(e,n,r,i){return this.zi.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(s=>{o=o.insert(s.key,s)}),o))}}class Nde{constructor(e,n,r,i){this.persistence=e,this.ts=n,this.serializer=i,this.ns=new gt(fe),this.rs=new Wo(o=>Qa(o),zf),this.ss=new Map,this.os=e.getRemoteDocumentCache(),this.Qr=e.getTargetCache(),this.$r=e.getBundleCache(),this._s(r)}_s(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new z5(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ns))}}function Q5(t,e){return kD.apply(this,arguments)}function kD(){return kD=w(function*(t,e){const n=Q(t);return yield n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n._s(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{const s=[],a=[];let u=Ee();for(const c of i){s.push(c.batchId);for(const l of c.mutations)u=u.add(l.key)}for(const c of o){a.push(c.batchId);for(const l of c.mutations)u=u.add(l.key)}return n.localDocuments.getDocuments(r,u).next(c=>({us:c,removedBatchIds:s,addedBatchIds:a}))})})}),kD.apply(this,arguments)}function J5(t){const e=Q(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Qr.getLastRemoteSnapshotVersion(n))}function kde(t,e){const n=Q(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Dl(t,e,n){return FD.apply(this,arguments)}function FD(){return FD=w(function*(t,e,n){const r=Q(t),i=r.ns.get(e),o=n?"readwrite":"readwrite-primary";try{n||(yield r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i)))}catch(s){if(!Vs(s))throw s;F("LocalStore",`Failed to update sequence numbers for target ${e}: ${s}`)}r.ns=r.ns.remove(e),r.rs.delete(i.target)}),FD.apply(this,arguments)}function Z0(t,e,n){const r=Q(t);let i=se.min(),o=Ee();return r.persistence.runTransaction("Execute query","readwrite",s=>function(u,c,l){const d=Q(u),h=d.rs.get(l);return void 0!==h?S.resolve(d.ns.get(h)):d.Qr.getTargetData(c,l)}(r,s,pr(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Qr.getMatchingKeysForTargetId(s,a.targetId).next(u=>{o=u})}).next(()=>r.ts.getDocumentsMatchingQuery(s,e,n?i:se.min(),n?o:Ee())).next(a=>(function ej(t,e,n){let r=t.ss.get(e)||se.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.ss.set(e,r)}(r,function NU(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}(e),a),{documents:a,hs:o})))}class jD{constructor(){this.activeTargetIds=function lD(){return Fle}()}As(e){this.activeTargetIds=this.activeTargetIds.add(e)}Rs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ds(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class rj{constructor(){this.no=new jD,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.no.As(e),this.ro[e]||"not-current"}updateQueryState(e,n,r){this.ro[e]=n}removeLocalQueryTarget(e){this.no.Rs(e)}isLocalQueryTarget(e){return this.no.activeTargetIds.has(e)}clearQueryState(e){delete this.ro[e]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(e){return this.no.activeTargetIds.has(e)}start(){return this.no=new jD,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Lde{io(e){}shutdown(){}}class ij{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(e){this.uo.push(e)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){F("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.uo)e(0)}ao(){F("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.uo)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let ty=null;function HD(){return null===ty?ty=268435456+Math.round(2147483648*Math.random()):ty++,"0x"+ty.toString(16)}const Bde={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Ude{constructor(e){this.lo=e.lo,this.ho=e.ho}Po(e){this.Io=e}To(e){this.Eo=e}onMessage(e){this.Ao=e}close(){this.ho()}send(e){this.lo(e)}Ro(){this.Io()}Vo(e){this.Eo(e)}mo(e){this.Ao(e)}}const er="WebChannelConnection";class jde extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.fo=r+"://"+n.host,this.po=`projects/${i}/databases/${o}`,this.yo="(default)"===this.databaseId.database?`project_id=${i}`:`project_id=${i}&database_id=${o}`}get wo(){return!1}So(n,r,i,o,s){const a=HD(),u=this.bo(n,r.toUriEncodedString());F("RestConnection",`Sending RPC '${n}' ${a}:`,u,i);const c={"google-cloud-resource-prefix":this.po,"x-goog-request-params":this.yo};return this.Do(c,o,s),this.Co(n,u,c,i).then(l=>(F("RestConnection",`Received RPC '${n}' ${a}: `,l),l),l=>{throw Gr("RestConnection",`RPC '${n}' ${a} failed with error: `,l,"url: ",u,"request:",i),l})}vo(n,r,i,o,s,a){return this.So(n,r,i,o,s)}Do(n,r,i){n["X-Goog-Api-Client"]="gl-js/ fire/"+il,n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((o,s)=>n[s]=o),i&&i.headers.forEach((o,s)=>n[s]=o)}bo(n,r){return`${this.fo}/v1/${r}:${Bde[n]}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Co(e,n,r,i){const o=HD();return new Promise((s,a)=>{const u=new Lce;u.setWithCredentials(!0),u.listenOnce(Fce.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case QC.NO_ERROR:const l=u.getResponseJson();F(er,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(l)),s(l);break;case QC.TIMEOUT:F(er,`RPC '${e}' ${o} timed out`),a(new V(x.DEADLINE_EXCEEDED,"Request time out"));break;case QC.HTTP_ERROR:const d=u.getStatus();if(F(er,`RPC '${e}' ${o} failed with status:`,d,"response text:",u.getResponseText()),d>0){let h=u.getResponseJson();Array.isArray(h)&&(h=h[0]);const f=h?.error;if(f&&f.status&&f.message){const m=function(v){const T=v.toLowerCase().replace(/_/g,"-");return Object.values(x).indexOf(T)>=0?T:x.UNKNOWN}(f.status);a(new V(m,f.message))}else a(new V(x.UNKNOWN,"Server responded with status "+u.getStatus()))}else a(new V(x.UNAVAILABLE,"Connection failed."));break;default:te()}}finally{F(er,`RPC '${e}' ${o} completed.`)}});const c=JSON.stringify(i);F(er,`RPC '${e}' ${o} sending request:`,i),u.send(n,"POST",c,r,15)})}Fo(e,n,r){const i=HD(),o=[this.fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=Oce(),a=kce(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;void 0!==c&&(u.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(u.useFetchStreams=!0),this.Do(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;const l=o.join("");F(er,`Creating RPC '${e}' stream ${i}: ${l}`,u);const d=s.createWebChannel(l,u);let h=!1,f=!1;const m=new Ude({lo:v=>{f?F(er,`Not sending because RPC '${e}' stream ${i} is closed:`,v):(h||(F(er,`Opening RPC '${e}' stream ${i} transport.`),d.open(),h=!0),F(er,`RPC '${e}' stream ${i} sending:`,v),d.send(v))},ho:()=>d.close()}),y=(v,T,b)=>{v.listen(T,C=>{try{b(C)}catch(R){setTimeout(()=>{throw R},0)}})};return y(d,C0.EventType.OPEN,()=>{f||F(er,`RPC '${e}' stream ${i} transport opened.`)}),y(d,C0.EventType.CLOSE,()=>{f||(f=!0,F(er,`RPC '${e}' stream ${i} transport closed`),m.Vo())}),y(d,C0.EventType.ERROR,v=>{f||(f=!0,Gr(er,`RPC '${e}' stream ${i} transport errored:`,v),m.Vo(new V(x.UNAVAILABLE,"The operation could not be completed")))}),y(d,C0.EventType.MESSAGE,v=>{var T;if(!f){const b=v.data[0];oe(!!b);const R=b.error||(null===(T=b[0])||void 0===T?void 0:T.error);if(R){F(er,`RPC '${e}' stream ${i} received error:`,R);const M=R.status;let $=function(ze){const _t=on[ze];if(void 0!==_t)return YU(_t)}(M),ie=R.message;void 0===$&&($=x.INTERNAL,ie="Unknown error status: "+M+" with message "+R.message),f=!0,m.Vo(new V($,ie)),d.close()}else F(er,`RPC '${e}' stream ${i} received:`,b),m.mo(b)}}),y(a,Vce.STAT_EVENT,v=>{v.stat===HB.PROXY?F(er,`RPC '${e}' stream ${i} detected buffering proxy`):v.stat===HB.NOPROXY&&F(er,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{m.Ro()},0),m}}function ny(){return typeof document<"u"?document:null}function lp(t){return new Jle(t,!0)}class GD{constructor(e,n,r=1e3,i=1.5,o=6e4){this.oi=e,this.timerId=n,this.Mo=r,this.xo=i,this.Oo=o,this.No=0,this.Lo=null,this.Bo=Date.now(),this.reset()}reset(){this.No=0}ko(){this.No=this.Oo}qo(e){this.cancel();const n=Math.floor(this.No+this.Qo()),r=Math.max(0,Date.now()-this.Bo),i=Math.max(0,n-r);i>0&&F("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.No} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Lo=this.oi.enqueueAfterDelay(this.timerId,i,()=>(this.Bo=Date.now(),e())),this.No*=this.xo,this.No<this.Mo&&(this.No=this.Mo),this.No>this.Oo&&(this.No=this.Oo)}Ko(){null!==this.Lo&&(this.Lo.skipDelay(),this.Lo=null)}cancel(){null!==this.Lo&&(this.Lo.cancel(),this.Lo=null)}Qo(){return(Math.random()-.5)*this.No}}class sj{constructor(e,n,r,i,o,s,a,u){this.oi=e,this.$o=r,this.Uo=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.Wo=0,this.Go=null,this.zo=null,this.stream=null,this.jo=new GD(e,n)}Ho(){return 1===this.state||5===this.state||this.Jo()}Jo(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Yo()}stop(){var e=this;return w(function*(){e.Ho()&&(yield e.close(0))})()}Zo(){this.state=0,this.jo.reset()}Xo(){this.Jo()&&null===this.Go&&(this.Go=this.oi.enqueueAfterDelay(this.$o,6e4,()=>this.e_()))}t_(e){this.n_(),this.stream.send(e)}e_(){var e=this;return w(function*(){if(e.Jo())return e.close(0)})()}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}r_(){this.zo&&(this.zo.cancel(),this.zo=null)}close(e,n){var r=this;return w(function*(){r.n_(),r.r_(),r.jo.cancel(),r.Wo++,4!==e?r.jo.reset():n&&n.code===x.RESOURCE_EXHAUSTED?(Qt(n.toString()),Qt("Using maximum backoff delay to prevent overloading the backend."),r.jo.ko()):n&&n.code===x.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.i_(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.To(n)})()}i_(){}auth(){this.state=1;const e=this.s_(this.Wo),n=this.Wo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Wo===n&&this.o_(r,i)},r=>{e(()=>{const i=new V(x.UNKNOWN,"Fetching auth token failed: "+r.message);return this.__(i)})})}o_(e,n){const r=this.s_(this.Wo);this.stream=this.a_(e,n),this.stream.Po(()=>{r(()=>(this.state=2,this.zo=this.oi.enqueueAfterDelay(this.Uo,1e4,()=>(this.Jo()&&(this.state=3),Promise.resolve())),this.listener.Po()))}),this.stream.To(i=>{r(()=>this.__(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Yo(){var e=this;this.state=5,this.jo.qo(w(function*(){e.state=0,e.start()}))}__(e){return F("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}s_(e){return n=>{this.oi.enqueueAndForget(()=>this.Wo===e?n():(F("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class $de extends sj{constructor(e,n,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}a_(e,n){return this.connection.Fo("Listen",e,n)}onMessage(e){this.jo.reset();const n=function Xle(t,e){let n;if("targetChange"in e){const r="NO_CHANGE"===(c=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===c?1:"REMOVE"===c?2:"CURRENT"===c?3:"RESET"===c?4:te(),i=e.targetChange.targetIds||[],o=function(c,l){return c.useProto3Json?(oe(void 0===l||"string"==typeof l),pn.fromBase64String(l||"")):(oe(void 0===l||l instanceof Buffer||l instanceof Uint8Array),pn.fromUint8Array(l||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(c){const l=void 0===c.code?x.UNKNOWN:YU(c.code);return new V(l,c.message||"")}(s);n=new n5(r,i,o,a||null)}else if("documentChange"in e){const r=e.documentChange,i=co(t,r.document.name),o=Jt(r.document.updateTime),s=r.document.createTime?Jt(r.document.createTime):se.min(),a=new $n({mapValue:{fields:r.document.fields}}),u=Et.newFoundDocument(i,o,s,a);n=new j0(r.targetIds||[],r.removedTargetIds||[],u.key,u)}else if("documentDelete"in e){const r=e.documentDelete,i=co(t,r.document),o=r.readTime?Jt(r.readTime):se.min(),s=Et.newNoDocument(i,o);n=new j0([],r.removedTargetIds||[],s.key,s)}else if("documentRemove"in e){const r=e.documentRemove,i=co(t,r.document);n=new j0([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return te();{const r=e.filter,{count:i=0,unchangedNames:o}=r,s=new Gle(i,o);n=new t5(r.targetId,s)}}var c;return n}(this.serializer,e),r=function(o){if(!("targetChange"in o))return se.min();const s=o.targetChange;return s.targetIds&&s.targetIds.length?se.min():s.readTime?Jt(s.readTime):se.min()}(e);return this.listener.u_(n,r)}c_(e){const n={};n.database=vD(this.serializer),n.addTarget=function(o,s){let a;const u=s.target;if(a=O0(u)?{documents:f5(o,u)}:{query:ED(o,u).ut},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=s5(o,s.resumeToken);const c=mD(o,s.expectedCount);null!==c&&(a.expectedCount=c)}else if(s.snapshotVersion.compareTo(se.min())>0){a.readTime=vl(o,s.snapshotVersion.toTimestamp());const c=mD(o,s.expectedCount);null!==c&&(a.expectedCount=c)}return a}(this.serializer,e);const r=function tde(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return te()}}(e.purpose);return null==n?null:{"goog-listen-tags":n}}(0,e);r&&(n.labels=r),this.t_(n)}l_(e){const n={};n.database=vD(this.serializer),n.removeTarget=e,this.t_(n)}}class Hde extends sj{constructor(e,n,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o,this.h_=!1}get P_(){return this.h_}start(){this.h_=!1,this.lastStreamToken=void 0,super.start()}i_(){this.h_&&this.I_([])}a_(e,n){return this.connection.Fo("Write",e,n)}onMessage(e){if(oe(!!e.streamToken),this.lastStreamToken=e.streamToken,this.h_){this.jo.reset();const n=function ede(t,e){return t&&t.length>0?(oe(void 0!==e),t.map(n=>function(i,o){let s=Jt(i.updateTime?i.updateTime:o);return s.isEqual(se.min())&&(s=Jt(o)),new Ule(s,i.transformResults||[])}(n,e))):[]}(e.writeResults,e.commitTime),r=Jt(e.commitTime);return this.listener.T_(r,n)}return oe(!e.writeResults||0===e.writeResults.length),this.h_=!0,this.listener.E_()}d_(){const e={};e.database=vD(this.serializer),this.t_(e)}I_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>function np(t,e){let n;if(e instanceof _l)n={update:d5(t,e.key,e.value)};else if(e instanceof yl)n={delete:tp(t,e.key)};else if(e instanceof Ko)n={update:d5(t,e.key,e.data),updateMask:ode(e.fieldMask)};else{if(!(e instanceof dD))return te();n={verify:tp(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(o,s){const a=s.transform;if(a instanceof gl)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Ja)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Ya)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof ml)return{fieldPath:s.field.canonicalString(),increment:a.Ie};throw te()}(0,r))),e.precondition.isNone||(n.currentDocument=void 0!==(o=e.precondition).updateTime?{updateTime:Yle(t,o.updateTime)}:void 0!==o.exists?{exists:o.exists}:te()),n;var o}(this.serializer,r))};this.t_(n)}}class Gde extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.A_=!1}R_(){if(this.A_)throw new V(x.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,n,r,i){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.So(e,yD(n,r),i,o,s)).catch(o=>{throw"FirebaseError"===o.name?(o.code===x.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new V(x.UNKNOWN,o.toString())})}vo(e,n,r,i,o){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.vo(e,yD(n,r),i,s,a,o)).catch(s=>{throw"FirebaseError"===s.name?(s.code===x.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new V(x.UNKNOWN,s.toString())})}terminate(){this.A_=!0,this.connection.terminate()}}class qde{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.m_=0,this.f_=null,this.g_=!0}p_(){0===this.m_&&(this.y_("Unknown"),this.f_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.f_=null,this.w_("Backend didn't respond within 10 seconds."),this.y_("Offline"),Promise.resolve())))}S_(e){"Online"===this.state?this.y_("Unknown"):(this.m_++,this.m_>=1&&(this.b_(),this.w_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.y_("Offline")))}set(e){this.b_(),this.m_=0,"Online"===e&&(this.g_=!1),this.y_(e)}y_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}w_(e){const n=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.g_?(Qt(n),this.g_=!1):F("OnlineStateTracker",n)}b_(){null!==this.f_&&(this.f_.cancel(),this.f_=null)}}class Wde{constructor(e,n,r,i,o){var s=this;this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.D_=[],this.C_=new Map,this.v_=new Set,this.F_=[],this.M_=o,this.M_.io(a=>{r.enqueueAndForget(w(function*(){var u;Ws(s)&&(F("RemoteStore","Restarting streams for network reachability change."),yield(u=w(function*(l){const d=Q(l);d.v_.add(4),yield Sl(d),d.x_.set("Unknown"),d.v_.delete(4),yield dp(d)}),function c(l){return u.apply(this,arguments)})(s))}))}),this.x_=new qde(r,i)}}function dp(t){return qD.apply(this,arguments)}function qD(){return qD=w(function*(t){if(Ws(t))for(const e of t.F_)yield e(!0)}),qD.apply(this,arguments)}function Sl(t){return WD.apply(this,arguments)}function WD(){return WD=w(function*(t){for(const e of t.F_)yield e(!1)}),WD.apply(this,arguments)}function ry(t,e){const n=Q(t);n.C_.has(e.targetId)||(n.C_.set(e.targetId,e),JD(n)?QD(n):Pl(n).Jo()&&KD(n,e))}function Al(t,e){const n=Q(t),r=Pl(n);n.C_.delete(e),r.Jo()&&aj(n,e),0===n.C_.size&&(r.Jo()?r.Xo():Ws(n)&&n.x_.set("Unknown"))}function KD(t,e){if(t.O_.Oe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(se.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Pl(t).c_(e)}function aj(t,e){t.O_.Oe(e),Pl(t).l_(e)}function QD(t){t.O_=new qle({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),_t:e=>t.C_.get(e)||null,nt:()=>t.datastore.serializer.databaseId}),Pl(t).start(),t.x_.p_()}function JD(t){return Ws(t)&&!Pl(t).Ho()&&t.C_.size>0}function Ws(t){return 0===Q(t).v_.size}function uj(t){t.O_=void 0}function Kde(t){return YD.apply(this,arguments)}function YD(){return YD=w(function*(t){t.C_.forEach((e,n)=>{KD(t,e)})}),YD.apply(this,arguments)}function Qde(t,e){return ZD.apply(this,arguments)}function ZD(){return ZD=w(function*(t,e){uj(t),JD(t)?(t.x_.S_(e),QD(t)):t.x_.set("Unknown")}),ZD.apply(this,arguments)}function Jde(t,e,n){return XD.apply(this,arguments)}function XD(){return XD=w(function*(t,e,n){if(t.x_.set("Online"),e instanceof n5&&2===e.state&&e.cause)try{yield(r=w(function*(o,s){const a=s.cause;for(const u of s.targetIds)o.C_.has(u)&&(yield o.remoteSyncer.rejectListen(u,a),o.C_.delete(u),o.O_.removeTarget(u))}),function i(o,s){return r.apply(this,arguments)})(t,e)}catch(r){F("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield iy(t,r)}else if(e instanceof j0?t.O_.$e(e):e instanceof t5?t.O_.Je(e):t.O_.Ge(e),!n.isEqual(se.min()))try{const r=yield J5(t.localStore);n.compareTo(r)>=0&&(yield function(o,s){const a=o.O_.it(s);return a.targetChanges.forEach((u,c)=>{if(u.resumeToken.approximateByteSize()>0){const l=o.C_.get(c);l&&o.C_.set(c,l.withResumeToken(u.resumeToken,s))}}),a.targetMismatches.forEach((u,c)=>{const l=o.C_.get(u);if(!l)return;o.C_.set(u,l.withResumeToken(pn.EMPTY_BYTE_STRING,l.snapshotVersion)),aj(o,u);const d=new Qo(l.target,u,c,l.sequenceNumber);KD(o,d)}),o.remoteSyncer.applyRemoteEvent(a)}(t,n))}catch(r){F("RemoteStore","Failed to raise snapshot:",r),yield iy(t,r)}var r}),XD.apply(this,arguments)}function iy(t,e,n){return e4.apply(this,arguments)}function e4(){return e4=w(function*(t,e,n){if(!Vs(e))throw e;t.v_.add(1),yield Sl(t),t.x_.set("Offline"),n||(n=()=>J5(t.localStore)),t.asyncQueue.enqueueRetryable(w(function*(){F("RemoteStore","Retrying IndexedDB access"),yield n(),t.v_.delete(1),yield dp(t)}))}),e4.apply(this,arguments)}function cj(t,e){return e().catch(n=>iy(t,n,e))}function Rl(t){return t4.apply(this,arguments)}function t4(){return t4=w(function*(t){const e=Q(t),n=Ks(e);let r=e.D_.length>0?e.D_[e.D_.length-1].batchId:-1;for(;Yde(e);)try{const i=yield kde(e.localStore,r);if(null===i){0===e.D_.length&&n.Xo();break}r=i.batchId,Zde(e,i)}catch(i){yield iy(e,i)}lj(e)&&dj(e)}),t4.apply(this,arguments)}function Yde(t){return Ws(t)&&t.D_.length<10}function Zde(t,e){t.D_.push(e);const n=Ks(t);n.Jo()&&n.P_&&n.I_(e.mutations)}function lj(t){return Ws(t)&&!Ks(t).Ho()&&t.D_.length>0}function dj(t){Ks(t).start()}function Xde(t){return n4.apply(this,arguments)}function n4(){return n4=w(function*(t){Ks(t).d_()}),n4.apply(this,arguments)}function ehe(t){return r4.apply(this,arguments)}function r4(){return r4=w(function*(t){const e=Ks(t);for(const n of t.D_)e.I_(n.mutations)}),r4.apply(this,arguments)}function the(t,e,n){return i4.apply(this,arguments)}function i4(){return i4=w(function*(t,e,n){const r=t.D_.shift(),i=fD.from(r,e,n);yield cj(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),yield Rl(t)}),i4.apply(this,arguments)}function nhe(t,e){return o4.apply(this,arguments)}function o4(){return o4=w(function*(t,e){var n;e&&Ks(t).P_&&(yield(n=w(function*(i,o){if(function JU(t){switch(t){default:return te();case x.CANCELLED:case x.UNKNOWN:case x.DEADLINE_EXCEEDED:case x.RESOURCE_EXHAUSTED:case x.INTERNAL:case x.UNAVAILABLE:case x.UNAUTHENTICATED:return!1;case x.INVALID_ARGUMENT:case x.NOT_FOUND:case x.ALREADY_EXISTS:case x.PERMISSION_DENIED:case x.FAILED_PRECONDITION:case x.ABORTED:case x.OUT_OF_RANGE:case x.UNIMPLEMENTED:case x.DATA_LOSS:return!0}}(a=o.code)&&a!==x.ABORTED){const s=i.D_.shift();Ks(i).Zo(),yield cj(i,()=>i.remoteSyncer.rejectFailedWrite(s.batchId,o)),yield Rl(i)}var a}),function r(i,o){return n.apply(this,arguments)})(t,e)),lj(t)&&dj(t)}),o4.apply(this,arguments)}function hj(t,e){return s4.apply(this,arguments)}function s4(){return s4=w(function*(t,e){const n=Q(t);n.asyncQueue.verifyOperationInProgress(),F("RemoteStore","RemoteStore received new credentials");const r=Ws(n);n.v_.add(3),yield Sl(n),r&&n.x_.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.v_.delete(3),yield dp(n)}),s4.apply(this,arguments)}function u4(){return u4=w(function*(t,e){const n=Q(t);e?(n.v_.delete(2),yield dp(n)):e||(n.v_.add(2),yield Sl(n),n.x_.set("Unknown"))}),u4.apply(this,arguments)}function Pl(t){return t.N_||(t.N_=function(n,r,i){const o=Q(n);return o.R_(),new $de(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Po:Kde.bind(null,t),To:Qde.bind(null,t),u_:Jde.bind(null,t)}),t.F_.push(function(){var e=w(function*(n){n?(t.N_.Zo(),JD(t)?QD(t):t.x_.set("Unknown")):(yield t.N_.stop(),uj(t))});return function(n){return e.apply(this,arguments)}}())),t.N_}function Ks(t){return t.L_||(t.L_=function(n,r,i){const o=Q(n);return o.R_(),new Hde(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Po:Xde.bind(null,t),To:nhe.bind(null,t),E_:ehe.bind(null,t),T_:the.bind(null,t)}),t.F_.push(function(){var e=w(function*(n){n?(t.L_.Zo(),yield Rl(t)):(yield t.L_.stop(),t.D_.length>0&&(F("RemoteStore",`Stopping write stream with ${t.D_.length} pending writes`),t.D_=[]))});return function(n){return e.apply(this,arguments)}}())),t.L_}class c4{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new fn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){const s=Date.now()+r,a=new c4(e,n,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new V(x.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function xl(t,e){if(Qt("AsyncQueue",`${e}: ${t}`),Vs(t))return new V(x.UNAVAILABLE,`${e}: ${t}`);throw t}class Nl{constructor(e){this.comparator=e?(n,r)=>e(n,r)||Y.comparator(n.key,r.key):(n,r)=>Y.comparator(n.key,r.key),this.keyedMap=Kf(),this.sortedSet=new gt(this.comparator)}static emptySet(e){return new Nl(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Nl)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,n){const r=new Nl;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}class fj{constructor(){this.B_=new gt(Y.comparator)}track(e){const n=e.doc.key,r=this.B_.get(n);r?0!==e.type&&3===r.type?this.B_=this.B_.insert(n,e):3===e.type&&1!==r.type?this.B_=this.B_.insert(n,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.B_=this.B_.insert(n,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.B_=this.B_.insert(n,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.B_=this.B_.remove(n):1===e.type&&2===r.type?this.B_=this.B_.insert(n,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.B_=this.B_.insert(n,{type:2,doc:e.doc}):te():this.B_=this.B_.insert(n,e)}k_(){const e=[];return this.B_.inorderTraversal((n,r)=>{e.push(r)}),e}}class Ml{constructor(e,n,r,i,o,s,a,u,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,i,o){const s=[];return n.forEach(a=>{s.push({type:0,doc:a})}),new Ml(e,n,Nl.emptySet(n),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&qf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}class rhe{constructor(){this.q_=void 0,this.Q_=[]}K_(){return this.Q_.some(e=>e.U_())}}class ihe{constructor(){this.queries=new Wo(e=>xU(e),qf),this.onlineState="Unknown",this.W_=new Set}}function l4(t,e){return d4.apply(this,arguments)}function d4(){return d4=w(function*(t,e){const n=Q(t);let r=3;const i=e.query;let o=n.queries.get(i);o?!o.K_()&&e.U_()&&(r=2):(o=new rhe,r=e.U_()?0:1);try{switch(r){case 0:o.q_=yield n.onListen(i,!0);break;case 1:o.q_=yield n.onListen(i,!1);break;case 2:yield n.onFirstRemoteStoreListen(i)}}catch(s){const a=xl(s,`Initialization of query '${pl(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,o),o.Q_.push(e),e.G_(n.onlineState),o.q_&&e.z_(o.q_)&&p4(n)}),d4.apply(this,arguments)}function h4(t,e){return f4.apply(this,arguments)}function f4(){return f4=w(function*(t,e){const n=Q(t),r=e.query;let i=3;const o=n.queries.get(r);if(o){const s=o.Q_.indexOf(e);s>=0&&(o.Q_.splice(s,1),0===o.Q_.length?i=e.U_()?0:1:!o.K_()&&e.U_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}),f4.apply(this,arguments)}function ohe(t,e){const n=Q(t);let r=!1;for(const i of e){const s=n.queries.get(i.query);if(s){for(const a of s.Q_)a.z_(i)&&(r=!0);s.q_=i}}r&&p4(n)}function she(t,e,n){const r=Q(t),i=r.queries.get(e);if(i)for(const o of i.Q_)o.onError(n);r.queries.delete(e)}function p4(t){t.W_.forEach(e=>{e.next()})}var g4,pj;(pj=g4||(g4={})).j_="default",pj.Cache="cache";class m4{constructor(e,n,r){this.query=e,this.H_=n,this.J_=!1,this.Y_=null,this.onlineState="Unknown",this.options=r||{}}z_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new Ml(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.J_?this.Z_(e)&&(this.H_.next(e),n=!0):this.X_(e,this.onlineState)&&(this.ea(e),n=!0),this.Y_=e,n}onError(e){this.H_.error(e)}G_(e){this.onlineState=e;let n=!1;return this.Y_&&!this.J_&&this.X_(this.Y_,e)&&(this.ea(this.Y_),n=!0),n}X_(e,n){return!e.fromCache||!this.U_()||(!this.options.ta||!("Offline"!==n))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===n)}Z_(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Y_&&this.Y_.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}ea(e){e=Ml.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.J_=!0,this.H_.next(e)}U_(){return this.options.source!==g4.Cache}}class _j{constructor(e){this.key=e}}class yj{constructor(e){this.key=e}}class vj{constructor(e,n){this.query=e,this.ua=n,this.ca=null,this.hasCachedResults=!1,this.current=!1,this.la=Ee(),this.mutatedKeys=Ee(),this.ha=MU(e),this.Pa=new Nl(this.ha)}get Ia(){return this.ua}Ta(e,n){const r=n?n.Ea:new fj,i=n?n.Pa:this.Pa;let o=n?n.mutatedKeys:this.mutatedKeys,s=i,a=!1;const u="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,c="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((l,d)=>{const h=i.get(l),f=Wf(this.query,d)?d:null,m=!!h&&this.mutatedKeys.has(h.key),y=!!f&&(f.hasLocalMutations||this.mutatedKeys.has(f.key)&&f.hasCommittedMutations);let v=!1;h&&f?h.data.isEqual(f.data)?m!==y&&(r.track({type:3,doc:f}),v=!0):this.da(h,f)||(r.track({type:2,doc:f}),v=!0,(u&&this.ha(f,u)>0||c&&this.ha(f,c)<0)&&(a=!0)):!h&&f?(r.track({type:0,doc:f}),v=!0):h&&!f&&(r.track({type:1,doc:h}),v=!0,(u||c)&&(a=!0)),v&&(f?(s=s.add(f),o=y?o.add(l):o.delete(l)):(s=s.delete(l),o=o.delete(l)))}),null!==this.query.limit)for(;s.size>this.query.limit;){const l="F"===this.query.limitType?s.last():s.first();s=s.delete(l.key),o=o.delete(l.key),r.track({type:1,doc:l})}return{Pa:s,Ea:r,Xi:a,mutatedKeys:o}}da(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const o=this.Pa;this.Pa=e.Pa,this.mutatedKeys=e.mutatedKeys;const s=e.Ea.k_();s.sort((l,d)=>function(f,m){const y=v=>{switch(v){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return te()}};return y(f)-y(m)}(l.type,d.type)||this.ha(l.doc,d.doc)),this.Aa(r),i=null!=i&&i;const a=n&&!i?this.Ra():[],u=0===this.la.size&&this.current&&!i?1:0,c=u!==this.ca;return this.ca=u,0!==s.length||c?{snapshot:new Ml(this.query,e.Pa,o,s,e.mutatedKeys,0===u,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),Va:a}:{Va:a}}G_(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Pa:this.Pa,Ea:new fj,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{Va:[]}}ma(e){return!this.ua.has(e)&&!!this.Pa.has(e)&&!this.Pa.get(e).hasLocalMutations}Aa(e){e&&(e.addedDocuments.forEach(n=>this.ua=this.ua.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.ua=this.ua.delete(n)),this.current=e.current)}Ra(){if(!this.current)return[];const e=this.la;this.la=Ee(),this.Pa.forEach(r=>{this.ma(r.key)&&(this.la=this.la.add(r.key))});const n=[];return e.forEach(r=>{this.la.has(r)||n.push(new yj(r))}),this.la.forEach(r=>{e.has(r)||n.push(new _j(r))}),n}fa(e){this.ua=e.hs,this.la=Ee();const n=this.Ta(e.documents);return this.applyChanges(n,!0)}ga(){return Ml.fromInitialDocuments(this.query,this.Pa,this.mutatedKeys,0===this.ca,this.hasCachedResults)}}class che{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class lhe{constructor(e){this.key=e,this.pa=!1}}class dhe{constructor(e,n,r,i,o,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.ya={},this.wa=new Wo(a=>xU(a),qf),this.Sa=new Map,this.ba=new Set,this.Da=new gt(Y.comparator),this.Ca=new Map,this.va=new RD,this.Fa={},this.Ma=new Map,this.xa=ru.Ln(),this.onlineState="Unknown",this.Oa=void 0}get isPrimaryClient(){return!0===this.Oa}}function hhe(t,e){return _4.apply(this,arguments)}function _4(){return _4=w(function*(t,e,n=!0){const r=oy(t);let i;const o=r.wa.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.ga()):i=yield bj(r,e,n,!0),i}),_4.apply(this,arguments)}function fhe(t,e){return y4.apply(this,arguments)}function y4(){return y4=w(function*(t,e){const n=oy(t);yield bj(n,e,!0,!1)}),y4.apply(this,arguments)}function bj(t,e,n,r){return v4.apply(this,arguments)}function v4(){return v4=w(function*(t,e,n,r){const i=yield function Cl(t,e){const n=Q(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Qr.getTargetData(r,e).next(o=>o?(i=o,S.resolve(i)):n.Qr.allocateTargetId(r).next(s=>(i=new Qo(e,s,"TargetPurposeListen",r.currentSequenceNumber),n.Qr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.ns.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.ns=n.ns.insert(r.targetId,r),n.rs.set(e,r.targetId)),r})}(t.localStore,pr(e)),o=i.targetId,s=n?t.sharedClientState.addLocalQueryTarget(o):"not-current";let a;return r&&(a=yield function b4(t,e,n,r,i){return E4.apply(this,arguments)}(t,e,o,"current"===s,i.resumeToken)),t.isPrimaryClient&&n&&ry(t.remoteStore,i),a}),v4.apply(this,arguments)}function E4(){return E4=w(function*(t,e,n,r,i){t.Na=(d,h,f)=>{return(m=w(function*(v,T,b,C){let R=T.view.Ta(b);R.Xi&&(R=yield Z0(v.localStore,T.query,!1).then(({documents:ue})=>T.view.Ta(ue,R)));const M=C&&C.targetChanges.get(T.targetId),$=C&&null!=C.targetMismatches.get(T.targetId),ie=T.view.applyChanges(R,v.isPrimaryClient,M,$);return N4(v,T.targetId,ie.Va),ie.snapshot}),function y(v,T,b,C){return m.apply(this,arguments)})(t,d,h,f);var m};const o=yield Z0(t.localStore,e,!0),s=new vj(e,o.hs),a=s.Ta(o.documents),u=ep.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==t.onlineState,i),c=s.applyChanges(a,t.isPrimaryClient,u);N4(t,n,c.Va);const l=new che(e,n,s);return t.wa.set(e,l),t.Sa.has(n)?t.Sa.get(n).push(e):t.Sa.set(n,[e]),c.snapshot}),E4.apply(this,arguments)}function phe(t,e,n){return w4.apply(this,arguments)}function w4(){return w4=w(function*(t,e,n){const r=Q(t),i=r.wa.get(e),o=r.Sa.get(i.targetId);if(o.length>1)return r.Sa.set(i.targetId,o.filter(s=>!qf(s,e))),void r.wa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||(yield Dl(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&Al(r.remoteStore,i.targetId),Ol(r,i.targetId)}).catch(Fs))):(Ol(r,i.targetId),yield Dl(r.localStore,i.targetId,!0))}),w4.apply(this,arguments)}function ghe(t,e){return I4.apply(this,arguments)}function I4(){return I4=w(function*(t,e){const n=Q(t),r=n.wa.get(e),i=n.Sa.get(r.targetId);n.isPrimaryClient&&1===i.length&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Al(n.remoteStore,r.targetId))}),I4.apply(this,arguments)}function T4(){return T4=w(function*(t,e,n){const r=function H4(t){const e=Q(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=yhe.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=vhe.bind(null,e),e}(t);try{const i=yield function(s,a){const u=Q(s),c=xt.now(),l=a.reduce((f,m)=>f.add(m.key),Ee());let d,h;return u.persistence.runTransaction("Locally write mutations","readwrite",f=>{let m=Pr(),y=Ee();return u.os.getEntries(f,l).next(v=>{m=v,m.forEach((T,b)=>{b.isValidDocument()||(y=y.add(T))})}).next(()=>u.localDocuments.getOverlayedDocuments(f,m)).next(v=>{d=v;const T=[];for(const b of a){const C=$le(b,d.get(b.key).overlayedDocument);null!=C&&T.push(new Ko(b.key,C,mU(C.value.mapValue),Tt.exists(!0)))}return u.mutationQueue.addMutationBatch(f,c,T,a)}).next(v=>{h=v;const T=v.applyToLocalDocumentSet(d,y);return u.documentOverlayCache.saveOverlays(f,v.batchId,T)})}).then(()=>({batchId:h.batchId,changes:kU(d)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,a,u){let c=s.Fa[s.currentUser.toKey()];c||(c=new gt(fe)),c=c.insert(a,u),s.Fa[s.currentUser.toKey()]=c}(r,i.batchId,n),yield Jo(r,i.changes),yield Rl(r.remoteStore)}catch(i){const o=xl(i,"Failed to persist write");n.reject(o)}}),T4.apply(this,arguments)}function Ej(t,e){return C4.apply(this,arguments)}function C4(){return C4=w(function*(t,e){const n=Q(t);try{const r=yield function Ode(t,e){const n=Q(t),r=e.snapshotVersion;let i=n.ns;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const s=n.os.newChangeBuffer({trackRemovals:!0});i=n.ns;const a=[];e.targetChanges.forEach((l,d)=>{const h=i.get(d);if(!h)return;a.push(n.Qr.removeMatchingKeys(o,l.removedDocuments,d).next(()=>n.Qr.addMatchingKeys(o,l.addedDocuments,d)));let f=h.withSequenceNumber(o.currentSequenceNumber);var y,v,T;null!==e.targetMismatches.get(d)?f=f.withResumeToken(pn.EMPTY_BYTE_STRING,se.min()).withLastLimboFreeSnapshotVersion(se.min()):l.resumeToken.approximateByteSize()>0&&(f=f.withResumeToken(l.resumeToken,r)),i=i.insert(d,f),v=f,T=l,(0===(y=h).resumeToken.approximateByteSize()||v.snapshotVersion.toMicroseconds()-y.snapshotVersion.toMicroseconds()>=3e8||T.addedDocuments.size+T.modifiedDocuments.size+T.removedDocuments.size>0)&&a.push(n.Qr.updateTargetData(o,f))});let u=Pr(),c=Ee();if(e.documentUpdates.forEach(l=>{e.resolvedLimboDocuments.has(l)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(o,l))}),a.push(function Y5(t,e,n){let r=Ee(),i=Ee();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let s=Pr();return n.forEach((a,u)=>{const c=o.get(a);u.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(a)),u.isNoDocument()&&u.version.isEqual(se.min())?(e.removeEntry(a,u.readTime),s=s.insert(a,u)):!c.isValidDocument()||u.version.compareTo(c.version)>0||0===u.version.compareTo(c.version)&&c.hasPendingWrites?(e.addEntry(u),s=s.insert(a,u)):F("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",u.version)}),{cs:s,ls:i}})}(o,s,e.documentUpdates).next(l=>{u=l.cs,c=l.ls})),!r.isEqual(se.min())){const l=n.Qr.getLastRemoteSnapshotVersion(o).next(d=>n.Qr.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(l)}return S.waitFor(a).next(()=>s.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,u,c)).next(()=>u)}).then(o=>(n.ns=i,o))}(n.localStore,e);e.targetChanges.forEach((i,o)=>{const s=n.Ca.get(o);s&&(oe(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?s.pa=!0:i.modifiedDocuments.size>0?oe(s.pa):i.removedDocuments.size>0&&(oe(s.pa),s.pa=!1))}),yield Jo(n,r,e)}catch(r){yield Fs(r)}}),C4.apply(this,arguments)}function wj(t,e,n){const r=Q(t);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const i=[];r.wa.forEach((o,s)=>{const a=s.view.G_(e);a.snapshot&&i.push(a.snapshot)}),function(s,a){const u=Q(s);u.onlineState=a;let c=!1;u.queries.forEach((l,d)=>{for(const h of d.Q_)h.G_(a)&&(c=!0)}),c&&p4(u)}(r.eventManager,e),i.length&&r.ya.u_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function _he(t,e,n){return D4.apply(this,arguments)}function D4(){return D4=w(function*(t,e,n){const r=Q(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Ca.get(e),o=i&&i.key;if(o){let s=new gt(Y.comparator);s=s.insert(o,Et.newNoDocument(o,se.min()));const a=Ee().add(o),u=new Xf(se.min(),new Map,new gt(fe),s,a);yield Ej(r,u),r.Da=r.Da.remove(o),r.Ca.delete(e),M4(r)}else yield Dl(r.localStore,e,!1).then(()=>Ol(r,e,n)).catch(Fs)}),D4.apply(this,arguments)}function yhe(t,e){return S4.apply(this,arguments)}function S4(){return S4=w(function*(t,e){const n=Q(t),r=e.batch.batchId;try{const i=yield function Mde(t,e){const n=Q(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),o=n.os.newChangeBuffer({trackRemovals:!0});return function(a,u,c,l){const d=c.batch,h=d.keys();let f=S.resolve();return h.forEach(m=>{f=f.next(()=>l.getEntry(u,m)).next(y=>{const v=c.docVersions.get(m);oe(null!==v),y.version.compareTo(v)<0&&(d.applyToRemoteDocument(y,c),y.isValidDocument()&&(y.setReadTime(c.commitVersion),l.addEntry(y)))})}),f.next(()=>a.mutationQueue.removeMutationBatch(u,d))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let u=Ee();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(u=u.add(a.batch.mutations[c].key));return u}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}(n.localStore,e);x4(n,r,null),P4(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),yield Jo(n,i)}catch(i){yield Fs(i)}}),S4.apply(this,arguments)}function vhe(t,e,n){return A4.apply(this,arguments)}function A4(){return A4=w(function*(t,e,n){const r=Q(t);try{const i=yield function(s,a){const u=Q(s);return u.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let l;return u.mutationQueue.lookupMutationBatch(c,a).next(d=>(oe(null!==d),l=d.keys(),u.mutationQueue.removeMutationBatch(c,d))).next(()=>u.mutationQueue.performConsistencyCheck(c)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(c,l,a)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,l)).next(()=>u.localDocuments.getDocuments(c,l))})}(r.localStore,e);x4(r,e,n),P4(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),yield Jo(r,i)}catch(i){yield Fs(i)}}),A4.apply(this,arguments)}function P4(t,e){(t.Ma.get(e)||[]).forEach(n=>{n.resolve()}),t.Ma.delete(e)}function x4(t,e,n){const r=Q(t);let i=r.Fa[r.currentUser.toKey()];if(i){const o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Fa[r.currentUser.toKey()]=i}}function Ol(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Sa.get(e))t.wa.delete(r),n&&t.ya.La(r,n);t.Sa.delete(e),t.isPrimaryClient&&t.va.Vr(e).forEach(r=>{t.va.containsKey(r)||Ij(t,r)})}function Ij(t,e){t.ba.delete(e.path.canonicalString());const n=t.Da.get(e);null!==n&&(Al(t.remoteStore,n),t.Da=t.Da.remove(e),t.Ca.delete(n),M4(t))}function N4(t,e,n){for(const r of n)r instanceof _j?(t.va.addReference(r.key,e),Ehe(t,r)):r instanceof yj?(F("SyncEngine","Document no longer in limbo: "+r.key),t.va.removeReference(r.key,e),t.va.containsKey(r.key)||Ij(t,r.key)):te()}function Ehe(t,e){const n=e.key,r=n.path.canonicalString();t.Da.get(n)||t.ba.has(r)||(F("SyncEngine","New document in limbo: "+n),t.ba.add(r),M4(t))}function M4(t){for(;t.ba.size>0&&t.Da.size<t.maxConcurrentLimboResolutions;){const e=t.ba.values().next().value;t.ba.delete(e);const n=new Y(Pe.fromString(e)),r=t.xa.next();t.Ca.set(r,new lhe(n)),t.Da=t.Da.insert(n,r),ry(t.remoteStore,new Qo(pr(hl(n.path)),r,"TargetPurposeLimboResolution",qr._e))}}function Jo(t,e,n){return O4.apply(this,arguments)}function O4(){return O4=w(function*(t,e,n){const r=Q(t),i=[],o=[],s=[];var a;r.wa.isEmpty()||(r.wa.forEach((a,u)=>{s.push(r.Na(u,e,n).then(c=>{if((c||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(u.targetId,c?.fromCache?"not-current":"current"),c){i.push(c);const l=OD.Ki(u.targetId,c);o.push(l)}}))}),yield Promise.all(s),r.ya.u_(i),yield(a=w(function*(c,l){const d=Q(c);try{yield d.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>S.forEach(l,f=>S.forEach(f.qi,m=>d.persistence.referenceDelegate.addReference(h,f.targetId,m)).next(()=>S.forEach(f.Qi,m=>d.persistence.referenceDelegate.removeReference(h,f.targetId,m)))))}catch(h){if(!Vs(h))throw h;F("LocalStore","Failed to update sequence numbers: "+h)}for(const h of l){const f=h.targetId;if(!h.fromCache){const m=d.ns.get(f),v=m.withLastLimboFreeSnapshotVersion(m.snapshotVersion);d.ns=d.ns.insert(f,v)}}}),function u(c,l){return a.apply(this,arguments)})(r.localStore,o))}),O4.apply(this,arguments)}function whe(t,e){return k4.apply(this,arguments)}function k4(){return k4=w(function*(t,e){const n=Q(t);if(!n.currentUser.isEqual(e)){F("SyncEngine","User change. New user:",e.toKey());const r=yield Q5(n.localStore,e);n.currentUser=e,(o=n).Ma.forEach(a=>{a.forEach(u=>{u.reject(new V(x.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),o.Ma.clear(),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Jo(n,r.us)}var o}),k4.apply(this,arguments)}function Ihe(t,e){const n=Q(t),r=n.Ca.get(e);if(r&&r.pa)return Ee().add(r.key);{let i=Ee();const o=n.Sa.get(e);if(!o)return i;for(const s of o){const a=n.wa.get(s);i=i.unionWith(a.view.Ia)}return i}}function oy(t){const e=Q(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=Ej.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Ihe.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=_he.bind(null,e),e.ya.u_=ohe.bind(null,e.eventManager),e.ya.La=she.bind(null,e.eventManager),e}class sy{constructor(){this.synchronizeTabs=!1}initialize(e){var n=this;return w(function*(){n.serializer=lp(e.databaseInfo.databaseId),n.sharedClientState=n.createSharedClientState(e),n.persistence=n.createPersistence(e),yield n.persistence.start(),n.localStore=n.createLocalStore(e),n.gcScheduler=n.createGarbageCollectionScheduler(e,n.localStore),n.indexBackfillerScheduler=n.createIndexBackfillerScheduler(e,n.localStore)})()}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return function K5(t,e,n,r){return new Nde(t,e,n,r)}(this.persistence,new W5,e.initialUser,this.serializer)}createPersistence(e){return new PD(Q0.Hr,this.serializer)}createSharedClientState(e){return new rj}terminate(){var e=this;return w(function*(){var n,r;null===(n=e.gcScheduler)||void 0===n||n.stop(),null===(r=e.indexBackfillerScheduler)||void 0===r||r.stop(),e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class kl{initialize(e,n){var r=this;return w(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(n),r.remoteStore=r.createRemoteStore(n),r.eventManager=r.createEventManager(n),r.syncEngine=r.createSyncEngine(n,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>wj(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=whe.bind(null,r.syncEngine),yield function a4(t,e){return u4.apply(this,arguments)}(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new ihe}createDatastore(e){const n=lp(e.databaseInfo.databaseId),r=new jde(e.databaseInfo);return new Gde(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return r=this.localStore,i=this.datastore,o=e.asyncQueue,s=n=>wj(this.syncEngine,n,0),a=ij.D()?new ij:new Lde,new Wde(r,i,o,s,a);var r,i,o,s,a}createSyncEngine(e,n){return function(i,o,s,a,u,c,l){const d=new dhe(i,o,s,a,u,c);return l&&(d.Oa=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){var e=this;return w(function*(){var n,r;yield(r=w(function*(o){const s=Q(o);F("RemoteStore","RemoteStore shutting down."),s.v_.add(5),yield Sl(s),s.M_.shutdown(),s.x_.set("Unknown")}),function i(o){return r.apply(this,arguments)})(e.remoteStore),null===(n=e.datastore)||void 0===n||n.terminate()})()}}class ay{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.qa(this.observer.next,e)}error(e){this.observer.error?this.qa(this.observer.error,e):Qt("Uncaught Error in snapshot listener:",e.toString())}Qa(){this.muted=!0}qa(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}class Fhe{constructor(e,n,r,i){var o=this;this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=wn.UNAUTHENTICATED,this.clientId=WB.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var s=w(function*(a){F("FirestoreClient","Received user=",a.uid),yield o.authCredentialListener(a),o.user=a});return function(a){return s.apply(this,arguments)}}()),this.appCheckCredentials.start(r,s=>(F("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new V(x.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const n=new fn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(w(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),n.resolve()}catch(r){const i=xl(r,"Failed to shutdown persistence");n.reject(i)}})),n.promise}}function uy(t,e){return G4.apply(this,arguments)}function G4(){return G4=w(function*(t,e){t.asyncQueue.verifyOperationInProgress(),F("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(function(){var i=w(function*(o){r.isEqual(o)||(yield Q5(e.localStore,o),r=o)});return function(o){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}),G4.apply(this,arguments)}function z4(t,e){return q4.apply(this,arguments)}function q4(){return q4=w(function*(t,e){t.asyncQueue.verifyOperationInProgress();const n=yield function W4(t){return K4.apply(this,arguments)}(t);F("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>hj(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>hj(e.remoteStore,i)),t._onlineComponents=e}),q4.apply(this,arguments)}function K4(){return K4=w(function*(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){F("FirestoreClient","Using user provided OfflineComponentProvider");try{yield uy(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function Rj(t){return"FirebaseError"===t.name?t.code===x.FAILED_PRECONDITION||t.code===x.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}(n))throw n;Gr("Error using user provided cache. Falling back to memory cache: "+n),yield uy(t,new sy)}}else F("FirestoreClient","Using default OfflineComponentProvider"),yield uy(t,new sy);return t._offlineComponents}),K4.apply(this,arguments)}function cy(t){return Q4.apply(this,arguments)}function Q4(){return Q4=w(function*(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(F("FirestoreClient","Using user provided OnlineComponentProvider"),yield z4(t,t._uninitializedComponentsProvider._online)):(F("FirestoreClient","Using default OnlineComponentProvider"),yield z4(t,new kl))),t._onlineComponents}),Q4.apply(this,arguments)}function Vl(t){return Y4.apply(this,arguments)}function Y4(){return Y4=w(function*(t){const e=yield cy(t),n=e.eventManager;return n.onListen=hhe.bind(null,e.syncEngine),n.onUnlisten=phe.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=fhe.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=ghe.bind(null,e.syncEngine),n}),Y4.apply(this,arguments)}function kj(t){const e={};return void 0!==t.timeoutSeconds&&(e.timeoutSeconds=t.timeoutSeconds),e}const Fj=new Map;function Z4(t,e,n){if(!n)throw new V(x.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function Vj(t){if(!Y.isDocumentKey(t))throw new V(x.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Lj(t){if(Y.isDocumentKey(t))throw new V(x.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function ly(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";{const e=(r=t).constructor?r.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var r;return"function"==typeof t?"a function":te()}function Ne(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new V(x.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=ly(t);throw new V(x.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}class Uj{constructor(e){var n,r;if(void 0===e.host){if(void 0!==e.ssl)throw new V(x.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(n=e.ssl)||void 0===n||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new V(x.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function Whe(t,e,n,r){if(!0===e&&!0===r)throw new V(x.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=kj(null!==(r=e.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(o){if(void 0!==o.timeoutSeconds){if(isNaN(o.timeoutSeconds))throw new V(x.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new V(x.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new V(x.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class hp{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Uj({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new V(x.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new V(x.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Uj(e),void 0!==e.credentials&&(this._authCredentials=function(r){if(!r)return new Uce;switch(r.type){case"firstParty":return new Gce(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new V(x.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=Fj.get(n);r&&(F("ComponentProvider","Removing Datastore"),Fj.delete(n),r.terminate())}(this),Promise.resolve()}}class Hn{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Hn(this.firestore,e,this._query)}}class Yt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new lo(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Yt(this.firestore,e,this._key)}}class lo extends Hn{constructor(e,n,r){super(e,n,hl(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Yt(this.firestore,null,new Y(e))}withConverter(e){return new lo(this.firestore,e,this._path)}}function fp(t,e,...n){if(t=Vt(t),Z4("collection","path",e),t instanceof hp){const r=Pe.fromString(e,...n);return Lj(r),new lo(t,null,r)}{if(!(t instanceof Yt||t instanceof lo))throw new V(x.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Pe.fromString(e,...n));return Lj(r),new lo(t.firestore,null,r)}}function jj(t,e,...n){if(t=Vt(t),1===arguments.length&&(e=WB.newId()),Z4("doc","path",e),t instanceof hp){const r=Pe.fromString(e,...n);return Vj(r),new Yt(t,null,new Y(r))}{if(!(t instanceof Yt||t instanceof lo))throw new V(x.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Pe.fromString(e,...n));return Vj(r),new Yt(t.firestore,t instanceof lo?t.converter:null,new Y(r))}}class Qhe{constructor(){this.nu=Promise.resolve(),this.ru=[],this.iu=!1,this.su=[],this.ou=null,this._u=!1,this.au=!1,this.uu=[],this.jo=new GD(this,"async_queue_retry"),this.cu=()=>{const n=ny();n&&F("AsyncQueue","Visibility state changed to "+n.visibilityState),this.jo.Ko()};const e=ny();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.cu)}get isShuttingDown(){return this.iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.lu(),this.hu(e)}enterRestrictedMode(e){if(!this.iu){this.iu=!0,this.au=e||!1;const n=ny();n&&"function"==typeof n.removeEventListener&&n.removeEventListener("visibilitychange",this.cu)}}enqueue(e){if(this.lu(),this.iu)return new Promise(()=>{});const n=new fn;return this.hu(()=>this.iu&&this.au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.ru.push(e),this.Pu()))}Pu(){var e=this;return w(function*(){if(0!==e.ru.length){try{yield e.ru[0](),e.ru.shift(),e.jo.reset()}catch(n){if(!Vs(n))throw n;F("AsyncQueue","Operation failed with retryable error: "+n)}e.ru.length>0&&e.jo.qo(()=>e.Pu())}})()}hu(e){const n=this.nu.then(()=>(this._u=!0,e().catch(r=>{throw this.ou=r,this._u=!1,Qt("INTERNAL UNHANDLED ERROR: ",function(s){let a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+"\n"+s.stack),a}(r)),r}).then(r=>(this._u=!1,r))));return this.nu=n,n}enqueueAfterDelay(e,n,r){this.lu(),this.uu.indexOf(e)>-1&&(n=0);const i=c4.createAndSchedule(this,e,n,r,o=>this.Iu(o));return this.su.push(i),i}lu(){this.ou&&te()}verifyOperationInProgress(){}Tu(){var e=this;return w(function*(){let n;do{n=e.nu,yield n}while(n!==e.nu)})()}Eu(e){for(const n of this.su)if(n.timerId===e)return!0;return!1}du(e){return this.Tu().then(()=>{this.su.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.su)if(n.skipDelay(),"all"!==e&&n.timerId===e)break;return this.Tu()})}Au(e){this.uu.push(e)}Iu(e){const n=this.su.indexOf(e);this.su.splice(n,1)}}function X4(t){return function(n,r){if("object"!=typeof n||null===n)return!1;const i=n;for(const o of["next","error","complete"])if(o in i&&"function"==typeof i[o])return!0;return!1}(t)}class mt extends hp{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new Qhe,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||Hj(this),this._firestoreClient.terminate()}}function Yhe(t,e){const r="string"==typeof t?t:e||"(default)",i=Kh("object"==typeof t?t:x_(),"firestore").getImmediate({identifier:r});if(!i._initialized){const o=WF("firestore");o&&function Khe(t,e,n,r={}){var i;const o=(t=Ne(t,hp))._getSettings(),s=`${e}:${n}`;if("firestore.googleapis.com"!==o.host&&o.host!==s&&Gr("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),r.mockUserToken){let a,u;if("string"==typeof r.mockUserToken)a=r.mockUserToken,u=wn.MOCK_USER;else{a=YF(r.mockUserToken,null===(i=t._app)||void 0===i?void 0:i.options.projectId);const c=r.mockUserToken.sub||r.mockUserToken.user_id;if(!c)throw new V(x.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new wn(c)}t._authCredentials=new jce(new zB(a,u))}}(i,...o)}return i}function Zt(t){return t._firestoreClient||Hj(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function Hj(t){var e,n,r;const i=t._freezeSettings(),o=(u=(null===(e=t._app)||void 0===e?void 0:e.options.appId)||"",new Ele(t._databaseId,u,t._persistenceKey,(l=i).host,l.ssl,l.experimentalForceLongPolling,l.experimentalAutoDetectLongPolling,kj(l.experimentalLongPollingOptions),l.useFetchStreams));var u,l;t._firestoreClient=new Fhe(t._authCredentials,t._appCheckCredentials,t._queue,o),null!==(n=i.localCache)&&void 0!==n&&n._offlineComponentProvider&&null!==(r=i.localCache)&&void 0!==r&&r._onlineComponentProvider&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}class ou{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ou(pn.fromBase64String(e))}catch(n){throw new V(x.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new ou(pn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Ll{constructor(...e){for(let n=0;n<e.length;++n)if(0===e[n].length)throw new V(x.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new It(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class eS{constructor(e){this._methodName=e}}class tS{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new V(x.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new V(x.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return fe(this._lat,e._lat)||fe(this._long,e._long)}}const Xhe=/^__.*__$/;class efe{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return null!==this.fieldMask?new Ko(e,this.data,this.fieldMask,n,this.fieldTransforms):new _l(e,this.data,n,this.fieldTransforms)}}class qj{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Ko(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function Wj(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw te()}}class dy{constructor(e,n,r,i,o,s){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,void 0===o&&this.Ru(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Vu(){return this.settings.Vu}mu(e){return new dy(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}fu(e){var n;const r=null===(n=this.path)||void 0===n?void 0:n.child(e),i=this.mu({path:r,gu:!1});return i.pu(e),i}yu(e){var n;const r=null===(n=this.path)||void 0===n?void 0:n.child(e),i=this.mu({path:r,gu:!1});return i.Ru(),i}wu(e){return this.mu({path:void 0,gu:!0})}Su(e){return fy(e,this.settings.methodName,this.settings.bu||!1,this.path,this.settings.Du)}contains(e){return void 0!==this.fieldMask.find(n=>e.isPrefixOf(n))||void 0!==this.fieldTransforms.find(n=>e.isPrefixOf(n.field))}Ru(){if(this.path)for(let e=0;e<this.path.length;e++)this.pu(this.path.get(e))}pu(e){if(0===e.length)throw this.Su("Document fields must not be empty");if(Wj(this.Vu)&&Xhe.test(e))throw this.Su('Document fields cannot begin and end with "__"')}}class tfe{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||lp(e)}Cu(e,n,r,i=!1){return new dy({Vu:e,methodName:n,Du:r,path:It.emptyPath(),gu:!1,bu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Bl(t){const e=t._freezeSettings(),n=lp(t._databaseId);return new tfe(t._databaseId,!!e.ignoreUndefinedProperties,n)}function nS(t,e,n,r,i,o={}){const s=t.Cu(o.merge||o.mergeFields?2:0,e,n,i);aS("Data must be an object, but it was:",s,r);const a=Zj(r,s);let u,c;if(o.merge)u=new Rr(s.fieldMask),c=s.fieldTransforms;else if(o.mergeFields){const l=[];for(const d of o.mergeFields){const h=mp(e,d,n);if(!s.contains(h))throw new V(x.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);e$(l,h)||l.push(h)}u=new Rr(l),c=s.fieldTransforms.filter(d=>u.covers(d.field))}else u=null,c=s.fieldTransforms;return new efe(new $n(a),u,c)}class gp extends eS{_toFieldTransform(e){if(2!==e.Vu)throw e.Su(1===e.Vu?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof gp}}function su(t,e){if(Xj(t=Vt(t)))return aS("Unsupported field value:",e,t),Zj(t,e);if(t instanceof eS)return function(r,i){if(!Wj(i.Vu))throw i.Su(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Su(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.gu&&4!==e.Vu)throw e.Su("Nested arrays are not supported");return function(r,i){const o=[];let s=0;for(const a of r){let u=su(a,i.wu(s));null==u&&(u={nullValue:"NULL_VALUE"}),o.push(u),s++}return{arrayValue:{values:o}}}(t,e)}return function(r,i){if(null===(r=Vt(r)))return{nullValue:"NULL_VALUE"};if("number"==typeof r)return BU(i.serializer,r);if("boolean"==typeof r)return{booleanValue:r};if("string"==typeof r)return{stringValue:r};if(r instanceof Date){const o=xt.fromDate(r);return{timestampValue:vl(i.serializer,o)}}if(r instanceof xt){const o=new xt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:vl(i.serializer,o)}}if(r instanceof tS)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof ou)return{bytesValue:s5(i.serializer,r._byteString)};if(r instanceof Yt){const o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.Su(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:_D(r.firestore._databaseId||i.databaseId,r._key.path)}}throw i.Su(`Unsupported field value: ${ly(r)}`)}(t,e)}function Zj(t,e){const n={};return aU(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ls(t,(r,i)=>{const o=su(i,e.fu(r));null!=o&&(n[r]=o)}),{mapValue:{fields:n}}}function Xj(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof xt||t instanceof tS||t instanceof ou||t instanceof Yt||t instanceof eS)}function aS(t,e,n){if(!Xj(n)||"object"!=typeof(i=n)||null===i||Object.getPrototypeOf(i)!==Object.prototype&&null!==Object.getPrototypeOf(i)){const r=ly(n);throw e.Su("an object"===r?t+" a custom object":t+" "+r)}var i}function mp(t,e,n){if((e=Vt(e))instanceof Ll)return e._internalPath;if("string"==typeof e)return hy(t,e);throw fy("Field path arguments must be of type string or ",t,!1,void 0,n)}const nfe=new RegExp("[~\\*/\\[\\]]");function hy(t,e,n){if(e.search(nfe)>=0)throw fy(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Ll(...e.split("."))._internalPath}catch{throw fy(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function fy(t,e,n,r,i){const o=r&&!r.isEmpty(),s=void 0!==i;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(o||s)&&(u+=" (found",o&&(u+=` in field ${r}`),s&&(u+=` in document ${i}`),u+=")"),new V(x.INVALID_ARGUMENT,a+t+u)}function e$(t,e){return t.some(n=>n.isEqual(e))}class uS{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Yt(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new rfe(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(py("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n)}}}class rfe extends uS{data(){return super.data()}}function py(t,e){return"string"==typeof e?hy(t,e):e instanceof Ll?e._internalPath:e._delegate._internalPath}function t$(t){if("L"===t.limitType&&0===t.explicitOrderBy.length)throw new V(x.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class cS{}class ife extends cS{}function ofe(t,e,...n){let r=[];e instanceof cS&&r.push(e),r=r.concat(n),function(o){const s=o.filter(u=>u instanceof Ul).length,a=o.filter(u=>u instanceof _p).length;if(s>1||s>0&&a>0)throw new V(x.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class _p extends ife{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new _p(e,n,r)}_apply(e){const n=this._parse(e);return o$(e._query,n),new Hn(e.firestore,e.converter,cD(e._query,n))}_parse(e){const n=Bl(e.firestore);return function(o,s,a,u,c,l,d){let h;if(c.isKeyField()){if("array-contains"===l||"array-contains-any"===l)throw new V(x.INVALID_ARGUMENT,`Invalid Query. You can't perform '${l}' queries on documentId().`);if("in"===l||"not-in"===l){i$(d,l);const f=[];for(const m of d)f.push(r$(u,o,m));h={arrayValue:{values:f}}}else h=r$(u,o,d)}else"in"!==l&&"not-in"!==l&&"array-contains-any"!==l||i$(d,l),h=function Yj(t,e,n,r=!1){return su(n,t.Cu(r?4:3,e))}(a,"where",d,"in"===l||"not-in"===l);return xe.create(c,l,h)}(e._query,0,n,e.firestore._databaseId,this._field,this._op,this._value)}}function sfe(t,e,n){const r=e,i=py("where",t);return _p._create(i,r,n)}class Ul extends cS{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Ul(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return 1===n.length?n[0]:st.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return 0===n.getFilters().length?e:(function(i,o){let s=i;const a=o.getFlattenedFilters();for(const u of a)o$(s,u),s=cD(s,u)}(e._query,n),new Hn(e.firestore,e.converter,cD(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}function r$(t,e,n){if("string"==typeof(n=Vt(n))){if(""===n)throw new V(x.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!uD(e)&&-1!==n.indexOf("/"))throw new V(x.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Pe.fromString(n));if(!Y.isDocumentKey(r))throw new V(x.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Ka(t,new Y(r))}if(n instanceof Yt)return Ka(t,n._key);throw new V(x.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${ly(n)}.`)}function i$(t,e){if(!Array.isArray(t)||0===t.length)throw new V(x.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function o$(t,e){const n=function(i,o){for(const s of i)for(const a of s.getFlattenedFilters())if(o.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==n)throw new V(x.INVALID_ARGUMENT,n===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class afe{convertValue(e,n="none"){switch(Us(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Bt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(zo(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw te()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Ls(e,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertGeoPoint(e){return new tS(Bt(e.latitude),Bt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=P0(e);return null==r?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Uf(e));default:return null}}convertTimestamp(e){const n=Go(e);return new xt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Pe.fromString(e);oe(_5(r));const i=new Wa(r.get(1),r.get(3)),o=new Y(r.popFirst(5));return i.isEqual(n)||Qt(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}function dS(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class au{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class jl extends uS{constructor(e,n,r,i,o,s){super(e,n,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new yy(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(py("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class yy extends jl{data(e={}){return super.data(e)}}class $l{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new au(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new yy(this._firestore,this._userDataWriter,r.key,r,new au(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new V(x.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>({type:"added",doc:new yy(i._firestore,i._userDataWriter,a.doc.key,a.doc,new au(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),oldIndex:-1,newIndex:s++}))}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||3!==a.type).map(a=>{const u=new yy(i._firestore,i._userDataWriter,a.doc.key,a.doc,new au(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let c=-1,l=-1;return 0!==a.type&&(c=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),1!==a.type&&(s=s.add(a.doc),l=s.indexOf(a.doc.key)),{type:cfe(a.type),doc:u,oldIndex:c,newIndex:l}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function cfe(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return te()}}class Qs extends afe{constructor(e){super(),this.firestore=e}convertBytes(e){return new ou(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Yt(this.firestore,null,n)}}function lfe(t){t=Ne(t,Hn);const e=Ne(t.firestore,mt),n=Zt(e),r=new Qs(e);return t$(t._query),function Oj(t,e,n={}){const r=new fn;return t.asyncQueue.enqueueAndForget(w(function*(){return function(o,s,a,u,c){const l=new ay({next:h=>{s.enqueueAndForget(()=>h4(o,d)),h.fromCache&&"server"===u.source?c.reject(new V(x.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(h)},error:h=>c.reject(h)}),d=new m4(a,l,{includeMetadataChanges:!0,ta:!0});return l4(o,d)}(yield Vl(t),t.asyncQueue,e,n,r)})),r.promise}(n,t._query).then(i=>new $l(e,r,t,i))}function dfe(t,e,n){t=Ne(t,Yt);const r=Ne(t.firestore,mt),i=dS(t.converter,e,n);return yp(r,[nS(Bl(r),"setDoc",t._key,i,null!==t.converter,n).toMutation(t._key,Tt.none())])}function hfe(t,e,n,...r){t=Ne(t,Yt);const i=Ne(t.firestore,mt),o=Bl(i);let s;return s="string"==typeof(e=Vt(e))||e instanceof Ll?function Jj(t,e,n,r,i,o){const s=t.Cu(1,e,n),a=[mp(e,r,n)],u=[i];if(o.length%2!=0)throw new V(x.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<o.length;h+=2)a.push(mp(e,o[h])),u.push(o[h+1]);const c=[],l=$n.empty();for(let h=a.length-1;h>=0;--h)if(!e$(c,a[h])){const f=a[h];let m=u[h];m=Vt(m);const y=s.yu(f);if(m instanceof gp)c.push(f);else{const v=su(m,y);null!=v&&(c.push(f),l.set(f,v))}}const d=new Rr(c);return new qj(l,d,s.fieldTransforms)}(o,"updateDoc",t._key,e,n,r):function Qj(t,e,n,r){const i=t.Cu(1,e,n);aS("Data must be an object, but it was:",i,r);const o=[],s=$n.empty();Ls(r,(u,c)=>{const l=hy(e,u,n);c=Vt(c);const d=i.yu(l);if(c instanceof gp)o.push(l);else{const h=su(c,d);null!=h&&(o.push(l),s.set(l,h))}});const a=new Rr(o);return new qj(s,a,i.fieldTransforms)}(o,"updateDoc",t._key,e),yp(i,[s.toMutation(t._key,Tt.exists(!0))])}function ffe(t){return yp(Ne(t.firestore,mt),[new yl(t._key,Tt.none())])}function pfe(t,e){const n=Ne(t.firestore,mt),r=jj(t),i=dS(t.converter,e);return yp(n,[nS(Bl(t.firestore),"addDoc",r._key,i,null!==t.converter,{}).toMutation(r._key,Tt.exists(!1))]).then(()=>r)}function yp(t,e){return function(r,i){const o=new fn;return r.asyncQueue.enqueueAndForget(w(function*(){return function mhe(t,e,n){return T4.apply(this,arguments)}(yield function J4(t){return cy(t).then(e=>e.syncEngine)}(r),i,o)})),o.promise}(Zt(t),e)}!function(e,n=!0){il=Fa,ka(new As("firestore",(r,{instanceIdentifier:i,options:o})=>{const s=r.getProvider("app").getImmediate(),a=new mt(new $ce(r.getProvider("auth-internal")),new zce(r.getProvider("app-check-internal")),function(c,l){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new V(x.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Wa(c.options.projectId,l)}(s,i),s);return o=Object.assign({useFetchStreams:n},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),Ln(GB,"4.6.0",e),Ln(GB,"4.6.0","esm2017")}();var Ey=function(){return Ey=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++)for(var o in n=arguments[r])Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o]);return e},Ey.apply(this,arguments)};"function"==typeof SuppressedError&&SuppressedError;var Afe={includeMetadataChanges:!1};function gS(t,e){return void 0===e&&(e=Afe),new Fe(function(n){var r=function gfe(t,...e){var n,r,i;t=Vt(t);let o={includeMetadataChanges:!1,source:"default"},s=0;"object"!=typeof e[s]||X4(e[s])||(o=e[s],s++);const a={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(X4(e[s])){const d=e[s];e[s]=null===(n=d.next)||void 0===n?void 0:n.bind(d),e[s+1]=null===(r=d.error)||void 0===r?void 0:r.bind(d),e[s+2]=null===(i=d.complete)||void 0===i?void 0:i.bind(d)}let u,c,l;if(t instanceof Yt)c=Ne(t.firestore,mt),l=hl(t._key.path),u={next:d=>{e[s]&&e[s](function hS(t,e,n){const r=n.docs.get(e._key),i=new Qs(t);return new jl(t,i,e._key,r,new au(n.hasPendingWrites,n.fromCache),e.converter)}(c,t,d))},error:e[s+1],complete:e[s+2]};else{const d=Ne(t,Hn);c=Ne(d.firestore,mt),l=d._query;const h=new Qs(c);u={next:f=>{e[s]&&e[s](new $l(c,h,d,f))},error:e[s+1],complete:e[s+2]},t$(t._query)}return function(h,f,m,y){const v=new ay(y),T=new m4(f,v,m);return h.asyncQueue.enqueueAndForget(w(function*(){return l4(yield Vl(h),T)})),()=>{v.Qa(),h.asyncQueue.enqueueAndForget(w(function*(){return h4(yield Vl(h),T)}))}}(Zt(c),l,a,u)}(t,e,{next:n.next.bind(n),error:n.error.bind(n),complete:n.complete.bind(n)});return{unsubscribe:r}})}function Pfe(t,e){return void 0===e&&(e={}),function Rfe(t){return gS(t,{includeMetadataChanges:!0})}(t).pipe(ve(function(n){return l$(n,e)}))}function l$(t,e){var n;void 0===e&&(e={});var r=t.data(e);return t.exists()&&"object"==typeof r&&null!==r&&e.idField?Ey(Ey({},r),((n={})[e.idField]=t.id,n)):r}function Ffe(t,e){return void 0===e&&(e={}),function kfe(t){return gS(t,{includeMetadataChanges:!0}).pipe(ve(function(e){return e.docs}))}(t).pipe(ve(function(n){return n.map(function(r){return l$(r,e)})}))}class Wr{constructor(e){return e}}const p$="firestore",yS=new Z("angularfire2.firestore-instances");function Ufe(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new Wr(r)}}const jfe={provide:class Lfe{constructor(){return M_(p$)}},deps:[[new xn,yS]]},$fe={provide:Wr,useFactory:function Bfe(t,e){const n=qw(p$,t,e);return n&&new Wr(n)},deps:[[new xn,yS],Wc]};let Hfe=(()=>{class t{constructor(){Ln("angularfire",Yh.full,"fst")}static \u0275fac=function(r){return new(r||t)};static \u0275mod=Me({type:t});static \u0275inj=Re({providers:[$fe,jfe]})}return t})();function Gfe(t,...e){return{ngModule:Hfe,providers:[{provide:yS,useFactory:Ufe(t),multi:!0,deps:[Te,zt,O_,k_,[new xn,sC],[new xn,Ww],...e]}]}}const wy=Wt(Ffe,!0),Iy=Wt(Pfe,!0),vS=Wt(pfe,!0),zfe=Wt(fp,!0),bS=Wt(ffe,!0),gr=Wt(jj,!0),qfe=Wt(lfe,!0),g$=Wt(Yhe,!0),m$=Wt(ofe,!0),_$=Wt(dfe,!0),Hl=Wt(hfe,!0),Wfe=Wt(sfe,!0);let Ty=(()=>{class t{getOne(n){throw new Error("Method not implemented.")}constructor(n,r){this.http=n,this.afs=r,this.productCollection=fp(this.afs,"products")}getAllFirebase(){return wy(this.productCollection,{idField:"id"})}getAllByCategoryFirebase(n){const r=m$(fp(this.afs,"products"),Wfe("category.path","==",n));return wy(r,{idField:"id"})}getOneFirebase(n){const r=gr(this.afs,`products/${n}`);return Iy(r,{idField:"id"})}createFirebase(n){return vS(this.productCollection,n)}updateFirebase(n,r){const i=gr(this.afs,`products/${r}`);return Hl(i,{...n})}deleteFirebase(n){const r=gr(this.afs,`products/${n}`);return bS(r)}static#e=this.\u0275fac=function(r){return new(r||t)(j(Fc),j(Wr))};static#t=this.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const Cy_firebase={projectId:"shop-9c4dd",appId:"1:760946398174:web:d6065358b2ce4838c0c34f",storageBucket:"shop-9c4dd.appspot.com",locationId:"europe-west3",apiKey:"AIzaSyB3-tAcpfqD4WxvwE3BOeHZ8cZlMhN-YGk",authDomain:"shop-9c4dd.firebaseapp.com",messagingSenderId:"760946398174"};let vp=(()=>{class t{constructor(n,r){this.http=n,this.fireStore=r,this.changeBasket=new $e,this.url="http://localhost:4200",this.api={auth:`${this.url}/auth`},this.orders=[]}addOrder(n){this.orders.push(n)}static#e=this.\u0275fac=function(r){return new(r||t)(j(Fc),j(Wr))};static#t=this.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Kfe(t,e){1&t&&(g(0,"span"),_(1,"..."),p())}function Qfe(t,e){1&t&&(g(0,"span"),_(1,"..."),p())}function Jfe(t,e){if(1&t){const n=tt();g(0,"div",18)(1,"div",19),H(2,"img",20),p(),g(3,"div",21)(4,"h3",22),_(5),ps(6,"slice"),B(7,Kfe,2,0,"span",23),p(),g(8,"div",24)(9,"p",25),_(10),ps(11,"slice"),B(12,Qfe,2,0,"span",23),p(),g(13,"h4",26),_(14),p()(),g(15,"div",27)(16,"p",28)(17,"span",29),_(18),p(),_(19," \u0433\u0440\u043d"),p(),g(20,"div",30)(21,"button",31),K("click",function(){const o=we(n).$implicit;return Ie(U().countOfProduct(o,!1))}),_(22,"-"),p(),g(23,"span",32),_(24),p(),g(25,"button",33),K("click",function(){const o=we(n).$implicit;return Ie(U().countOfProduct(o,!0))}),_(26,"+"),p()(),g(27,"button",34),K("click",function(){const o=we(n).$implicit;return Ie(U().addProductToBasket(o))}),_(28,"\u0417\u0430\u043c\u043e\u0432\u0438\u0442\u0438"),p()()()()}if(2&t){const n=e.$implicit;I(2),bc("src",n.imagePath,sr),I(3),Nn(" ",gs(6,8,n.name,0,22)," "),I(2),P("ngIf",n.name.length>22),I(3),Nn(" ",gs(11,12,n.description,0,30)," "),I(2),P("ngIf",n.description.length>30),I(2),re(n.produced),I(4),re(n.price),I(6),re(n.count)}}let Yfe=(()=>{class t{constructor(n,r){this.productService=n,this.orderService=r,this.homeProducts=[]}ngOnInit(){this.getAllHomeProducts()}getAllHomeProducts(){this.productService.getAllFirebase().subscribe(n=>{this.homeProducts=n})}addProductToBasket(n){let r=[];if(localStorage.length>0&&localStorage.getItem("basket"))if(r=JSON.parse(localStorage.getItem("basket")),r.some(i=>i.id===n.id)){const i=r.findIndex(o=>o.id===n.id);r[i].count+=n.count}else r.push(n);else r.push(n);localStorage.setItem("basket",JSON.stringify(r)),n.count=1,this.orderService.changeBasket.next(!0)}countOfProduct(n,r){r?++n.count:!r&&n.count>1&&--n.count}static#e=this.\u0275fac=function(r){return new(r||t)(E(Ty),E(vp))};static#t=this.\u0275cmp=Ue({type:t,selectors:[["app-home"]],decls:40,vars:1,consts:[[1,"container"],[1,"mt-3"],[1,"row"],[1,"col-md-8"],[1,"card-body"],[1,"mb-5"],[1,"fs-3","mt-5"],["type","button",1,"btn","btn-secondary",2,"margin-top","100px"],[1,"col-md-4"],["src","/assets/4428993.jpeg","alt","...",2,"max-width","100%","height","500px","object-fit","cover"],[1,"mt-5"],[1,"mt-3",2,"text-align","center"],[1,"mb-3",2,"text-align","center"],[1,"statistics"],[1,"statistics_item"],[1,"titles"],[1,"product__main_wrapper","border","border-primary-subtle"],["class","product__card",4,"ngFor","ngForOf"],[1,"product__card"],[1,"card__image_wrapper"],["alt","",1,"product__card_image",3,"src"],[1,"card__info_wrapper"],[1,"card__info_title"],[4,"ngIf"],[1,"card__info_desc"],[1,"info__desc_ing"],[1,"info__desc_weight"],[1,"card__info_order"],[1,"info__order_price"],[1,"order__price_bold"],[1,"info__order_count"],[1,"order__count_minus","order__count_btn",3,"click"],[1,"order__count_text"],[1,"order__count_plus","order__count_btn",3,"click"],["type","button",1,"info__order_button",3,"click"]],template:function(r,i){1&r&&(g(0,"div",0)(1,"div",0)(2,"div",1)(3,"div",2)(4,"div",3)(5,"div",4)(6,"h1",5),_(7,"\u041f\u0456\u0434\u0432\u0438\u0449\u0443\u0439\u0442\u0435 \u0441\u0432\u043e\u044e \u0444\u0456\u0437\u0438\u0447\u043d\u0443 \u0444\u043e\u0440\u043c\u0443"),p(),g(8,"p",6),_(9,"\u0417\u0440\u043e\u0431\u0456\u0442\u044c \u043a\u0440\u043e\u043a \u0434\u043e \u0437\u0434\u043e\u0440\u043e\u0432\u043e\u0433\u043e \u0441\u043f\u043e\u0441\u043e\u0431\u0443 \u0436\u0438\u0442\u0442\u044f \u0437 \u043d\u0430\u0448\u0438\u043c\u0438 \u0441\u0443\u0447\u0430\u0441\u043d\u0438\u043c\u0438 \u0444\u0456\u0442\u043d\u0435\u0441-\u0431\u0440\u0430\u0441\u043b\u0435\u0442\u0430\u043c\u0438 - \u0432\u0430\u0448\u0430 \u043f\u043e\u0434\u043e\u0440\u043e\u0436 \u0434\u043e \u0437\u0434\u043e\u0440\u043e\u0432'\u044f \u043f\u043e\u0447\u0438\u043d\u0430\u0454\u0442\u044c\u0441\u044f \u0442\u0443\u0442."),p(),g(10,"button",7),_(11,"\u0414\u0435\u0442\u0430\u043b\u044c\u043d\u0456\u0448\u0435"),p()()(),g(12,"div",8),H(13,"img",9),p()()(),g(14,"div",10)(15,"h3",11),_(16,"\u0412 \u0446\u0438\u0444\u0440\u0430\u0445"),p(),g(17,"h6",12),_(18,"\u0414\u0456\u0437\u043d\u0430\u0439\u0442\u0435\u0441\u044f, \u044f\u043a\u0438\u0439 \u0432\u043f\u043b\u0438\u0432 \u043c\u0430\u0454 FitBand Hub \u043d\u0430 \u0435\u043d\u0442\u0443\u0437\u0456\u0430\u0441\u0442\u0456\u0432 \u0437\u0434\u043e\u0440\u043e\u0432\u043e\u0433\u043e \u0441\u043f\u043e\u0441\u043e\u0431\u0443 \u0436\u0438\u0442\u0442\u044f \u0442\u0430 \u0442\u0430\u043a\u0438\u0445, \u044f\u043a \u0432\u0438, \u0449\u043e \u0434\u043e\u0441\u044f\u0433\u043b\u0438 \u0443\u0441\u043f\u0456\u0445\u0443. \u0426\u0438\u0444\u0440\u0438 \u043d\u0435 \u0431\u0440\u0435\u0448\u0443\u0442\u044c!"),p(),g(19,"div",13)(20,"div",14)(21,"h3"),_(22,"3000"),p(),g(23,"p"),_(24,"\u0429\u0430\u0441\u043b\u0438\u0432\u0438\u0445 \u043a\u043b\u0456\u0454\u043d\u0442\u0456\u0432"),p()(),g(25,"div",14)(26,"h3"),_(27,"500"),p(),g(28,"p"),_(29,"\u0412\u0456\u0434\u0433\u0443\u043a\u0438 \u0432 \u0406\u043d\u0442\u0435\u0440\u043d\u0435\u0442\u0456"),p()(),g(30,"div",14)(31,"h3"),_(32,"50"),p(),g(33,"p"),_(34,"\u041a\u0440\u0430\u0457\u043d, \u0449\u043e \u043e\u0431\u0441\u043b\u0443\u0433\u043e\u0432\u0443\u044e\u0442\u044c\u0441\u044f"),p()()()(),g(35,"div",10)(36,"div",15),_(37,"\u0422\u043e\u0432\u0430\u0440\u0438"),p()(),g(38,"div",16),B(39,Jfe,29,16,"div",17),p()()()),2&r&&(I(39),P("ngForOf",i.homeProducts))},dependencies:[yn,On,Pc],styles:[".titles[_ngcontent-%COMP%]{text-align:center;font-size:36px;font-family:Playfair Display;font-weight:700;text-transform:uppercase}.product__wrapper_title[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}.product__wrapper_nav[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;margin-top:60px}.product__text_title[_ngcontent-%COMP%]{font-size:50px;font-weight:700;color:#5a5a5a;border-top:5px solid #b5d8f7}.product__nav[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}.product__main_wrapper[_ngcontent-%COMP%]{margin-top:40px;display:flex;align-items:center;gap:1%;flex-wrap:wrap}.product__card[_ngcontent-%COMP%]{width:24%;height:400px;padding:14px;display:flex;align-items:center;justify-content:space-between;flex-direction:column;border:2px solid transparent;border-radius:6px;margin-top:1.5%}.product__card[_ngcontent-%COMP%]:hover{animation-name:_ngcontent-%COMP%_borderFill;animation-duration:1s;animation-iteration-count:1;animation-fill-mode:forwards}.product__card_image[_ngcontent-%COMP%]{height:100%;width:100%;object-fit:contain;cursor:pointer}.container[_ngcontent-%COMP%]{max-width:96%;margin:40px auto}@keyframes _ngcontent-%COMP%_borderFill{25%{border-top:2px solid #b5d8f7}50%{border-top:2px solid #b5d8f7;border-right:2px solid #b5d8f7}75%{border-top:2px solid #b5d8f7;border-right:2px solid #b5d8f7;border-bottom:2px solid #b5d8f7}to{border:2px solid #b5d8f7}}.nav__list_item[_ngcontent-%COMP%]{width:168px;height:60px;border:1px solid lightgray;display:flex;align-items:center;justify-content:center;color:#252525;font-size:16px;font-weight:700}.nav__list_active[_ngcontent-%COMP%]{border-top:4px solid #b5d8f7;border-left:none;border-bottom:none;border-right:none}.card__image_wrapper[_ngcontent-%COMP%]{height:50%;width:100%;display:flex;align-items:center;justify-content:center}.card__info_wrapper[_ngcontent-%COMP%]{width:100%;height:42%;display:flex;align-items:center;justify-content:space-between;flex-direction:column}.card__info_title[_ngcontent-%COMP%]{font-size:20px;color:#252525;cursor:pointer}.card__info_desc[_ngcontent-%COMP%], .card__info_order[_ngcontent-%COMP%]{width:100%;display:flex;align-items:center;justify-content:space-between}.info__desc_weight[_ngcontent-%COMP%]{color:#5a5a5a}.info__order_count[_ngcontent-%COMP%]{width:100px;height:46px;border:1px solid lightgray;border-radius:8px;display:flex;align-items:center;justify-content:space-between;padding:0 4px}.info__order_button[_ngcontent-%COMP%]{width:110px;height:46px;background:#b5d8f7;border:2px solid #b5d8f7;border-radius:8px;font-size:13px;font-weight:700;text-transform:uppercase;color:#252525;cursor:pointer;transition:.4s}.info__order_button[_ngcontent-%COMP%]:hover{background:none}.order__price_bold[_ngcontent-%COMP%]{font-weight:700;color:#252525}.order__count_btn[_ngcontent-%COMP%]{width:26px;height:32px;background:none;border:none;font-size:20px;color:#252525;border-radius:10px;cursor:pointer;transition:.3s}.order__count_btn[_ngcontent-%COMP%]:hover{background:#b5d8f7}.statistics[_ngcontent-%COMP%]{height:100px;padding:5px 30px 0;width:100%;background:#102327;display:flex;justify-content:space-between;align-items:center;color:#fff}.statistics_item[_ngcontent-%COMP%]{text-align:center}"]})}return t})(),ES=(()=>{class t{constructor(n,r){this.http=n,this.afs=r,this.discountCollection=fp(this.afs,"discounts")}getAllFirebase(){return wy(this.discountCollection,{idField:"id"})}getOneFirebase(n){const r=gr(this.afs,`discounts/${n}`);return Iy(r,{idField:"id"})}createFirebase(n){return vS(this.discountCollection,n)}updateFirebase(n,r){const i=gr(this.afs,`discounts/${r}`);return Hl(i,{...n})}deleteFirebase(n){const r=gr(this.afs,`discounts/${n}`);return bS(r)}static#e=this.\u0275fac=function(r){return new(r||t)(j(Fc),j(Wr))};static#t=this.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const Zfe=function(t){return["/discount",t]};function Xfe(t,e){if(1&t&&(g(0,"div",4)(1,"div",5),H(2,"img",6),g(3,"h4",7),_(4),p(),H(5,"div",8),g(6,"div",9)(7,"a",10),_(8,"\u0414\u0435\u0442\u0430\u043b\u044c\u043d\u0456\u0448\u0435"),p()()()()),2&t){const n=e.$implicit;I(2),P("src",n.imagePath,sr),I(2),re(n.name),I(3),P("routerLink",_a(3,Zfe,n.id))}}function epe(t,e){if(1&t&&(ur(0),B(1,Xfe,9,5,"div",3),cr()),2&t){const n=U();I(1),P("ngForOf",n.userDiscount)}}function tpe(t,e){1&t&&(ur(0),g(1,"div",11),H(2,"div",12),g(3,"div",13)(4,"h1"),_(5,"\u0417\u0430\u0440\u0430\u0437 \u043d\u0435\u043c\u0430\u0454 \u0430\u043a\u0446\u0456\u0439"),p()(),H(6,"div",14),p(),cr())}let npe=(()=>{class t{constructor(n){this.discountService=n,this.userDiscount=[]}ngOnInit(){this.getDiscounts()}getDiscounts(){this.discountService.getAllFirebase().subscribe(n=>{this.userDiscount=n})}static#e=this.\u0275fac=function(r){return new(r||t)(E(ES))};static#t=this.\u0275cmp=Ue({type:t,selectors:[["app-discount"]],decls:4,vars:2,consts:[[1,"container","mt-4","mb-4"],[1,"row"],[4,"ngIf"],["class","col-6 mt-2",4,"ngFor","ngForOf"],[1,"col-6","mt-2"],[1,"card","w-100"],["alt","...",1,"card-img-top",3,"src"],[1,"name","text-center"],[1,"underline"],[1,"card-body","text-center"],["href","#",1,"btn","btn-primary",3,"routerLink"],[1,"card","text-center"],[1,"card-header"],[1,"card-body"],[1,"card-footer","text-body-secondary"]],template:function(r,i){1&r&&(g(0,"div",0)(1,"div",1),B(2,epe,2,1,"ng-container",2),B(3,tpe,7,0,"ng-container",2),p()()),2&r&&(I(2),P("ngIf",i.userDiscount.length>0),I(1),P("ngIf",0===i.userDiscount.length))},dependencies:[yn,On,Ss]})}return t})(),rpe=(()=>{class t{constructor(n,r){this.discountService=n,this.activatedRoute=r}ngOnInit(){this.getOneDiscount()}getOneDiscount(){const n=this.activatedRoute.snapshot.paramMap.get("id");this.discountService.getOneFirebase(n).subscribe(r=>{this.discount=r})}static#e=this.\u0275fac=function(r){return new(r||t)(E(ES),E(ko))};static#t=this.\u0275cmp=Ue({type:t,selectors:[["app-discount-info"]],decls:9,vars:3,consts:[[1,"container","mb-4","mt-4"],[1,"col-12","mt-2",2,"display","flex","justify-content","center"],[1,"card","w-50"],["alt","...",1,"card-img-top",3,"src"],[1,"card-body","text-center"]],template:function(r,i){1&r&&(g(0,"div",0)(1,"div",1)(2,"div",2),H(3,"img",3),g(4,"div",4)(5,"h1"),_(6),p(),g(7,"p"),_(8),p()()()()()),2&r&&(I(3),P("src",null==i.discount?null:i.discount.imagePath,sr),I(3),re(null==i.discount?null:i.discount.name),I(2),re(null==i.discount?null:i.discount.description))}})}return t})();function ipe(t,e){1&t&&(g(0,"span"),_(1,"..."),p())}function ope(t,e){1&t&&(g(0,"span"),_(1,"..."),p())}const spe=function(t,e){return["/product",t,e]};function ape(t,e){if(1&t){const n=tt();g(0,"div",3)(1,"div",4),H(2,"img",5),p(),g(3,"div",6)(4,"h3",7),_(5),ps(6,"slice"),B(7,ipe,2,0,"span",8),p(),g(8,"div",9)(9,"p",10),_(10),ps(11,"slice"),B(12,ope,2,0,"span",8),p(),g(13,"h4",11),_(14),p()(),g(15,"div",12)(16,"p",13)(17,"span",14),_(18),p(),_(19," \u0433\u0440\u043d"),p(),g(20,"div",15)(21,"button",16),K("click",function(){const o=we(n).$implicit;return Ie(U().countOfProduct(o,!1))}),_(22,"-"),p(),g(23,"span",17),_(24),p(),g(25,"button",18),K("click",function(){const o=we(n).$implicit;return Ie(U().countOfProduct(o,!0))}),_(26,"+"),p()(),g(27,"button",19),K("click",function(){const o=we(n).$implicit;return Ie(U().addProductToBasket(o))}),_(28,"\u0417\u0430\u043c\u043e\u0432\u0438\u0442\u0438"),p()()()()}if(2&t){const n=e.$implicit;I(1),P("routerLink",Tc(17,spe,n.category.path,n.id)),I(1),bc("src",n.imagePath,sr),I(3),Nn(" ",gs(6,9,n.name,0,22)," "),I(2),P("ngIf",n.name.length>22),I(3),Nn(" ",gs(11,13,n.description,0,30)," "),I(2),P("ngIf",n.description.length>30),I(2),re(n.produced),I(4),re(n.price),I(6),re(n.count)}}let upe=(()=>{class t{constructor(n,r,i,o){this.productService=n,this.activatedRoute=r,this.orderService=i,this.router=o,this.userProducts=[],this.total=0}ngOnInit(){this.eventSubscription=this.router.events.subscribe(n=>{n instanceof Mo&&this.getProducts()}),this.getProducts()}getProducts(){const n=this.activatedRoute.snapshot.paramMap.get("category");this.productService.getAllByCategoryFirebase(n).subscribe(r=>{this.userProducts=r})}addProductToBasket(n){let r=[];if(localStorage.length>0&&localStorage.getItem("basket"))if(r=JSON.parse(localStorage.getItem("basket")),r.some(i=>i.id===n.id)){const i=r.findIndex(o=>o.id===n.id);r[i].count+=n.count}else r.push(n);else r.push(n);localStorage.setItem("basket",JSON.stringify(r)),n.count=1,this.orderService.changeBasket.next(!0)}countOfProduct(n,r){r?++n.count:!r&&n.count>1&&--n.count}static#e=this.\u0275fac=function(r){return new(r||t)(E(Ty),E(ko),E(vp),E(Vn))};static#t=this.\u0275cmp=Ue({type:t,selectors:[["app-product"]],decls:3,vars:1,consts:[[1,"container"],[1,"product__main_wrapper"],["class","product__card","style","border: 1px solid black;",4,"ngFor","ngForOf"],[1,"product__card",2,"border","1px solid black"],[1,"card__image_wrapper",3,"routerLink"],["alt","",1,"product__card_image",3,"src"],[1,"card__info_wrapper"],[1,"card__info_title"],[4,"ngIf"],[1,"card__info_desc"],[1,"info__desc_ing"],[1,"info__desc_weight"],[1,"card__info_order"],[1,"info__order_price"],[1,"order__price_bold"],[1,"info__order_count"],[1,"order__count_minus","order__count_btn",3,"click"],[1,"order__count_text"],[1,"order__count_plus","order__count_btn",3,"click"],["type","button",1,"info__order_button",3,"click"]],template:function(r,i){1&r&&(g(0,"div",0)(1,"div",1),B(2,ape,29,20,"div",2),p()()),2&r&&(I(2),P("ngForOf",i.userProducts))},dependencies:[yn,On,Ss,Pc],styles:["*[_ngcontent-%COMP%]:before, *[_ngcontent-%COMP%]:after{box-sizing:inherit;margin:0;padding:0;font-family:Comfortaa,sans-serif}a[_ngcontent-%COMP%]{text-decoration:none}ul[_ngcontent-%COMP%], ol[_ngcontent-%COMP%], li[_ngcontent-%COMP%]{list-style:none}.product__wrapper_title[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}.product__wrapper_nav[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;margin-top:60px}.product__text_title[_ngcontent-%COMP%]{font-size:50px;font-weight:700;color:#5a5a5a;border-top:5px solid #b5d8f7}.product__nav[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}.product__main_wrapper[_ngcontent-%COMP%]{margin-top:40px;display:flex;align-items:center;gap:1%;flex-wrap:wrap}.product__card[_ngcontent-%COMP%]{width:24%;height:400px;padding:14px;display:flex;align-items:center;justify-content:space-between;flex-direction:column;border:2px solid transparent;border-radius:6px;margin-top:1.5%}.product__card[_ngcontent-%COMP%]:hover{animation-name:_ngcontent-%COMP%_borderFill;animation-duration:1s;animation-iteration-count:1;animation-fill-mode:forwards}.product__card_image[_ngcontent-%COMP%]{height:100%;width:100%;object-fit:contain;cursor:pointer}.container[_ngcontent-%COMP%]{max-width:96%;margin:40px auto}@keyframes _ngcontent-%COMP%_borderFill{25%{border-top:2px solid #b5d8f7}50%{border-top:2px solid #b5d8f7;border-right:2px solid #b5d8f7}75%{border-top:2px solid #b5d8f7;border-right:2px solid #b5d8f7;border-bottom:2px solid #b5d8f7}to{border:2px solid #b5d8f7}}.nav__list_item[_ngcontent-%COMP%]{width:168px;height:60px;border:1px solid lightgray;display:flex;align-items:center;justify-content:center;color:#252525;font-size:16px;font-weight:700}.nav__list_active[_ngcontent-%COMP%]{border-top:4px solid #b5d8f7;border-left:none;border-bottom:none;border-right:none}.card__image_wrapper[_ngcontent-%COMP%]{height:50%;width:100%;display:flex;align-items:center;justify-content:center}.card__info_wrapper[_ngcontent-%COMP%]{width:100%;height:42%;display:flex;align-items:center;justify-content:space-between;flex-direction:column}.card__info_title[_ngcontent-%COMP%]{font-size:20px;color:#252525;cursor:pointer}.card__info_desc[_ngcontent-%COMP%], .card__info_order[_ngcontent-%COMP%]{width:100%;display:flex;align-items:center;justify-content:space-between}.info__desc_weight[_ngcontent-%COMP%]{color:#5a5a5a}.info__order_count[_ngcontent-%COMP%]{width:100px;height:46px;border:1px solid lightgray;border-radius:8px;display:flex;align-items:center;justify-content:space-between;padding:0 4px}.info__order_button[_ngcontent-%COMP%]{width:110px;height:46px;background:#c2ffa4;border:2px solid #c2ffa4;border-radius:8px;font-size:13px;font-weight:700;text-transform:uppercase;color:#252525;cursor:pointer;transition:.4s}.info__order_button[_ngcontent-%COMP%]:hover{background:none}.order__price_bold[_ngcontent-%COMP%]{font-weight:700;color:#252525}.order__count_btn[_ngcontent-%COMP%]{width:26px;height:32px;background:none;border:none;font-size:20px;color:#252525;border-radius:10px;cursor:pointer;transition:.3s}.order__count_btn[_ngcontent-%COMP%]:hover{background:#b5d8f7}"]})}return t})(),cpe=(()=>{class t{constructor(n,r,i){this.productService=n,this.activatedRoute=r,this.orderService=i}ngOnInit(){this.getOneProduct()}getOneProduct(){const n=this.activatedRoute.snapshot.paramMap.get("id");this.productService.getOneFirebase(n).subscribe(r=>{r&&(this.product=r)})}addToBasket(n){let r=[];if(localStorage.length>0&&localStorage.getItem("basket"))if(r=JSON.parse(localStorage.getItem("basket")),r.some(i=>i.id===n.id)){const i=r.findIndex(o=>o.id===n.id);r[i].count+=n.count}else r.push(n);else r.push(n);localStorage.setItem("basket",JSON.stringify(r)),n.count=1,this.orderService.changeBasket.next(!0)}countOfProduct(n,r){r?++n.count:!r&&n.count>1&&--n.count}static#e=this.\u0275fac=function(r){return new(r||t)(E(Ty),E(ko),E(vp))};static#t=this.\u0275cmp=Ue({type:t,selectors:[["app-product-info"]],decls:52,vars:11,consts:[[1,"container"],[1,"product__wrapper"],[1,"product__info_item"],[1,"product__image_wrapper"],["alt","",1,"product__image_item",3,"src"],[1,"product__desc_wrapper"],[1,"product__desc_title"],[1,"fs-3"],[1,"fs-4"],[1,"product__desc_info"],[1,"product__desc_sum"],[1,"desc__sum_text"],[1,"desc__sum_item"],[1,"product__desc_count"],[1,"desc__count_minus","desc__count_btn",3,"click"],[1,"desc__count_text"],[1,"desc__count_plus","desc__count_btn",3,"click"],[1,"product__desc_basket"],["type","button",1,"desc__basket_button",3,"click"]],template:function(r,i){1&r&&(g(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),H(4,"img",4),p(),g(5,"div",5)(6,"h2",6),_(7),p(),g(8,"p",7),_(9,"\u0422\u0438\u043f \u043c\u0430\u0442\u0440\u0438\u0446\u0456: "),g(10,"span",8),_(11),p()(),g(12,"p",7),_(13,"\u0420\u043e\u0437\u043c\u0456\u0440 \u0434\u0456\u0441\u043f\u043b\u0435\u044f: "),g(14,"span",8),_(15),p()(),g(16,"p",7),_(17,"\u041f\u0430\u043c\u044f\u0442\u044c: "),g(18,"span",8),_(19),p()(),g(20,"p",7),_(21,"\u0422\u0438\u043f \u0437\u0430\u0440\u044f\u0434\u043a\u0438: "),g(22,"span",8),_(23),p()(),g(24,"p",7),_(25,"\u041c\u0430\u0442\u0435\u0440\u0456\u0430\u043b \u043a\u043e\u0440\u043f\u0443\u0441\u0430: "),g(26,"span",8),_(27),p()(),g(28,"p",7),_(29,"Bluetooth: "),g(30,"span",8),_(31),p()(),g(32,"p",7),_(33,"\u0412\u0438\u0440\u043e\u0431\u043b\u0435\u043d\u043e: "),g(34,"span",8),_(35),p()(),g(36,"div",9)(37,"div",10)(38,"p",11)(39,"span",12),_(40),p(),_(41," \u0433\u0440\u043d"),p()(),g(42,"div",13)(43,"button",14),K("click",function(){return i.countOfProduct(i.product,!1)}),_(44,"-"),p(),g(45,"span",15),_(46),p(),g(47,"button",16),K("click",function(){return i.countOfProduct(i.product,!0)}),_(48,"+"),p()(),g(49,"div",17)(50,"button",18),K("click",function(){return i.addToBasket(i.product)}),_(51,"\u0417\u0430\u043c\u043e\u0432\u0438\u0442\u0438"),p()()()()()()()),2&r&&(I(4),P("src",null==i.product?null:i.product.imagePath,sr),I(3),re(null==i.product?null:i.product.name),I(4),re(null==i.product?null:i.product.matrix),I(4),re(null==i.product?null:i.product.display),I(4),re(null==i.product?null:i.product.memory),I(4),re(null==i.product?null:i.product.chargingMethod),I(4),re(null==i.product?null:i.product.material),I(4),re(null==i.product?null:i.product.bluetooth),I(4),re(null==i.product?null:i.product.produced),I(5),re(null==i.product?null:i.product.price),I(6),re(null==i.product?null:i.product.count))},styles:[".product__wrapper[_ngcontent-%COMP%]{max-width:70%;margin:120px auto}.product__info_item[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between}.product__nav_list[_ngcontent-%COMP%]{display:flex;align-items:center;gap:30px}.product__image_wrapper[_ngcontent-%COMP%]{width:50%}.product__image_item[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:contain}.product__desc_wrapper[_ngcontent-%COMP%]{width:44%;height:100%;display:flex;justify-content:space-between;flex-direction:column}.product__desc_title[_ngcontent-%COMP%]{font-size:42px;font-weight:700}.product__desc_text[_ngcontent-%COMP%]{margin-top:20px}.product__desc_bold[_ngcontent-%COMP%]{font-weight:700;color:#b5d8f7}.product__desc_weight[_ngcontent-%COMP%]{margin-top:12px}.product__desc_info[_ngcontent-%COMP%]{width:100%;display:flex;align-items:center;justify-content:space-between;margin-top:50px}.product__desc_count[_ngcontent-%COMP%]{width:120px;height:46px;border:1px solid lightgray;border-radius:8px;display:flex;align-items:center;justify-content:space-between;padding:0 4px}.product__weight_bold[_ngcontent-%COMP%]{font-weight:700;color:#b5d8f7}.container[_ngcontent-%COMP%]{max-width:94%;margin:30px auto}.nav__list_item[_ngcontent-%COMP%]:not(:first-child){list-style-type:disc}.list__item_link[_ngcontent-%COMP%]{font-size:14px;color:#252525}.desc__weight_text[_ngcontent-%COMP%]{color:#252525}.desc__sum_text[_ngcontent-%COMP%]{font-size:18px;color:#252525}.desc__sum_item[_ngcontent-%COMP%]{font-weight:700;font-size:20px}.desc__count_btn[_ngcontent-%COMP%]{width:32px;height:32px;background:none;border:none;font-size:20px;color:#252525;border-radius:10px;cursor:pointer;transition:.3s}.desc__count_btn[_ngcontent-%COMP%]:hover{background:#b5d8f7}.desc__basket_button[_ngcontent-%COMP%]{width:110px;height:46px;background:#c2ffa4;border:2px solid #c2ffa4;border-radius:8px;font-size:13px;font-weight:700;text-transform:uppercase;color:#252525;cursor:pointer;transition:.4s}.desc__basket_button[_ngcontent-%COMP%]:hover{background:none}"]})}return t})(),lpe=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275cmp=Ue({type:t,selectors:[["app-delivery"]],decls:49,vars:0,consts:[[1,"container","mt-4","mb-4"],[2,"display","flex","align-items","center","justify-content","center"],[1,"title"],[1,"info"],[2,"margin-left","20px"]],template:function(r,i){1&r&&(g(0,"div",0)(1,"div",1)(2,"p",2),_(3,"\u0414\u043e\u0441\u0442\u0430\u0432\u043a\u0430 \u0442\u0430 \u043e\u043f\u043b\u0430\u0442\u0430"),p()(),g(4,"div",3)(5,"div")(6,"h4"),_(7,"\u042f\u043a \u043e\u0444\u043e\u0440\u043c\u0438\u0442\u0438?"),p(),g(8,"div",4),_(9," \u041e\u0444\u043e\u0440\u043c\u0438\u0442\u0438 \u0437\u0430\u043c\u043e\u0432\u043b\u0435\u043d\u043d\u044f \u043d\u0430 \u0441\u0430\u0439\u0442\u0456 Shop \u0432\u0438 \u043c\u043e\u0436\u0435\u0442\u0435 \u0446\u0456\u043b\u043e\u0434\u043e\u0431\u043e\u0432\u043e. "),g(10,"p"),_(11," \u041c\u0438 \u043d\u0435 \u0431\u0443\u0434\u0435\u043c\u043e \u0432\u0430\u0441 \u0442\u0443\u0440\u0431\u0443\u0432\u0430\u0442\u0438 \u0456 \u0434\u0437\u0432\u043e\u043d\u0438\u0442\u0438 \u043f\u043e \u0442\u0435\u043b\u0435\u0444\u043e\u043d\u0443, \u044f\u043a\u0449\u043e \u0432\u0438 \u043d\u0435 \u0431\u0430\u0436\u0430\u0454\u0442\u0435 \u0437\u0432'\u044f\u0437\u043a\u0443 \u0437 \u043d\u0430\u043c\u0438. "),p(),g(12,"p"),_(13," \u041d\u0430\u0439\u0431\u043b\u0438\u0436\u0447\u0438\u043c \u0447\u0430\u0441\u043e\u043c \u0432\u0438 \u043e\u0442\u0440\u0438\u043c\u0430\u0454\u0442\u0435 \u043f\u043e\u0432\u0456\u0434\u043e\u043c\u043b\u0435\u043d\u043d\u044f \u0437 \u0456\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0456\u0454\u044e \u0449\u043e\u0434\u043e \u0437\u0430\u043c\u043e\u0432\u043b\u0435\u043d\u043d\u044f, \u0430\u0431\u043e \u043d\u0430\u0439\u0431\u043b\u0438\u0436\u0447\u0438\u043c \u0447\u0430\u0441\u043e\u043c \u0437 \u0432\u0430\u043c\u0438 \u0437\u0432'\u044f\u0436\u0435\u0442\u044c\u0441\u044f \u043d\u0430\u0448 \u043f\u0430\u0440\u0442\u043d\u0435\u0440 \u0434\u043b\u044f \u0443\u0442\u043e\u0447\u043d\u0435\u043d\u043d\u044f \u0434\u0430\u043d\u0438\u0445 \u0449\u043e\u0434\u043e \u0437\u0430\u043c\u043e\u0432\u043b\u0435\u043d\u043d\u044f. "),p(),g(14,"p"),_(15," \u0417 \u0431\u0443\u0434\u044c-\u044f\u043a\u0438\u0445 \u043f\u0438\u0442\u0430\u043d\u044c \u0432\u0438 \u0437\u0430\u0432\u0436\u0434\u0438 \u043c\u043e\u0436\u0435\u0442\u0435 \u0437\u0432'\u044f\u0437\u0430\u0442\u0438\u0441\u044f \u0437 \u043d\u0430\u043c\u0438 \u0437\u0430 \u0442\u0435\u043b\u0435\u0444\u043e\u043d\u043e\u043c 0(800)300-100 (\u0431\u0435\u0437\u043a\u043e\u0448\u0442\u043e\u0432\u043d\u043e) \u0430\u0431\u043e \u043d\u0430\u043f\u0438\u0448\u0456\u0442\u044c \u043d\u0430\u043c \u0443 \u0447\u0430\u0442, \u043c\u0438 \u0434\u0443\u0436\u0435 \u0441\u043a\u043e\u0440\u043e \u0432\u0430\u043c \u0432\u0456\u0434\u043f\u043e\u0432\u0456\u043c\u043e. "),p()()(),g(16,"div")(17,"h4"),_(18,"\u042f\u043a \u043f\u043e\u043b\u0443\u0447\u0438\u0442\u0438 \u0442\u043e\u0432\u0430\u0440?"),p(),g(19,"div",4)(20,"h5"),_(21,"\u0412\u0441\u0435 \u043f\u0440\u043e \u0434\u043e\u0441\u0442\u0430\u0432\u043a\u0443 \u0442\u043e\u0432\u0430\u0440\u0443"),p(),g(22,"ul")(23,"li"),_(24,' \u041c\u0438 \u043d\u0430\u0434\u0441\u0438\u043b\u0430\u0454\u043c\u043e \u0442\u043e\u0432\u0430\u0440\u0438 \u041d\u043e\u0432\u043e\u044e \u043f\u043e\u0448\u0442\u043e\u044e \u0442\u0430 \u0423\u043a\u0440\u043f\u043e\u0448\u0442\u043e\u044e. \u0429\u043e\u0431 \u0437\u0430\u043c\u043e\u0432\u043b\u0435\u043d\u043d\u044f \u043f\u043e\u0457\u0445\u0430\u0432 \u043a\u043b\u0456\u0454\u043d\u0442\u0443 \u0446\u044c\u043e\u0433\u043e \u0436 \u0434\u043d\u044f, \u0432\u0438 \u043f\u043e\u0432\u0438\u043d\u043d\u0456 "\u0432\u0441\u0442\u0438\u0433\u043d\u0443\u0442\u0438" \u0437\u0440\u043e\u0431\u0438\u0442\u0438 \u0437\u0430\u043c\u043e\u0432\u043b\u0435\u043d\u043d\u044f \u0434\u043e \u043f\u0435\u0432\u043d\u043e\u0433\u043e \u0447\u0430\u0441\u0443. \u0406\u043d\u0430\u043a\u0448\u0435 \u0437\u0430\u043c\u043e\u0432\u043b\u0435\u043d\u043d\u044f \u0431\u0443\u0434\u0435 \u043d\u0430\u0434\u0456\u0441\u043b\u0430\u043d\u043e \u043d\u0430\u0441\u0442\u0443\u043f\u043d\u043e\u0433\u043e \u0434\u043d\u044f. '),p(),g(25,"li"),_(26," \u0422\u0440\u0438\u0432\u0430\u043b\u0456\u0441\u0442\u044c \u0434\u043e\u0441\u0442\u0430\u0432\u043a\u0438: \u041d\u043e\u0432\u0430 \u043f\u043e\u0448\u0442\u0430 \u0443 \u0431\u0456\u043b\u044c\u0448\u043e\u0441\u0442\u0456 \u0432\u0438\u043f\u0430\u0434\u043a\u0456\u0432 \u0434\u043e\u0441\u0442\u0430\u0432\u043b\u044f\u0454 \u0442\u043e\u0432\u0430\u0440 \u043d\u0430\u0441\u0442\u0443\u043f\u043d\u043e\u0433\u043e \u0434\u043d\u044f \u0430\u0431\u043e \u0447\u0435\u0440\u0435\u0437 1 \u0434\u0435\u043d\u044c. \u0423\u043a\u0440\u043f\u043e\u0448\u0442\u0430 \u0434\u043e\u0441\u0442\u0430\u0432\u043b\u044f\u0454 \u0442\u043e\u0432\u0430\u0440 \u0434\u043e 7(!) \u0440\u043e\u0431\u043e\u0447\u0438\u0445 \u0434\u043d\u0456\u0432, \u0437\u0430\u043b\u0435\u0436\u043d\u043e \u0432\u0456\u0434 \u0440\u0435\u0433\u0456\u043e\u043d\u0443 \u0432\u0430\u0448\u043e\u0433\u043e \u043a\u043b\u0456\u0454\u043d\u0442\u0430. Justin \u0434\u043e\u0441\u0442\u0430\u0432\u043b\u044f\u0454 \u0437\u0430\u043c\u043e\u0432\u043b\u0435\u043d\u043d\u044f \u043d\u0430 2-3 \u0434\u043d\u0456 \u043f\u0456\u0441\u043b\u044f \u0432\u0456\u0434\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u043d\u044f. \u0412\u0430\u0440\u0442\u0456\u0441\u0442\u044c \u0434\u043e\u0441\u0442\u0430\u0432\u043a\u0438 \u0437\u0430\u043b\u0435\u0436\u0438\u0442\u044c \u0432\u0456\u0434 \u043a\u043e\u043c\u043f\u0430\u043d\u0456\u0457 \u0442\u0430 \u0440\u043e\u0437\u043c\u0456\u0440\u0456\u0432 \u043f\u043e\u0441\u0438\u043b\u043a\u0438. \u041d\u043e\u0432\u0430 \u041f\u043e\u0448\u0442\u0430: \u0432\u0456\u0434 46 \u0433\u0440\u043d (\u044f\u043a\u0449\u043e \u043e\u043f\u043b\u0430\u0442\u0430 \u043f\u0440\u0438 \u043e\u0442\u0440\u0438\u043c\u0430\u043d\u043d\u0456, \u0442\u043e\u0434\u0456 \u0449\u0435 +20 \u0433\u0440\u043d. + 2% \u0432\u0456\u0434 \u0441\u0443\u043c\u0438 \u043f\u043e\u0441\u0438\u043b\u043a\u0438). \u0423\u043a\u0440\u043f\u043e\u0448\u0442\u0430: \u0432\u0456\u0434 30 \u0433\u0440\u043d. "),p()()()(),g(27,"div")(28,"h4"),_(29,"\u0427\u0430\u0441 \u0432\u0456\u0434\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u043d\u044f"),p(),g(30,"div",4)(31,"p"),_(32,"\u041d\u043e\u0432\u0430 \u041f\u043e\u0448\u0442\u0430"),p(),g(33,"ul")(34,"li"),_(35," \u0412\u0456\u0434\u043f\u0440\u0430\u0432\u043a\u0430 \u043f\u0456\u0441\u043b\u044f \u043e\u0444\u043e\u0440\u043c\u043b\u0435\u043d\u043d\u044f \u0437\u0430\u043c\u043e\u0432\u043b\u0435\u043d\u043d\u044f 1-2 \u0434\u043d\u044f "),p(),g(36,"li"),_(37," \u0412\u0456\u0434\u043f\u0440\u0430\u0432\u043a\u0430 \u041d\u043e\u0432\u043e\u0457 \u043f\u043e\u0448\u0442\u0438 \u0437 \u041f\u043d-\u0421\u0431"),p(),g(38,"li"),_(39,"\u041d\u0435\u0434\u0456\u043b\u044f - \u0432\u0438\u0445\u0456\u0434\u043d\u0438\u0439"),p()()()(),g(40,"div")(41,"h4"),_(42,"\u041e\u043f\u043b\u0430\u0442\u0430"),p(),g(43,"div",4)(44,"p"),_(45,"\u0412\u0438 \u043c\u043e\u0436\u0435\u0442\u0435 \u043e\u0431\u0440\u0430\u0442\u0438 \u0437\u0440\u0443\u0447\u043d\u0438\u0439 \u0434\u043b\u044f \u0432\u0430\u0441 \u0441\u043f\u043e\u0441\u0456\u0431 \u043e\u043f\u043b\u0430\u0442\u0438 \u0437\u0430\u043c\u043e\u0432\u043b\u0435\u043d\u043d\u044f:"),p(),g(46,"ul")(47,"li"),_(48,'\u041e\u043f\u043b\u0430\u0442\u0430 \u043f\u0440\u0438 \u043e\u0442\u0440\u0438\u043c\u0430\u043d\u043d\u0456 \u043d\u0430 "\u041d\u043e\u0432\u0456\u0439 \u043f\u043e\u0448\u0442\u0456"'),p()()()()()())},styles:[".title[_ngcontent-%COMP%]{font-size:42px;font-weight:700;color:#252525;border-top:5px solid #c4f5b9}"]})}return t})(),dpe=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275cmp=Ue({type:t,selectors:[["app-payment"]],decls:2,vars:0,template:function(r,i){1&r&&(g(0,"p"),_(1,"payment works!"),p())}})}return t})(),hpe=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275cmp=Ue({type:t,selectors:[["app-about"]],decls:26,vars:0,consts:[[1,"box"],[1,"about__section"],[1,"container"],[1,"wrapper__about"],[1,"about__main_info"],[1,"main__info_text"],[1,"about__main_title"],[1,"about__mono_title"],[1,"about__main_text"],[1,"about__main_get"],["src","/assets/sport2610-1.jpg","alt","","width","568px",1,"main__get_image"],[1,"main__get_text"],[1,"about__main_happy"],[1,"main__happy_text"],["src","/assets/TASS_45152948.jpg","width","568px","alt","",1,"main__happy_image"]],template:function(r,i){1&r&&(g(0,"div",0)(1,"section",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"h1",6),_(7,"\u041f\u0440\u043e \u043d\u0430\u0441"),p()(),g(8,"h2",7),_(9,"\u041b\u0430\u0441\u043a\u0430\u0432\u043e \u043f\u0440\u043e\u0441\u0438\u043c\u043e \u0434\u043e \u043d\u0430\u0448\u043e\u0433\u043e \u043c\u0430\u0433\u0430\u0437\u0438\u043d\u0443 \u0444\u0456\u0442\u043d\u0435\u0441-\u0431\u0440\u0430\u0441\u043b\u0435\u0442\u0456\u0432!"),p(),g(10,"p",8),_(11," \u0423 \u043d\u0430\u0448\u043e\u043c\u0443 \u043c\u0430\u0433\u0430\u0437\u0438\u043d\u0456 \u0444\u0456\u0442\u043d\u0435\u0441-\u0431\u0440\u0430\u0441\u043b\u0435\u0442\u0456\u0432, \u043d\u0430\u0448 \u0433\u043e\u043b\u043e\u0432\u043d\u0438\u0439 \u043f\u0440\u0456\u043e\u0440\u0438\u0442\u0435\u0442 - \u0446\u0435 \u0432\u0430\u0448\u0435 \u0437\u0434\u043e\u0440\u043e\u0432'\u044f \u0442\u0430 \u0430\u043a\u0442\u0438\u0432\u043d\u0456\u0441\u0442\u044c. \u041c\u0438 \u043f\u0440\u0430\u0446\u044e\u0454\u043c\u043e, \u0449\u043e\u0431 \u0437\u0430\u0431\u0435\u0437\u043f\u0435\u0447\u0438\u0442\u0438 \u0432\u0430\u0441 \u044f\u043a\u0456\u0441\u043d\u0438\u043c\u0438 \u043f\u0440\u043e\u0434\u0443\u043a\u0442\u0430\u043c\u0438, \u044f\u043a\u0456 \u0434\u043e\u043f\u043e\u043c\u043e\u0436\u0443\u0442\u044c \u0432\u0430\u043c \u0434\u043e\u0441\u044f\u0433\u0442\u0438 \u0441\u0432\u043e\u0457\u0445 \u0446\u0456\u043b\u0435\u0439 \u0443 \u0444\u0456\u0442\u043d\u0435\u0441\u0456 \u0442\u0430 \u043f\u0456\u0434\u0442\u0440\u0438\u043c\u0443\u0432\u0430\u0442\u0438 \u0430\u043a\u0442\u0438\u0432\u043d\u0438\u0439 \u043e\u0431\u0440\u0430\u0437 \u0436\u0438\u0442\u0442\u044f. "),p()(),g(12,"div",9),H(13,"img",10),g(14,"div",11)(15,"h2"),_(16,"\u041d\u0430\u0448\u0430 \u043c\u0456\u0441\u0456\u044f?"),p(),g(17,"p"),_(18," \u041d\u0430\u0448\u0430 \u043c\u0456\u0441\u0456\u044f - \u043d\u0430\u0434\u0430\u0432\u0430\u0442\u0438 \u0456\u043d\u0441\u0442\u0440\u0443\u043c\u0435\u043d\u0442\u0438 \u0442\u0430 \u043f\u0456\u0434\u0442\u0440\u0438\u043c\u043a\u0443, \u044f\u043a\u0456 \u0434\u043e\u043f\u043e\u043c\u043e\u0436\u0443\u0442\u044c \u043a\u043e\u0436\u043d\u043e\u043c\u0443 \u043d\u0430\u0448\u043e\u043c\u0443 \u043a\u043b\u0456\u0454\u043d\u0442\u0443 \u0434\u043e\u0441\u044f\u0433\u0442\u0438 \u0441\u0432\u043e\u0457\u0445 \u0444\u0456\u0442\u043d\u0435\u0441-\u0446\u0456\u043b\u0435\u0439 \u0456 \u0432\u0456\u0434\u0447\u0443\u0432\u0430\u0442\u0438 \u0441\u0435\u0431\u0435 \u043a\u0440\u0430\u0449\u0435 \u043a\u043e\u0436\u0435\u043d \u0434\u0435\u043d\u044c. \u041c\u0438 \u043f\u0440\u0430\u0446\u044e\u0454\u043c\u043e, \u0449\u043e\u0431 \u0432\u0430\u0448\u0435 \u0437\u0434\u043e\u0440\u043e\u0432'\u044f \u0441\u0442\u0430\u043b\u043e \u043f\u0435\u0440\u0448\u043e\u0447\u0435\u0440\u0433\u043e\u0432\u0438\u043c \u043f\u0440\u0456\u043e\u0440\u0438\u0442\u0435\u0442\u043e\u043c, \u0456 \u0432\u0430\u0448\u0456 \u0434\u043e\u0441\u044f\u0433\u043d\u0435\u043d\u043d\u044f \u0443 \u0444\u0456\u0442\u043d\u0435\u0441\u0456 \u0431\u0443\u043b\u0438 \u0432\u0430\u043b\u0456\u0434\u043e\u0432\u0430\u043d\u0456 \u0442\u0430 \u043f\u0456\u0434\u0442\u0440\u0438\u043c\u0430\u043d\u0456 \u043d\u0430\u0448\u0438\u043c\u0438 \u043f\u0440\u043e\u0434\u0443\u043a\u0442\u0430\u043c\u0438 \u0442\u0430 \u0441\u0435\u0440\u0432\u0456\u0441\u043e\u043c. \u041f\u0440\u0438\u0454\u0434\u043d\u0443\u0439\u0442\u0435\u0441\u044f \u0434\u043e \u043d\u0430\u0448\u043e\u0457 \u0441\u043f\u0456\u043b\u044c\u043d\u043e\u0442\u0438, \u0434\u0435 \u043a\u043e\u0436\u0435\u043d \u043a\u0440\u043e\u043a \u0434\u043e \u0437\u0434\u043e\u0440\u043e\u0432\u043e\u0433\u043e \u0436\u0438\u0442\u0442\u044f \u0432\u0430\u0436\u043b\u0438\u0432\u0438\u0439 \u0456 \u043f\u0456\u0434\u0442\u0440\u0438\u043c\u0443\u0454\u0442\u044c\u0441\u044f \u043d\u0430\u0448\u0438\u043c \u0433\u043e\u043b\u043e\u0432\u043d\u0438\u043c \u043f\u0440\u0456\u043e\u0440\u0438\u0442\u0435\u0442\u043e\u043c - \u0432\u0430\u0448\u0438\u043c \u0437\u0434\u043e\u0440\u043e\u0432'\u044f\u043c \u0456 \u0441\u0430\u043c\u043e\u043f\u043e\u0447\u0443\u0442\u0442\u044f\u043c. "),p()()(),g(19,"div",12)(20,"div",13)(21,"h2"),_(22,"\u0425\u0442\u043e \u043c\u0438?"),p(),g(23,"p"),_(24," \u041c\u0438 - \u043a\u043e\u043c\u0430\u043d\u0434\u0430 \u0435\u043d\u0442\u0443\u0437\u0456\u0430\u0441\u0442\u0456\u0432, \u044f\u043a\u0456 \u0432\u0456\u0440\u044f\u0442\u044c \u0443 \u0437\u0434\u043e\u0440\u043e\u0432\u0438\u0439 \u0441\u043f\u043e\u0441\u0456\u0431 \u0436\u0438\u0442\u0442\u044f \u0442\u0430 \u0430\u043a\u0442\u0438\u0432\u043d\u0456\u0441\u0442\u044c \u043a\u043e\u0436\u043d\u043e\u0433\u043e \u0434\u043d\u044f. \u041d\u0430\u0448\u0430 \u043c\u0456\u0441\u0456\u044f - \u0434\u043e\u043f\u043e\u043c\u043e\u0433\u0442\u0438 \u0432\u0430\u043c \u0434\u043e\u0441\u044f\u0433\u0442\u0438 \u0441\u0432\u043e\u0457\u0445 \u0446\u0456\u043b\u0435\u0439 \u0443 \u0444\u0456\u0442\u043d\u0435\u0441\u0456, \u0442\u0440\u0438\u043c\u0430\u0442\u0438 \u043f\u0456\u0434 \u043a\u043e\u043d\u0442\u0440\u043e\u043b\u0435\u043c \u0441\u0432\u043e\u0454 \u0437\u0434\u043e\u0440\u043e\u0432'\u044f \u0456 \u043f\u0456\u0434\u0432\u0438\u0449\u0443\u0432\u0430\u0442\u0438 \u044f\u043a\u0456\u0441\u0442\u044c \u0441\u0432\u043e\u0433\u043e \u0436\u0438\u0442\u0442\u044f. \u0423 \u043d\u0430\u0448\u043e\u043c\u0443 \u0430\u0441\u043e\u0440\u0442\u0438\u043c\u0435\u043d\u0442\u0456 \u0432\u0438 \u0437\u043d\u0430\u0439\u0434\u0435\u0442\u0435 \u0448\u0438\u0440\u043e\u043a\u0438\u0439 \u0432\u0438\u0431\u0456\u0440 \u0444\u0456\u0442\u043d\u0435\u0441-\u0431\u0440\u0430\u0441\u043b\u0435\u0442\u0456\u0432 \u0432\u0456\u0434 \u043f\u0440\u043e\u0432\u0456\u0434\u043d\u0438\u0445 \u0432\u0438\u0440\u043e\u0431\u043d\u0438\u043a\u0456\u0432 \u0437 \u0443\u0441\u044c\u043e\u0433\u043e \u0441\u0432\u0456\u0442\u0443. \u041d\u0435\u0437\u0430\u043b\u0435\u0436\u043d\u043e \u0432\u0456\u0434 \u0442\u043e\u0433\u043e, \u0447\u0438 \u0432\u0438 \u043d\u043e\u0432\u0430\u0447\u043e\u043a \u0443 \u0441\u0432\u0456\u0442\u0456 \u0444\u0456\u0442\u043d\u0435\u0441\u0443, \u0430\u0431\u043e \u0432\u0436\u0435 \u0434\u043e\u0441\u0432\u0456\u0434\u0447\u0435\u043d\u0438\u0439 \u0441\u043f\u043e\u0440\u0442\u0441\u043c\u0435\u043d, \u043c\u0438 \u043c\u0430\u0454\u043c\u043e \u0432\u0456\u0434\u043f\u043e\u0432\u0456\u0434\u043d\u0438\u0439 \u0431\u0440\u0430\u0441\u043b\u0435\u0442 \u0434\u043b\u044f \u0432\u0430\u0441. "),p()(),H(25,"img",14),p()()()()())},styles:[".about__main_title[_ngcontent-%COMP%]{font-size:42px;font-weight:700;color:#252525;border-top:5px solid #c4f5b9}.about__main_text[_ngcontent-%COMP%]{width:67%;margin-top:30px;line-height:26px;color:#252525}.about__main_get[_ngcontent-%COMP%]{margin-top:100px;display:flex;align-items:center;justify-content:flex-start;gap:60px}.about__main_happy[_ngcontent-%COMP%]{margin-top:100px;display:flex;align-items:center;justify-content:flex-end;gap:60px}.about__mono_title[_ngcontent-%COMP%]{margin-top:40px;font-size:34px;font-weight:700;color:#252525}.about__mono_list[_ngcontent-%COMP%]{margin:30px 0 0 20px}.container[_ngcontent-%COMP%]{max-width:1200px;margin:50px auto 100px}.mono__list_item[_ngcontent-%COMP%]{color:#252525;list-style-type:disc;margin-top:10px}.main__get_image[_ngcontent-%COMP%], .main__happy_image[_ngcontent-%COMP%]{border-radius:10px}.main__info_text[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}"]})}return t})(),fpe=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275cmp=Ue({type:t,selectors:[["app-contacts"]],decls:68,vars:0,consts:[[1,"py-3","py-md-5"],[1,"container"],[1,"row"],[1,"col-12"],[2,"display","flex","align-items","center","justify-content","center"],[1,"title"],[1,"display-5",2,"text-align","center"],[1,"container","mt-3"],[1,"align-items-md-center"],[1,"content"],[1,"content_item","mb-4","mb-md-5","border","p-2","me-3"],[1,"mb-3"],["src","/assets/position.svg","alt","","height","32px","width","32px"],[1,"mb-2"],[1,"w-100","mb-3","border-dark-subtle"],[1,"m-0","text-secondary"],["src","/assets/alarm clock.svg","width","32","height","32","alt",""],[1,"d-flex","mb-1"],[1,"text-secondary","fw-bold","mb-0","me-5"],[1,"text-secondary","mb-0"],[1,"d-flex"],["src","/assets/phone-outgoing.svg","width","32","height","32","alt",""],[1,"mb-0"],[1,"link-secondary","text-decoration-none"],[1,"content_item","mb-4","mb-md-5","border","p-2"],["src","/assets/envelope-o.svg","width","32","height","32","alt",""],[1,"link-secondary"]],template:function(r,i){1&r&&(g(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h2",5),_(6,"\u041a\u043e\u043d\u0442\u0430\u043a\u0442\u0438"),p()(),g(7,"h6",6),_(8,"\u041c\u0438 \u0437\u0430\u0432\u0436\u0434\u0438 \u0437\u0430\u0446\u0456\u043a\u0430\u0432\u043b\u0435\u043d\u0456 \u0443 \u0441\u043f\u0456\u0432\u043f\u0440\u0430\u0446\u0456 \u0437 \u043d\u043e\u0432\u0438\u043c\u0438 \u043a\u043b\u0456\u0454\u043d\u0442\u0430\u043c\u0438. \u0411\u0443\u0434\u044c \u043b\u0430\u0441\u043a\u0430, \u0437\u0432'\u044f\u0436\u0456\u0442\u044c\u0441\u044f \u0437 \u043d\u0430\u043c\u0438 \u043e\u0434\u043d\u0438\u043c \u0456\u0437 \u043d\u0430\u0441\u0442\u0443\u043f\u043d\u0438\u0445 \u0441\u043f\u043e\u0441\u043e\u0431\u0456\u0432"),p()()()(),g(9,"div",7)(10,"div",8)(11,"div")(12,"div")(13,"div",9)(14,"div",10)(15,"div",11),H(16,"img",12),p(),g(17,"div")(18,"h4",13),_(19,"\u041c\u0456\u0441\u0446\u0435 \u0437\u043d\u0430\u0445\u043e\u0434\u0436\u0435\u043d\u043d\u044f"),p(),g(20,"p",13),_(21,"\u0411\u0443\u0434\u044c \u043b\u0430\u0441\u043a\u0430, \u0437\u0430\u0432\u0456\u0442\u0430\u0439\u0442\u0435 \u0434\u043e \u043d\u0430\u0441, \u0449\u043e\u0431 \u043f\u043e\u0434\u0438\u0441\u043a\u0443\u0442\u0443\u0432\u0430\u0442\u0438."),p(),H(22,"hr",14),g(23,"p",15),_(24,"\u041b\u044c\u0432\u0456\u0432,\u0428\u0435\u0432\u0447\u0435\u043d\u043a\u0430 77"),p()()(),g(25,"div",10)(26,"div",11),H(27,"img",16),p(),g(28,"div")(29,"h4",13),_(30,"\u0413\u0440\u0430\u0444\u0456\u043a \u0440\u043e\u0431\u043e\u0442\u0438"),p(),g(31,"p",13),_(32,"\u041e\u0437\u043d\u0430\u0439\u043e\u043c\u0442\u0435\u0441\u044f \u0437 \u043d\u0430\u0448\u0438\u043c \u0433\u0440\u0430\u0444\u0456\u043a\u043e\u043c \u0440\u043e\u0431\u043e\u0442\u0438."),p(),H(33,"hr",14),g(34,"div",17)(35,"p",18),_(36,"\u041f\u043d - \u041f\u0442"),p(),g(37,"p",19),_(38,"8:00 - 19:00"),p()(),g(39,"div",20)(40,"p",18),_(41,"\u0421\u0431 - \u041d\u0434"),p(),g(42,"p",19),_(43,"9:00 - 17:00"),p()()()(),g(44,"div",10)(45,"div",11),H(46,"img",21),p(),g(47,"div")(48,"h4",13),_(49,"\u0422\u0435\u043b\u0435\u0444\u043e\u043d"),p(),g(50,"p",13),_(51,"\u0411\u0443\u0434\u044c \u043b\u0430\u0441\u043a\u0430, \u0437\u0432'\u044f\u0436\u0456\u0442\u044c\u0441\u044f \u0437 \u043d\u0430\u043c\u0438 \u043d\u0430\u043f\u0440\u044f\u043c\u0443."),p(),H(52,"hr",14),g(53,"p",22)(54,"a",23),_(55,"(380) 6364-353-5"),p()()()(),g(56,"div",24)(57,"div",11),H(58,"img",25),p(),g(59,"div")(60,"h4",13),_(61,"Email"),p(),g(62,"p",13),_(63,"\u0411\u0443\u0434\u044c \u043b\u0430\u0441\u043a\u0430, \u043d\u0430\u043f\u0438\u0448\u0456\u0442\u044c \u043d\u0430\u043c \u043d\u0430\u043f\u0440\u044f\u043c\u0443."),p(),H(64,"hr",14),g(65,"p",22)(66,"a",26),_(67,"shop@gmail.com"),p()()()()()()()()()())},styles:[".content[_ngcontent-%COMP%]{display:flex}.content_item[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;text-align:center}.title[_ngcontent-%COMP%]{font-size:42px;font-weight:700;color:#252525;border-top:5px solid #c4f5b9}"]})}return t})(),bp=(()=>{class t{constructor(n,r){this.http=n,this.fireStore=r,this.isUserLogin$=new $e,this.url="http://localhost:4200",this.api={auth:`${this.url}/auth`}}login(n){return this.http.get(`${this.api.auth}?email=${n.email}&password=${n.password}`)}updateUserData(n,r){const i=gr(this.fireStore,"users",n);return _$(i,r,{merge:!0})}static#e=this.\u0275fac=function(r){return new(r||t)(j(Fc),j(Wr))};static#t=this.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var uu=function(t){return t.USER="USER",t.ADMIN="ADMIN",t}(uu||{});const ppe=function(){return["/auth"]};function gpe(t,e){1&t&&(g(0,"li",24)(1,"a",25),_(2," \u041b\u043e\u0433\u0456\u043d "),p()()),2&t&&(I(1),P("routerLink",Mn(1,ppe)))}const mpe=function(t){return[t]};function _pe(t,e){if(1&t&&(g(0,"li",24)(1,"a",25),_(2),p()()),2&t){const n=U();I(1),P("routerLink",_a(2,mpe,"/"+n.loginUrl)),I(1),Nn(" ",n.loginPage," ")}}function ype(t,e){1&t&&(g(0,"div",35)(1,"div",36),H(2,"img",37),g(3,"h3",38),_(4,"\u041a\u043e\u0448\u0438\u043a \u043f\u043e\u0440\u043e\u0436\u043d\u0456\u0439"),p()()())}function vpe(t,e){if(1&t){const n=tt();g(0,"div",39)(1,"div",40),H(2,"img",41),p(),g(3,"div",42)(4,"h3",43),_(5),ps(6,"slice"),p()(),g(7,"div",44)(8,"button",45),K("click",function(){const o=we(n).$implicit;return Ie(U(2).countOfProduct(o,!1))}),_(9,"-"),p(),g(10,"span",46),_(11),p(),g(12,"button",45),K("click",function(){const o=we(n).$implicit;return Ie(U(2).countOfProduct(o,!0))}),_(13,"+"),p()(),g(14,"div",47)(15,"p",48)(16,"span",49),_(17),p(),_(18," \u0433\u0440\u043d"),p()(),g(19,"img",50),K("click",function(){const o=we(n).index;return Ie(U(2).deleteProductFromBasket(o))}),p()()}if(2&t){const n=e.$implicit;I(2),P("src",n.imagePath,sr),I(3),re(gs(6,4,n.name,0,20)),I(6),re(n.count),I(6),re(n.price*n.count)}}const bpe=function(){return["/checkout"]};function Epe(t,e){if(1&t){const n=tt();ur(0),g(1,"div",26)(2,"div",27)(3,"div",28),B(4,ype,5,0,"div",29),B(5,vpe,20,8,"div",30),p(),g(6,"div",31)(7,"p",32),_(8,"\u0421\u0443\u043c\u0430: "),g(9,"span",33),_(10),p(),_(11," \u0433\u0440\u043d"),p(),g(12,"button",34),K("click",function(){return we(n),Ie(U().placeAnOrder())}),_(13,"\u041e\u0444\u043e\u0440\u043c\u0438\u0442\u0438 \u0437\u0430\u043c\u043e\u0432\u043b\u0435\u043d\u043d\u044f"),p()()()(),cr()}if(2&t){const n=U();I(4),P("ngIf",0===n.basket.length),I(1),P("ngForOf",n.basket),I(5),re(n.total),I(2),P("routerLink",Mn(4,bpe))}}function wpe(t,e){if(1&t){const n=tt();g(0,"div",51),K("click",function(){return we(n),Ie(U().openBasketModal())}),p()}}const Ipe=function(){return["/"]},Tpe=function(){return["/discount"]},Cpe=function(){return["/product/smart"]},Dpe=function(){return["/product/fitness"]},Spe=function(){return["/product/childish"]},Ape=function(){return["/product/sporty"]},Rpe=function(){return["/delivery"]},Ppe=function(){return["/about"]},xpe=function(){return["/contacts"]};let wS=(()=>{class t{constructor(n,r,i){this.orderService=n,this.accountService=r,this.afs=i,this.total=0,this.basket=[],this.isLogin=!1,this.loginUrl="",this.loginPage="",this.isBasketOpen=!1}ngOnInit(){this.loadBasket(),this.updateBasket(),this.checkUserLogin(),this.checkUpdatesUserLogin()}openBasketModal(){this.isBasketOpen=!this.isBasketOpen}countOfProduct(n,r){r?(++n.count,this.getTotalPrice()):!r&&n.count>1&&(--n.count,this.getTotalPrice())}deleteProductFromBasket(n){this.basket.splice(n,1),this.updateBasket(),this.getTotalPrice();let r=JSON.parse(localStorage.getItem("basket")||"[]");r.splice(n,1),localStorage.setItem("basket",JSON.stringify(r))}deleteAllProductFromBasket(){this.basket=[],this.updateBasket(),this.getTotalPrice(),localStorage.removeItem("basket")}loadBasket(){localStorage.length>0&&localStorage.getItem("basket")&&(this.basket=JSON.parse(localStorage.getItem("basket"))),this.getTotalPrice()}getTotalPrice(){this.total=this.basket.reduce((n,r)=>n+r.price*r.count,0)}updateBasket(){this.orderService.changeBasket.subscribe(()=>{this.loadBasket()})}placeAnOrder(){var n=this;return w(function*(){const r=localStorage.getItem("currentUser");if(!r)return;const i=JSON.parse(r),o={items:n.basket.map(s=>({name:s.name,imagePath:s.imagePath,productId:s.id,quantity:s.count,price:s.price})),totalPrice:n.total};if(n.orderService.addOrder(o),i){i.orders=o,localStorage.setItem("currentUser",JSON.stringify(i));const s=gr(n.afs,"users",i.uid);try{yield Hl(s,{orders:i.orders}),console.log("Document successfully updated in Firestore.")}catch(a){console.error("Error updating document:",a)}n.accountService.isUserLogin$.next(!0)}})()}checkUserLogin(){const n=JSON.parse(localStorage.getItem("currentUser"));n&&n.role===uu.ADMIN?(this.isLogin=!0,this.loginUrl="admin",this.loginPage="\u0410\u0434\u043c\u0456\u043d"):n&&n.role===uu.USER?(this.isLogin=!0,this.loginUrl="cabinet",this.loginPage="\u041a\u0430\u0431\u0456\u043d\u0435\u0442"):(this.isLogin=!1,this.loginUrl="",this.loginPage="")}checkUpdatesUserLogin(){this.accountService.isUserLogin$.subscribe(()=>{this.checkUserLogin()})}static#e=this.\u0275fac=function(r){return new(r||t)(E(vp),E(bp),E(Wr))};static#t=this.\u0275cmp=Ue({type:t,selectors:[["app-header"]],decls:51,vars:23,consts:[["data-bs-theme","dark",1,"navbar","navbar-expand-lg","bg-body-tertiary"],[1,"container-fluid"],["href","#",1,"navbar-brand",3,"routerLink"],["type","button","data-bs-toggle","collapse","data-bs-target","#navbarSupportedContent","aria-controls","navbarSupportedContent","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarSupportedContent",1,"collapse","navbar-collapse"],[1,"navbar-nav","me-auto","mb-2","mb-lg-0"],[1,"nav-item"],["routerLinkActive","active border-active","aria-current","page","href","#",1,"nav-link",3,"routerLink"],[1,"nav-item","dropdown"],["href","#","role","button","data-bs-toggle","dropdown","aria-expanded","false",1,"nav-link","dropdown-toggle"],[1,"dropdown-menu"],["routerLinkActive","active border-active",1,"dropdown-item",3,"routerLink"],[2,"display","flex","position","absolute","right","0"],[1,"basket_wrapper","me-3"],[1,"basket",3,"click"],[1,"basket_items"],["height","20px","src","assets\\shopping-basket.svg","alt","",1,"basket_img"],[1,"basket_count"],[1,"basket_count_item"],[1,"basket_count_text"],["class","nav-item me-2",4,"ngIf"],[4,"ngIf"],["class","overlay",3,"click",4,"ngIf"],[1,"nav-item","me-2"],["routerLinkActive","active border-active","aria-current","page",1,"nav-link",3,"routerLink"],[1,"checkout__wrapper"],[1,"checkout__block"],[1,"checkout__main_products"],["class","checkout__empty_wrapper",4,"ngIf"],["class","checkout__product_block",4,"ngFor","ngForOf"],[1,"checkout__footer"],[1,"checkout__footer_text"],[1,"checkout__footer_bold"],["type","button",1,"checkout__footer_button",3,"routerLink","click"],[1,"checkout__empty_wrapper"],[1,"checkout__empty_banner"],["src","/assets/box.png","alt","","width","50","height","50",1,"checkout__empty_image"],[1,"checkout__empty_title"],[1,"checkout__product_block"],[1,"checkout__image_wrapper"],["alt","",1,"checkout__product_image",3,"src"],[1,"checkout__text_wrapper"],[1,"checkout__product_title"],[1,"checkout__product_count"],[1,"product__count_plus","product__count_btn",3,"click"],[1,"product__count_text"],[1,"checkout__price_wrapper"],[1,"checkout__product_price"],[1,"checkout__product_bold"],["src","https://static-00.iconduck.com/assets.00/delete-icon-1864x2048-bp2i0gor.png","alt","",1,"checkout__product_delete",3,"click"],[1,"overlay",3,"click"]],template:function(r,i){1&r&&(g(0,"header")(1,"nav",0)(2,"div",1)(3,"a",2),_(4,"FitShop"),p(),g(5,"button",3),H(6,"span",4),p(),g(7,"div",5)(8,"ul",6)(9,"li",7)(10,"a",8),_(11," \u0410\u043a\u0446\u0456\u0457 "),p()(),g(12,"li",7)(13,"a",8),_(14," \u0421\u043c\u0430\u0440\u0442-\u0413\u043e\u0434\u0438\u043d\u0438\u043a "),p()(),g(15,"li",7)(16,"a",8),_(17," \u0424\u0456\u0442\u043d\u0435\u0441-\u0411\u0440\u0430\u0441\u043b\u0435\u0442 "),p()(),g(18,"li",7)(19,"a",8),_(20," \u0414\u0438\u0442\u044f\u0447\u0438\u0439 "),p()(),g(21,"li",7)(22,"a",8),_(23," \u0421\u043f\u043e\u0440\u0442\u0438\u0432\u043d\u0438\u0439 "),p()(),g(24,"li",9)(25,"a",10),_(26," \u0406\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0456\u044f "),p(),g(27,"ul",11)(28,"li")(29,"a",12),_(30," \u0414\u043e\u0441\u0442\u0430\u0432\u043a\u0430 \u0442\u0430 \u043e\u043f\u043b\u0430\u0442\u0430 "),p()(),g(31,"li")(32,"a",12),_(33," \u041f\u0440\u043e \u043d\u0430\u0441 "),p()(),g(34,"li")(35,"a",12),_(36," \u041a\u043e\u043d\u0442\u0430\u043a\u0442\u0438 "),p()()()(),g(37,"div",13)(38,"li",14)(39,"a",15),K("click",function(){return i.openBasketModal()}),g(40,"div",16),H(41,"img",17),p(),g(42,"div",18)(43,"b",19),_(44),p(),g(45,"span",20),_(46,"\u0433\u0440\u043d"),p()()()(),B(47,gpe,3,2,"li",21),B(48,_pe,3,4,"li",21),p()()()()()(),B(49,Epe,14,5,"ng-container",22),B(50,wpe,1,0,"div",23)),2&r&&(I(3),P("routerLink",Mn(14,Ipe)),I(7),P("routerLink",Mn(15,Tpe)),I(3),P("routerLink",Mn(16,Cpe)),I(3),P("routerLink",Mn(17,Dpe)),I(3),P("routerLink",Mn(18,Spe)),I(3),P("routerLink",Mn(19,Ape)),I(7),P("routerLink",Mn(20,Rpe)),I(3),P("routerLink",Mn(21,Ppe)),I(3),P("routerLink",Mn(22,xpe)),I(9),re(i.total),I(3),P("ngIf",!i.isLogin),I(1),P("ngIf",i.isLogin),I(1),P("ngIf",i.isBasketOpen),I(1),P("ngIf",i.isBasketOpen))},dependencies:[yn,On,Ss,Dw,Pc],styles:[".navbar-nav[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   .border-active[_ngcontent-%COMP%]{box-shadow:0 0 0 1px #fff;border-radius:7px}.overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background-color:#0003;z-index:1}.checkout__empty_banner[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;flex-direction:column}.checkout__wrapper[_ngcontent-%COMP%]{position:absolute;top:95px;right:0;width:48%;z-index:2}.checkout__main_products[_ngcontent-%COMP%]{width:100%;background:#fff;max-height:260px;overflow:scroll}.checkout__main_products[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}.checkout__product_block[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;border-top:1px solid lightgray;padding:10px 20px}.checkout__product_image[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:contain}.checkout__product_count[_ngcontent-%COMP%]{width:120px;height:46px;border:1px solid lightgray;border-radius:8px;display:flex;align-items:center;justify-content:space-between;padding:0 4px}.checkout__product_price[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:6px}.checkout__product_bold[_ngcontent-%COMP%]{font-size:20px;font-weight:600}.checkout__product_delete[_ngcontent-%COMP%]{height:18px;cursor:pointer}.checkout__footer[_ngcontent-%COMP%]{width:100%;background:#c4f5b9;background-image:url(https://monosushi.com.ua/wp-content/themes/monosushi/img/bg-monosushi-logo.svg);background-repeat:repeat;background-position:0 0 190px -52px;padding:20px;border-radius:0 0 10px 10px;display:flex;align-items:center;justify-content:space-between}.checkout__footer_bold[_ngcontent-%COMP%]{font-size:24px;font-weight:600}.checkout__footer_text[_ngcontent-%COMP%]{font-size:18px;color:#252525}.checkout__footer_button[_ngcontent-%COMP%]{width:248px;height:56px;background:#fff;border:2px solid transparent;border-radius:8px;font-size:16px;font-weight:600;text-transform:uppercase;cursor:pointer;transition:.4s}.checkout__footer_button[_ngcontent-%COMP%]:hover{background:none;border-color:#fff}.checkout__image_wrapper[_ngcontent-%COMP%]{width:120px;height:82px}.checkout__text_wrapper[_ngcontent-%COMP%]{width:200px}.checkout__price_wrapper[_ngcontent-%COMP%]{width:40px}.basket[_ngcontent-%COMP%]{cursor:pointer}.basket_items[_ngcontent-%COMP%]{align-items:center;justify-content:center;display:flex}.basket_items_count[_ngcontent-%COMP%]{margin-left:5px;top:5px;width:20px;height:20px;color:var(--bs-nav-link-hover-color);border-radius:50%;display:flex;align-items:center;justify-content:center}.basket_count[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:4px}.basket_count_item[_ngcontent-%COMP%]{font-weight:700;color:var(--bs-nav-link-color);font-size:18px}.basket_count_text[_ngcontent-%COMP%]{color:var(--bs-nav-link-color);font-size:18px}"]})}return t})();function Npe(t,e){if(1&t&&(g(0,"div",31)(1,"div",32),H(2,"img",33),p(),g(3,"div",34)(4,"div")(5,"h6"),_(6),p()(),g(7,"div")(8,"h6"),_(9,"\u041a\u0456\u043b\u044c\u043a\u0456\u0441\u0442\u044c: "),g(10,"span"),_(11),p()()(),g(12,"div")(13,"h6"),_(14),g(15,"span"),_(16,"\u0433\u0440\u043d"),p()()()()()),2&t){const n=e.$implicit;I(2),bc("src",n.imagePath,sr),I(4),re(n.name),I(5),re(n.quantity),I(3),re(n.price)}}const Mpe=function(){return["/"]};let Ope=(()=>{class t{constructor(n,r,i,o,s){this.accountService=n,this.orderService=r,this.fb=i,this.afs=o,this.headerComponent=s}ngOnInit(){this.getPersonalData(),this.innitOrderForm(),this.innitOrder()}innitOrder(){const n=localStorage.getItem("currentUser");if(n&&n){const r=JSON.parse(n);r&&(this.totalOrder=r.orders,this.totalItems=r.orders.items)}}show(){var n=this;return w(function*(){const r=n.orderForm.value,i=localStorage.getItem("currentUser");if(!i)return;const o=JSON.parse(i),s={country:r.country,first_name:r.first_name,last_name:r.last_name,address:r.address,city:r.city,phone_number:r.phone_number,order:n.totalItems,totalPrice:o.orders.totalPrice,progress:!1,id:o.uid};if(o){Array.isArray(o.buys)||(o.buys=[]),o.buys.push(s),localStorage.setItem("currentUser",JSON.stringify(o));const a=gr(n.afs,"users",o.uid);try{yield Hl(a,{...o}),console.log("Document successfully updated in Firestore.")}catch(u){console.error("Error updating document:",u)}n.accountService.isUserLogin$.next(!0)}n.headerComponent.deleteAllProductFromBasket(),n.headerComponent.updateBasket(),location.reload()})()}innitOrderForm(){this.orderForm=this.fb.group({country:[null,Ge.required],first_name:[this.currentUser?.firstName,Ge.required],last_name:[this.currentUser?.lastName,Ge.required],address:[null,Ge.required],city:[null,Ge.required],phone_number:[this.currentUser?.phone,Ge.required]})}getPersonalData(){const n=localStorage.getItem("currentUser");this.currentUser=n?JSON.parse(n):void 0}static#e=this.\u0275fac=function(r){return new(r||t)(E(bp),E(vp),E(Nc),E(Wr),E(wS))};static#t=this.\u0275cmp=Ue({type:t,selectors:[["app-checkout"]],inputs:{currentUserData:"currentUserData"},decls:89,vars:5,consts:[[1,"container","mt-3","mb-3"],[1,"row","panel","panel-info"],[1,"col-6","border","border-light-subtle","pb-2","pt-3"],[1,"px-2"],[1,"panel","panel-info"],[1,"panel-body",3,"formGroup"],[1,"form-group"],[1,"col-md-12"],[2,"text-align","center"],["formControlName","country","type","text","name","country","value","",1,"form-control"],[1,"form-group",2,"display","flex"],[1,"col-md-6","col-xs-12"],["formControlName","first_name","type","text","name","first_name","value","",1,"form-control"],[1,"span1"],["formControlName","last_name","type","text","name","last_name","value","",1,"form-control"],[1,"col-md-6"],["for","radio1",1,"me-2"],["type","radio","id","radio1","name","options","value","1","checked",""],["for","radio2",1,"me-2"],["type","radio","id","radio2","name","options","value","2","disabled",""],["type","radio","id","radio4","name","optionss","value","3","checked","",1,"me-3"],["type","radio","id","radio3","name","optionss","value","4","disabled",""],["formControlName","address","type","text","name","address","value","",1,"form-control"],["formControlName","city","type","text","name","city","value","",1,"form-control"],["formControlName","phone_number","type","text","name","phone_number","value","",1,"form-control"],[1,"text-center"],[1,"panel-body"],["class","form-group mb-2","style","display: flex;",4,"ngFor","ngForOf"],[1,"col-xs-12"],[1,"pull-right"],[1,"btn","btn-outline-success",3,"routerLink","click"],[1,"form-group","mb-2",2,"display","flex"],[1,"col-sm-3","col-xs-3"],["width","100px","height","90px",1,"img-responsive",3,"src"],[1,"col-sm-6","col-xs-6"]],template:function(r,i){1&r&&(g(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"form",5)(6,"div",6)(7,"div",7)(8,"h4",8),_(9,"\u0414\u043e\u0441\u0442\u0430\u0432\u043a\u0430"),p()()(),g(10,"div",6)(11,"div",7)(12,"strong"),_(13,"\u041a\u0440\u0430\u0457\u043d\u0430:"),p()(),g(14,"div",7),H(15,"input",9),p()(),g(16,"div",10)(17,"div",11)(18,"strong"),_(19,"\u0406\u043c\u044f:"),p(),H(20,"input",12),p(),H(21,"div",13),g(22,"div",11)(23,"strong"),_(24,"\u0424\u0430\u043c\u0456\u043b\u0456\u044f:"),p(),H(25,"input",14),p()(),g(26,"strong"),_(27,"\u0414\u043e\u0441\u0442\u0430\u0432\u043a\u0430:"),p(),g(28,"div",10)(29,"div",15)(30,"label",16),_(31,"\u041d\u043e\u0432\u0430\u041f\u043e\u0448\u0442\u0430"),p(),H(32,"input",17)(33,"br"),p(),g(34,"div",15)(35,"label",18),_(36,"\u0423\u043a\u0440\u043f\u043e\u0448\u0442\u0430 (\u0442\u0438\u043c\u0447\u0430\u0441\u043e\u0432\u043e \u043d\u0435 \u0434\u043e\u0441\u0442\u0443\u043f\u043d\u043e)"),p(),H(37,"input",19)(38,"br"),p()(),g(39,"div",6)(40,"div",7)(41,"strong"),_(42,"\u0421\u043f\u043e\u0441\u0456\u0431 \u043e\u043f\u043b\u0430\u0442\u0438:"),p()(),g(43,"div",7)(44,"label",16),_(45,"\u041f\u0440\u0438 \u043e\u0442\u0440\u0438\u043c\u0430\u043d\u043d\u0456"),p(),H(46,"input",20),g(47,"label",18),_(48,"\u041f\u0435\u0440\u0435\u0434\u043e\u043f\u043b\u0430\u0442\u0430"),p(),H(49,"input",21)(50,"br"),p()(),g(51,"div",6)(52,"div",7)(53,"strong"),_(54,"\u0410\u0434\u0440\u0435\u0441\u0430 \u041d\u043e\u0432\u043e\u0457 \u041f\u043e\u0448\u0442\u0438:"),p()(),g(55,"div",7),H(56,"input",22),p()(),g(57,"div",6)(58,"div",7)(59,"strong"),_(60,"\u041c\u0456\u0441\u0442\u043e:"),p()(),g(61,"div",7),H(62,"input",23),p()(),g(63,"div",6)(64,"div",7)(65,"strong"),_(66,"\u041d\u043e\u043c\u0435\u0440 \u0442\u0435\u043b\u0435\u0444\u043e\u043d\u0443:"),p()(),g(67,"div",7),H(68,"input",24),p()()()()()(),g(69,"div",2)(70,"div",3)(71,"div",4)(72,"h4",25),_(73," \u0412\u0430\u0448\u0435 \u0437\u0430\u043c\u043e\u0432\u043b\u0435\u043d\u043d\u044f "),p(),g(74,"div",26),B(75,Npe,17,4,"div",27),g(76,"div",6),H(77,"hr"),p(),g(78,"div",6)(79,"div",28)(80,"strong"),_(81,"\u0414\u043e \u043e\u043f\u043b\u0430\u0442\u0438"),p(),g(82,"div",29)(83,"span"),_(84),p(),g(85,"span"),_(86,"\u0433\u0440\u043d"),p()(),g(87,"button",30),K("click",function(){return i.show()}),_(88,"\u0417\u0430\u043c\u043e\u0432\u0438\u0442\u0438"),p()()()()()()()()()),2&r&&(I(5),P("formGroup",i.orderForm),I(70),P("ngForOf",i.totalItems),I(9),re(null==i.totalOrder?null:i.totalOrder.totalPrice),I(3),P("routerLink",Mn(4,Mpe)))},dependencies:[yn,Ss,Ca,xo,wa,Ia,No,Is]})}return t})();const kpe=function(){return["category"]},Fpe=function(){return["product"]},Vpe=function(){return["discount"]},Lpe=function(){return["order"]};let Bpe=(()=>{class t{constructor(n,r){this.router=n,this.accountService=r}logOut(){this.router.navigate(["/"]),localStorage.removeItem("currentUser"),this.accountService.isUserLogin$.next(!0)}static#e=this.\u0275fac=function(r){return new(r||t)(E(Vn),E(bp))};static#t=this.\u0275cmp=Ue({type:t,selectors:[["app-admin"]],decls:15,vars:8,consts:[[1,"container"],[1,"d-flex","align-items-start"],["id","v-pills-tab","role","tablist","aria-orientation","vertical",1,"nav","flex-column","nav-pills","me-3","border","border-light-subtle"],["routerLinkActive","active","type","button",1,"nav-link",3,"routerLink"],["type","button",1,"nav-link",3,"click"],["id","v-pills-tabContent",1,"tab-content","w-100"]],template:function(r,i){1&r&&(g(0,"div",0)(1,"div",1)(2,"div",2)(3,"button",3),_(4,"\u041a\u0430\u0442\u0435\u0433\u043e\u0440\u0456\u0457"),p(),g(5,"button",3),_(6,"\u041f\u0440\u043e\u0434\u0443\u043a\u0442\u0438"),p(),g(7,"button",3),_(8,"\u0410\u043a\u0446\u0456\u0457"),p(),g(9,"button",3),_(10,"\u0417\u0430\u043c\u043e\u0432\u043b\u0435\u043d\u043d\u044f"),p(),g(11,"button",4),K("click",function(){return i.logOut()}),_(12,"\u0412\u0438\u0439\u0442\u0438"),p()(),g(13,"div",5),H(14,"router-outlet"),p()()()),2&r&&(I(3),P("routerLink",Mn(4,kpe)),I(2),P("routerLink",Mn(5,Fpe)),I(2),P("routerLink",Mn(6,Vpe)),I(2),P("routerLink",Mn(7,Lpe)))},dependencies:[g_,Ss,Dw]})}return t})();const y$="firebasestorage.googleapis.com",v$="storageBucket";class Nt extends eo{constructor(e,n,r=0){super(IS(e),`Firebase Storage: ${n} (${IS(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Nt.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return IS(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}var Ct=function(t){return t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment",t}(Ct||{});function IS(t){return"storage/"+t}function TS(){return new Nt(Ct.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function b$(){return new Nt(Ct.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function E$(){return new Nt(Ct.CANCELED,"User canceled the upload/download.")}function w$(){return new Nt(Ct.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function CS(t){return new Nt(Ct.INVALID_ARGUMENT,t)}function I$(){return new Nt(Ct.APP_DELETED,"The Firebase app was deleted.")}function Ep(t,e){return new Nt(Ct.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function wp(t){throw new Nt(Ct.INTERNAL_ERROR,"Internal error: "+t)}class mr{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=mr.makeFromUrl(e,n)}catch{return new mr(e,"")}if(""===r.path)return r;throw function Qpe(t){return new Nt(Ct.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)",a=new RegExp("^gs://"+i+"(/(.*))?$","i");function c(R){R.path_=decodeURIComponent(R.path)}const d=n.replace(/[.]/g,"\\."),C=[{regex:a,indices:{bucket:1,path:3},postModify:function o(R){"/"===R.path.charAt(R.path.length-1)&&(R.path_=R.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${d}/v[A-Za-z0-9_]+/b/${i}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:c},{regex:new RegExp(`^https?://${n===y$?"(?:storage.googleapis.com|storage.cloud.google.com)":n}/${i}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:c}];for(let R=0;R<C.length;R++){const M=C[R],$=M.regex.exec(e);if($){let ue=$[M.indices.path];ue||(ue=""),r=new mr($[M.indices.bucket],ue),M.postModify(r);break}}if(null==r)throw function Kpe(t){return new Nt(Ct.INVALID_URL,"Invalid URL '"+t+"'.")}(e);return r}}class tge{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function Dy(t){return"string"==typeof t||t instanceof String}function T$(t){return DS()&&t instanceof Blob}function DS(){return typeof Blob<"u"}function SS(t,e,n,r){if(r<e)throw CS(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw CS(`Invalid value for '${t}'. Expected ${n} or less.`)}function Yo(t,e,n){let r=e;return null==n&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function C$(t){const e=encodeURIComponent;let n="?";for(const r in t)t.hasOwnProperty(r)&&(n=n+(e(r)+"=")+e(t[r])+"&");return n=n.slice(0,-1),n}var Gl=function(t){return t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT",t}(Gl||{});function D$(t,e){const n=t>=500&&t<600,i=-1!==[408,429].indexOf(t),o=-1!==e.indexOf(t);return n||i||o}class age{constructor(e,n,r,i,o,s,a,u,c,l,d,h=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=o,this.additionalRetryCodes_=s,this.callback_=a,this.errorCallback_=u,this.timeout_=c,this.progressCallback_=l,this.connectionFactory_=d,this.retry=h,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((f,m)=>{this.resolve_=f,this.reject_=m,this.start_()})}start_(){const n=(r,i)=>{const o=this.resolve_,s=this.reject_,a=i.connection;if(i.wasSuccessCode)try{const u=this.callback_(a,a.getResponse());!function ige(t){return void 0!==t}(u)?o():o(u)}catch(u){s(u)}else if(null!==a){const u=TS();u.serverResponse=a.getErrorText(),s(this.errorCallback_?this.errorCallback_(a,u):u)}else s(i.canceled?this.appDelete_?I$():E$():b$())};this.canceled_?n(0,new Sy(!1,null,!0)):this.backoffId_=function nge(t,e,n){let r=1,i=null,o=null,s=!1,a=0;function u(){return 2===a}let c=!1;function l(...v){c||(c=!0,e.apply(null,v))}function d(v){i=setTimeout(()=>{i=null,t(f,u())},v)}function h(){o&&clearTimeout(o)}function f(v,...T){if(c)return void h();if(v)return h(),void l.call(null,v,...T);if(u()||s)return h(),void l.call(null,v,...T);let C;r<64&&(r*=2),1===a?(a=2,C=0):C=1e3*(r+Math.random()),d(C)}let m=!1;function y(v){m||(m=!0,h(),!c&&(null!==i?(v||(a=2),clearTimeout(i),d(0)):v||(a=1)))}return d(0),o=setTimeout(()=>{s=!0,y(!0)},n),y}((r,i)=>{if(i)return void r(!1,new Sy(!1,null,!0));const o=this.connectionFactory_();this.pendingConnection_=o;const s=a=>{null!==this.progressCallback_&&this.progressCallback_(a.loaded,a.lengthComputable?a.total:-1)};null!==this.progressCallback_&&o.addUploadProgressListener(s),o.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&o.removeUploadProgressListener(s),this.pendingConnection_=null;const a=o.getErrorCode()===Gl.NO_ERROR,u=o.getStatus();if(!a||D$(u,this.additionalRetryCodes_)&&this.retry){const l=o.getErrorCode()===Gl.ABORT;return void r(!1,new Sy(!1,null,l))}const c=-1!==this.successCodes_.indexOf(u);r(!0,new Sy(c,o))})},n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function rge(t){t(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class Sy{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function pge(...t){const e=function fge(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}();if(void 0!==e){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}if(DS())return new Blob(t);throw new Nt(Ct.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}const Ni={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class AS{constructor(e,n){this.data=e,this.contentType=n||null}}function A$(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);r<=127?e.push(r):r<=2047?e.push(192|r>>6,128|63&r):55296==(64512&r)?n<t.length-1&&56320==(64512&t.charCodeAt(n+1))?(r=65536|(1023&r)<<10|1023&t.charCodeAt(++n),e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r)):e.push(239,191,189):56320==(64512&r)?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(e)}function R$(t,e){switch(t){case Ni.BASE64:{const i=-1!==e.indexOf("-"),o=-1!==e.indexOf("_");if(i||o)throw Ep(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case Ni.BASE64URL:{const i=-1!==e.indexOf("+"),o=-1!==e.indexOf("/");if(i||o)throw Ep(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=function mge(t){if(typeof atob>"u")throw function Xpe(t){return new Nt(Ct.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}("base-64");return atob(t)}(e)}catch(i){throw i.message.includes("polyfill")?i:Ep(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class P${constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(null===n)throw Ep(Ni.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;null!=r&&(this.base64=function bge(t,e){return t.length>=e.length&&t.substring(t.length-e.length)===e}(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}class Zo{constructor(e,n){let r=0,i="";T$(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,n){if(T$(this.data_)){const i=function gge(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}(this.data_,e,n);return null===i?null:new Zo(i)}{const r=new Uint8Array(this.data_.buffer,e,n-e);return new Zo(r,!0)}}static getBlob(...e){if(DS()){const n=e.map(r=>r instanceof Zo?r.data_:r);return new Zo(pge.apply(null,n))}{const n=e.map(s=>Dy(s)?function S$(t,e){switch(t){case Ni.RAW:return new AS(A$(e));case Ni.BASE64:case Ni.BASE64URL:return new AS(R$(t,e));case Ni.DATA_URL:return new AS(function yge(t){const e=new P$(t);return e.base64?R$(Ni.BASE64,e.rest):function _ge(t){let e;try{e=decodeURIComponent(t)}catch{throw Ep(Ni.DATA_URL,"Malformed data URL.")}return A$(e)}(e.rest)}(e),function vge(t){return new P$(t).contentType}(e))}throw TS()}(Ni.RAW,s).data:s.data_);let r=0;n.forEach(s=>{r+=s.byteLength});const i=new Uint8Array(r);let o=0;return n.forEach(s=>{for(let a=0;a<s.length;a++)i[o++]=s[a]}),new Zo(i,!0)}}uploadData(){return this.data_}}function RS(t){let e;try{e=JSON.parse(t)}catch{return null}return function sge(t){return"object"==typeof t&&!Array.isArray(t)}(e)?e:null}function x$(t){const e=t.lastIndexOf("/",t.length-2);return-1===e?t:t.slice(e+1)}function Ige(t,e){return e}class _r{constructor(e,n,r,i){this.server=e,this.local=n||e,this.writable=!!r,this.xform=i||Ige}}let Ay=null;function Ip(){if(Ay)return Ay;const t=[];t.push(new _r("bucket")),t.push(new _r("generation")),t.push(new _r("metageneration")),t.push(new _r("name","fullPath",!0));const n=new _r("name");n.xform=function e(o,s){return function Tge(t){return!Dy(t)||t.length<2?t:x$(t)}(s)},t.push(n);const i=new _r("size");return i.xform=function r(o,s){return void 0!==s?Number(s):s},t.push(i),t.push(new _r("timeCreated")),t.push(new _r("updated")),t.push(new _r("md5Hash",null,!0)),t.push(new _r("cacheControl",null,!0)),t.push(new _r("contentDisposition",null,!0)),t.push(new _r("contentEncoding",null,!0)),t.push(new _r("contentLanguage",null,!0)),t.push(new _r("contentType",null,!0)),t.push(new _r("metadata","customMetadata",!0)),Ay=t,Ay}function N$(t,e,n){const r=RS(e);return null===r?null:function Dge(t,e,n){const r={type:"file"},i=n.length;for(let o=0;o<i;o++){const s=n[o];r[s.local]=s.xform(r,e[s.server])}return function Cge(t,e){Object.defineProperty(t,"ref",{get:function n(){const o=new mr(t.bucket,t.fullPath);return e._makeStorageReference(o)}})}(r,t),r}(t,r,n)}function PS(t,e){const n={},r=e.length;for(let i=0;i<r;i++){const o=e[i];o.writable&&(n[o.server]=t[o.local])}return JSON.stringify(n)}class ho{constructor(e,n,r,i){this.url=e,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function fo(t){if(!t)throw TS()}function Ry(t,e){return function n(r,i){const o=N$(t,i,e);return fo(null!==o),o}}function zl(t){return function e(n,r){let i;return i=401===n.getStatus()?n.getErrorText().includes("Firebase App Check token is invalid")?function qpe(){return new Nt(Ct.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}():function zpe(){return new Nt(Ct.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===n.getStatus()?function Gpe(t){return new Nt(Ct.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(t.bucket):403===n.getStatus()?function Wpe(t){return new Nt(Ct.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}(t.path):r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}}function Tp(t){const e=zl(t);return function n(r,i){let o=e(r,i);return 404===r.getStatus()&&(o=function Hpe(t){return new Nt(Ct.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}(t.path)),o.serverResponse=i.serverResponse,o}}function V$(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=function Fge(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}(null,e)),r}class Py{constructor(e,n,r,i){this.current=e,this.total=n,this.finalized=!!r,this.metadata=i||null}}function xS(t,e){let n=null;try{n=t.getResponseHeader("X-Goog-Upload-Status")}catch{fo(!1)}return fo(!!n&&-1!==(e||["active"]).indexOf(n)),n}function NS(t){switch(t){case"running":case"pausing":case"canceling":return"running";case"paused":return"paused";case"success":return"success";case"canceled":return"canceled";default:return"error"}}class Uge{constructor(e,n,r){if(function oge(t){return"function"==typeof t}(e)||null!=n||null!=r)this.next=e,this.error=n??void 0,this.complete=r??void 0;else{const o=e;this.next=o.next,this.error=o.error,this.complete=o.complete}}}function ql(t){return(...e)=>{Promise.resolve().then(()=>t(...e))}}let U$=null;class jge{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Gl.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Gl.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Gl.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,i){if(this.sent_)throw wp("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),void 0!==i)for(const o in i)i.hasOwnProperty(o)&&this.xhr_.setRequestHeader(o,i[o].toString());return void 0!==r?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw wp("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw wp("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw wp("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw wp("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}class $ge extends jge{initXhr(){this.xhr_.responseType="text"}}function Mi(){return U$?U$():new $ge}class Wge{constructor(e,n,r=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=n,this._metadata=r,this._mappings=Ip(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=i=>{if(this._request=void 0,this._chunkMultiplier=1,i._codeEquals(Ct.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const o=this.isExponentialBackoffExpired();if(D$(i.status,[])){if(!o)return this.sleepTime=Math.max(2*this.sleepTime,1e3),this._needToFetchStatus=!0,void this.completeTransitions_();i=b$()}this._error=i,this._transition("error")}},this._metadataErrorHandler=i=>{this._request=void 0,i._codeEquals(Ct.CANCELED)?this.completeTransitions_():(this._error=i,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((i,o)=>{this._resolve=i,this._reject=o,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const e=this._transferred;return n=>this._updateProgress(e+n)}_shouldDoResumable(e){return e.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([n,r])=>{switch(this._state){case"running":e(n,r);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((e,n)=>{const r=function Vge(t,e,n,r,i){const o=e.bucketOnlyServerUrl(),s=V$(e,r,i),a={name:s.fullPath},u=Yo(o,t.host,t._protocol),l={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${r.size()}`,"X-Goog-Upload-Header-Content-Type":s.contentType,"Content-Type":"application/json; charset=utf-8"},d=PS(s,n),m=new ho(u,"POST",function f(y){let v;xS(y);try{v=y.getResponseHeader("X-Goog-Upload-URL")}catch{fo(!1)}return fo(Dy(v)),v},t.maxUploadRetryTime);return m.urlParams=a,m.headers=l,m.body=d,m.errorHandler=zl(e),m}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(r,Mi,e,n);this._request=i,i.getPromise().then(o=>{this._request=void 0,this._uploadUrl=o,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const e=this._uploadUrl;this._resolveToken((n,r)=>{const i=function Lge(t,e,n,r){const u=new ho(n,"POST",function o(c){const l=xS(c,["active","final"]);let d=null;try{d=c.getResponseHeader("X-Goog-Upload-Size-Received")}catch{fo(!1)}d||fo(!1);const h=Number(d);return fo(!isNaN(h)),new Py(h,r.size(),"final"===l)},t.maxUploadRetryTime);return u.headers={"X-Goog-Upload-Command":"query"},u.errorHandler=zl(e),u}(this._ref.storage,this._ref._location,e,this._blob),o=this._ref.storage._makeRequest(i,Mi,n,r);this._request=o,o.getPromise().then(s=>{this._request=void 0,this._updateProgress(s.current),this._needToFetchStatus=!1,s.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const e=262144*this._chunkMultiplier,n=new Py(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((i,o)=>{let s;try{s=function Bge(t,e,n,r,i,o,s,a){const u=new Py(0,0);if(s?(u.current=s.current,u.total=s.total):(u.current=0,u.total=r.size()),r.size()!==u.total)throw function Ype(){return new Nt(Ct.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}();const c=u.total-u.current;let l=c;i>0&&(l=Math.min(l,i));const d=u.current;let f="";f=0===l?"finalize":c===l?"upload, finalize":"upload";const m={"X-Goog-Upload-Command":f,"X-Goog-Upload-Offset":`${u.current}`},y=r.slice(d,d+l);if(null===y)throw w$();const C=new ho(n,"POST",function v(R,M){const $=xS(R,["active","final"]),ie=u.current+l,ue=r.size();let ze;return ze="final"===$?Ry(e,o)(R,M):null,new Py(ie,ue,"final"===$,ze)},e.maxUploadRetryTime);return C.headers=m,C.body=y.uploadData(),C.progressCallback=a||null,C.errorHandler=zl(t),C}(this._ref._location,this._ref.storage,r,this._blob,e,this._mappings,n,this._makeProgressCallback())}catch(u){return this._error=u,void this._transition("error")}const a=this._ref.storage._makeRequest(s,Mi,i,o,!1);this._request=a,a.getPromise().then(u=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(u.current),u.finalized?(this._metadata=u.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier*2<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,n)=>{const r=function k$(t,e,n){const i=Yo(e.fullServerUrl(),t.host,t._protocol),s=t.maxOperationRetryTime,a=new ho(i,"GET",Ry(t,n),s);return a.errorHandler=Tp(e),a}(this._ref.storage,this._ref._location,this._mappings),i=this._ref.storage._makeRequest(r,Mi,e,n);this._request=i,i.getPromise().then(o=>{this._request=void 0,this._metadata=o,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,n)=>{const r=function L$(t,e,n,r,i){const o=e.bucketOnlyServerUrl(),s={"X-Goog-Upload-Protocol":"multipart"},u=function a(){let C="";for(let R=0;R<2;R++)C+=Math.random().toString().slice(2);return C}();s["Content-Type"]="multipart/related; boundary="+u;const c=V$(e,r,i),l=PS(c,n),f=Zo.getBlob("--"+u+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+l+"\r\n--"+u+"\r\nContent-Type: "+c.contentType+"\r\n\r\n",r,"\r\n--"+u+"--");if(null===f)throw w$();const m={name:c.fullPath},y=Yo(o,t.host,t._protocol),T=t.maxUploadRetryTime,b=new ho(y,"POST",Ry(t,n),T);return b.urlParams=m,b.headers=s,b.body=f.uploadData(),b.errorHandler=zl(e),b}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(r,Mi,e,n);this._request=i,i.getPromise().then(o=>{this._request=void 0,this._metadata=o,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){const n=this._transferred;this._transferred=e,this._transferred!==n&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,void 0!==this._request?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const n="paused"===this._state;this._state=e,n&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=e,this._notifyObservers();break;case"canceled":this._error=E$(),this._state=e,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const e=NS(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,n,r,i){const o=new Uge(n||void 0,r||void 0,i||void 0);return this._addObserver(o),()=>{this._removeObserver(o)}}then(e,n){return this._promise.then(e,n)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const n=this._observers.indexOf(e);-1!==n&&this._observers.splice(n,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(n=>{this._notifyObserver(n)})}_finishPromise(){if(void 0!==this._resolve){let e=!0;switch(NS(this._state)){case"success":ql(this._resolve.bind(null,this.snapshot))();break;case"canceled":case"error":ql(this._reject.bind(null,this._error))();break;default:e=!1}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(NS(this._state)){case"running":case"paused":e.next&&ql(e.next.bind(e,this.snapshot))();break;case"success":e.complete&&ql(e.complete.bind(e))();break;default:e.error&&ql(e.error.bind(e,this._error))()}}resume(){const e="paused"===this._state||"pausing"===this._state;return e&&this._transition("running"),e}pause(){const e="running"===this._state;return e&&this._transition("pausing"),e}cancel(){const e="running"===this._state||"pausing"===this._state;return e&&this._transition("canceling"),e}}class cu{constructor(e,n){this._service=e,this._location=n instanceof mr?n:mr.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new cu(e,n)}get root(){const e=new mr(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return x$(this._location.path)}get storage(){return this._service}get parent(){const e=function Ege(t){if(0===t.length)return null;const e=t.lastIndexOf("/");return-1===e?"":t.slice(0,e)}(this._location.path);if(null===e)return null;const n=new mr(this._location.bucket,e);return new cu(this._service,n)}_throwIfRoot(e){if(""===this._location.path)throw function ege(t){return new Nt(Ct.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}(e)}}function tme(t){t._throwIfRoot("getDownloadURL");const e=function Mge(t,e,n){const i=Yo(e.fullServerUrl(),t.host,t._protocol),s=t.maxOperationRetryTime,a=new ho(i,"GET",function xge(t,e){return function n(r,i){const o=N$(t,i,e);return fo(null!==o),function Sge(t,e,n,r){const i=RS(e);if(null===i||!Dy(i.downloadTokens))return null;const o=i.downloadTokens;if(0===o.length)return null;const s=encodeURIComponent;return o.split(",").map(c=>{const d=t.fullPath;return Yo("/b/"+s(t.bucket)+"/o/"+s(d),n,r)+C$({alt:"media",token:c})})[0]}(o,i,t.host,t._protocol)}}(t,n),s);return a.errorHandler=Tp(e),a}(t.storage,t._location,Ip());return t.storage.makeRequestWithTokens(e,Mi).then(n=>{if(null===n)throw function Zpe(){return new Nt(Ct.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}();return n})}function z$(t,e){if(t instanceof OS){const n=t;if(null==n._bucket)throw function Jpe(){return new Nt(Ct.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+v$+"' property when initializing the app?")}();const r=new cu(n,n._bucket);return null!=e?z$(r,e):r}return void 0!==e?function G$(t,e){const n=function wge(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return 0===t.length?n:t+"/"+n}(t._location.path,e),r=new mr(t._location.bucket,n);return new cu(t.storage,r)}(t,e):t}function q$(t,e){const n=e?.[v$];return null==n?null:mr.makeFromBucketSpec(n,t)}class OS{constructor(e,n,r,i,o){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=o,this._bucket=null,this._host=y$,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=i?mr.makeFromBucketSpec(i,this._host):q$(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._bucket=null!=this._url?mr.makeFromBucketSpec(this._url,e):q$(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){SS("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){SS("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}_getAuthToken(){var e=this;return w(function*(){if(e._overrideAuthToken)return e._overrideAuthToken;const n=e._authProvider.getImmediate({optional:!0});if(n){const r=yield n.getToken();if(null!==r)return r.accessToken}return null})()}_getAppCheckToken(){var e=this;return w(function*(){const n=e._appCheckProvider.getImmediate({optional:!0});return n?(yield n.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new cu(this,e)}_makeRequest(e,n,r,i,o=!0){if(this._deleted)return new tge(I$());{const s=function hge(t,e,n,r,i,o,s=!0){const a=C$(t.urlParams),u=t.url+a,c=Object.assign({},t.headers);return function lge(t,e){e&&(t["X-Firebase-GMPID"]=e)}(c,e),function uge(t,e){null!==e&&e.length>0&&(t.Authorization="Firebase "+e)}(c,n),function cge(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}(c,o),function dge(t,e){null!==e&&(t["X-Firebase-AppCheck"]=e)}(c,r),new age(u,t.method,c,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,s)}(e,this._appId,r,i,n,this._firebaseVersion,o);return this._requests.add(s),s.getPromise().then(()=>this._requests.delete(s),()=>this._requests.delete(s)),s}}makeRequestWithTokens(e,n){var r=this;return w(function*(){const[i,o]=yield Promise.all([r._getAuthToken(),r._getAppCheckToken()]);return r._makeRequest(e,n,i,o).getPromise()})()}}const W$="@firebase/storage",Q$="storage";function ame(t,e,n){return function Jge(t,e,n){return t._throwIfRoot("uploadBytesResumable"),new Wge(t,new Zo(e),n)}(t=Vt(t),e,n)}function ume(t){return tme(t=Vt(t))}function cme(t){return function nme(t){t._throwIfRoot("deleteObject");const e=function kge(t,e){const r=Yo(e.fullServerUrl(),t.host,t._protocol),a=new ho(r,"DELETE",function s(u,c){},t.maxOperationRetryTime);return a.successCodes=[200,204],a.errorHandler=Tp(e),a}(t.storage,t._location);return t.storage.makeRequestWithTokens(e,Mi)}(t=Vt(t))}function lme(t,e){return function ome(t,e){if(e&&function rme(t){return/^[A-Za-z]+:\/\//.test(t)}(e)){if(t instanceof OS)return function ime(t,e){return new cu(t,e)}(t,e);throw CS("To use ref(service, url), the first argument must be a Storage instance.")}return z$(t,e)}(t=Vt(t),e)}function dme(t=x_(),e){const r=Kh(t=Vt(t),Q$).getImmediate({identifier:e}),i=WF("storage");return i&&function hme(t,e,n,r={}){!function sme(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:i}=r;i&&(t._overrideAuthToken="string"==typeof i?i:YF(i,t.app.options.projectId))}(t,e,n,r)}(r,...i),r}function fme(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new OS(n,r,i,e,Fa)}function gme(t){return function J$(t){return new Fe(function(e){var n=null,r=!1,i=!1,o=null,s=function(c){n=c,u()},a=null,u=function(){a||(a=setTimeout(function(){a=null,n&&e.next(n),r&&e.complete(),i&&e.error(o)}))};e.add(function(){a&&clearTimeout(a)}),s(t.snapshot),e.add(t.on("state_changed",s)),e.add(en(t).subscribe({next:s,error:function(c){i=!0,o=c,u()},complete:function(){r=!0,u()}}))})}(t).pipe(ve(function(e){return{progress:e.bytesTransferred/e.totalBytes*100,snapshot:e}}))}!function pme(){ka(new As(Q$,fme,"PUBLIC").setMultipleInstances(!0)),Ln(W$,"0.12.4",""),Ln(W$,"0.12.4","esm2017")}();class Wl{constructor(e){return e}}const Y$="storage",kS=new Z("angularfire2.storage-instances");function yme(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new Wl(r)}}const vme={provide:class mme{constructor(){return M_(Y$)}},deps:[[new xn,kS]]},bme={provide:Wl,useFactory:function _me(t,e){const n=qw(Y$,t,e);return n&&new Wl(n)},deps:[[new xn,kS],Wc]};let Eme=(()=>{class t{constructor(){Ln("angularfire",Yh.full,"gcs")}static \u0275fac=function(r){return new(r||t)};static \u0275mod=Me({type:t});static \u0275inj=Re({providers:[bme,vme]})}return t})();function wme(t,...e){return{ngModule:Eme,providers:[{provide:kS,useFactory:yme(t),multi:!0,deps:[Te,zt,O_,k_,[new xn,sC],[new xn,Ww],...e]}]}}const Z$=Wt(gme,!0),FS=Wt(cme,!0),X$=Wt(ume,!0),Ime=Wt(dme,!0),Cp=Wt(lme,!0),eH=Wt(ame,!0);let tH=(()=>{class t{constructor(n,r){this.http=n,this.afs=r,this.url="http://localhost:4200",this.api={categories:`${this.url}/categories`},this.categoryCollection=fp(this.afs,"categories")}getAllFirebase(){return wy(this.categoryCollection,{idField:"id"})}getOneFirebase(n){const r=gr(this.afs,`categories/${n}`);return Iy(r,{idField:"id"})}createFirebase(n){return vS(this.categoryCollection,n)}updateFirebase(n,r){const i=gr(this.afs,`categories/${r}`);return Hl(i,{...n})}deleteFirebase(n){const r=gr(this.afs,`categories/${n}`);return bS(r)}static#e=this.\u0275fac=function(r){return new(r||t)(j(Fc),j(Wr))};static#t=this.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),nH=(()=>{class t{constructor(n){this.storage=n,this.uploadPercent=0}uploadFile(n,r,i){var o=this;return w(function*(){const s=`${n}/${r}`;let a="";if(i)try{const u=Cp(o.storage,s),c=eH(u,i);Z$(c).subscribe(l=>{o.uploadPercent=l.progress}),yield c,a=yield X$(u)}catch(u){console.error(u)}else console.log("wrong format");return Promise.resolve(a)})()}deleteUploadFile(n){var r=this;return w(function*(){const i=Cp(r.storage,n);return FS(i)})()}static#e=this.\u0275fac=function(r){return new(r||t)(j(Wl))};static#t=this.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Tme(t,e){if(1&t){const n=tt();ur(0),g(1,"div",3)(2,"label",25),_(3,"\u0417\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u043d\u044f"),p(),g(4,"input",26),K("change",function(i){return we(n),Ie(U().upload(i))}),p()(),g(5,"div",27),H(6,"div",28),p(),cr()}if(2&t){const n=U();I(6),Xd("width",n.uploadPercent,"%")}}function Cme(t,e){if(1&t){const n=tt();ur(0),H(1,"img",29),g(2,"button",30),K("click",function(){return we(n),Ie(U().deleteImage())}),_(3,"\u0412\u0438\u0434\u0430\u043b\u0438\u0442\u0438"),p(),cr()}if(2&t){const n=U();I(1),P("src",n.valueByControle("imagePath"),sr)}}function Dme(t,e){if(1&t){const n=tt();g(0,"tr")(1,"td"),_(2),p(),g(3,"td"),_(4),p(),g(5,"td"),_(6),p(),g(7,"td"),H(8,"img",31),p(),g(9,"td")(10,"button",32),K("click",function(){const o=we(n).$implicit;return Ie(U().editCategory(o))}),_(11,"\u0420\u0435\u0434\u0430\u0433\u0443\u0432\u0430\u0442\u0438"),p(),g(12,"button",33),K("click",function(){const o=we(n).$implicit;return Ie(U().deleteCategory(o))}),_(13," \u0412\u0438\u0434\u0430\u043b\u0438\u0442\u0438 "),p()()()}if(2&t){const n=e.$implicit,r=e.index,i=U();I(2),re(r+1),I(2),re(n.name),I(2),re(n.path),I(2),P("src",n.imagePath,sr),I(4),P("disabled",i.editStatus)}}let rH=(()=>{class t{constructor(n,r,i,o){this.fb=n,this.categoryServise=r,this.ImageService=i,this.storage=o,this.adminCategory=[],this.editStatus=!1,this.isUploaded=!1}ngOnInit(){this.innitCategoryForm(),this.loadCategories()}innitCategoryForm(){this.categoryForm=this.fb.group({name:[null,Ge.required],path:[null,Ge.required],imagePath:[null,Ge.required]})}loadCategories(){this.categoryServise.getAllFirebase().subscribe(n=>{this.adminCategory=n})}addCategory(){this.editStatus?this.categoryServise.updateFirebase(this.categoryForm.value,this.currentCategoryId).then(()=>{this.loadCategories()}):this.categoryServise.createFirebase(this.categoryForm.value).then(()=>{this.loadCategories()}),this.editStatus=!1,this.categoryForm.reset(),this.isUploaded=!1,this.uploadPercent=0}editCategory(n){this.categoryForm.patchValue({name:n.name,path:n.path,imagePath:n.imagePath}),this.editStatus=!0,this.currentCategoryId=n.id,this.isUploaded=!0}deleteCategory(n){this.deleteIndex=n.id}confirmDelete(){void 0!==this.deleteIndex&&this.categoryServise.deleteFirebase(this.deleteIndex).then(()=>{this.loadCategories()})}upload(n){const r=n.target.files[0];this.ImageService.uploadFile("images",r.name,r).then(i=>{this.categoryForm.patchValue({imagePath:i}),this.isUploaded=!0}).catch(i=>{console.log(i)})}deleteImage(){const n=Cp(this.storage,this.valueByControle("imagePath"));FS(n).then(()=>{this.isUploaded=!1,this.uploadPercent=0,this.categoryForm.patchValue({imagePath:null})})}valueByControle(n){return this.categoryForm.get(n)?.value}static#e=this.\u0275fac=function(r){return new(r||t)(E(Nc),E(tH),E(nH),E(Wl))};static#t=this.\u0275cmp=Ue({type:t,selectors:[["app-admin-category"]],decls:46,vars:6,consts:[[1,"row"],[1,"col-12","border","border-light-subtle"],[3,"formGroup","ngSubmit"],[1,"mb-3"],["for","name",1,"form-label"],["formControlName","name","name","name","id","name","placeholder","\u0406\u043c\u044f..",1,"form-control"],["for","path",1,"form-label"],["formControlName","path","name","path","type","text","id","path",1,"form-control"],[4,"ngIf"],[1,"mb-2"],["type","submit",1,"btn","btn-success",3,"disabled"],[1,"col-12","mt-3","border","border-light-subtle"],[1,"table"],["scope","col"],[4,"ngFor","ngForOf"],["id","confirmDeleteModal","role","dialog","aria-labelledby","confirmDeleteModalLabel","aria-hidden","true",1,"modal","fade"],["role","document",1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],["id","confirmDeleteModalLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary"],["type","button","data-bs-dismiss","modal",1,"btn","btn-danger",3,"click"],["for","formFile",1,"form-label"],["type","file","id","formFile",1,"form-control",3,"change"],["role","progressbar","aria-label","Success striped example","aria-valuemin","0","aria-valuemax","100",1,"progress","mb-2"],[1,"progress-bar","progress-bar-striped","bg-success"],["alt","","width","100px",3,"src"],["type","button",1,"btn","btn-danger",3,"click"],["alt","","height","75px",3,"src"],["type","button",1,"btn","btn-warning","me-2",3,"click"],["type","button","data-bs-toggle","modal","data-bs-target","#confirmDeleteModal",1,"btn","btn-danger",3,"disabled","click"]],template:function(r,i){1&r&&(g(0,"div",0)(1,"div",1)(2,"form",2),K("ngSubmit",function(){return i.addCategory()}),g(3,"div",3)(4,"label",4),_(5,"\u0406\u043c\u044f"),p(),H(6,"input",5),p(),g(7,"div",3)(8,"label",6),_(9,"\u0428\u043b\u044f\u0445"),p(),H(10,"input",7),p(),B(11,Tme,7,2,"ng-container",8),B(12,Cme,4,1,"ng-container",8),g(13,"div",9)(14,"button",10),_(15),p()()()(),g(16,"div",11)(17,"table",12)(18,"thead")(19,"tr")(20,"th",13),_(21,"#"),p(),g(22,"th",13),_(23,"\u0406\u043c\u044f"),p(),g(24,"th"),_(25,"path"),p(),g(26,"th",13),_(27,"\u0417\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u043d\u044f"),p(),g(28,"th",13),_(29,"\u0414\u0456\u0457"),p()()(),g(30,"tbody"),B(31,Dme,14,5,"tr",14),p()()()(),g(32,"div",15)(33,"div",16)(34,"div",17)(35,"div",18)(36,"h5",19),_(37,"\u041f\u0456\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u0438 \u0432\u0438\u0434\u0430\u043b\u0435\u043d\u043d\u044f"),p(),H(38,"button",20),p(),g(39,"div",21),_(40," \u0412\u0438 \u0432\u043f\u0435\u0432\u043d\u0435\u043d\u0456, \u0449\u043e \u0445\u043e\u0447\u0435\u0442\u0435 \u0432\u0438\u0434\u0430\u043b\u0438\u0442\u0438 \u0446\u0435\u0439 \u0435\u043b\u0435\u043c\u0435\u043d\u0442? "),p(),g(41,"div",22)(42,"button",23),_(43,"\u0421\u043a\u0430\u0441\u0443\u0432\u0430\u0442\u0438"),p(),g(44,"button",24),K("click",function(){return i.confirmDelete()}),_(45,"\u041f\u0456\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u0438 \u0432\u0438\u0434\u0430\u043b\u0435\u043d\u043d\u044f"),p()()()()()),2&r&&(I(2),P("formGroup",i.categoryForm),I(9),P("ngIf",!i.isUploaded),I(1),P("ngIf",i.isUploaded),I(2),P("disabled",i.categoryForm.invalid),I(1),re(i.editStatus?"\u0417\u0431\u0435\u0440\u0435\u0433\u0442\u0438":"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u0438"),I(16),P("ngForOf",i.adminCategory))},dependencies:[yn,On,Ca,xo,wa,Ia,No,Is]})}return t})();function Sme(t,e){if(1&t&&(g(0,"option",49),_(1),p()),2&t){const n=e.$implicit;P("ngValue",n),I(1),re(n.name)}}function Ame(t,e){if(1&t){const n=tt();ur(0),g(1,"div",3)(2,"label",50),_(3,"\u0417\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u043d\u044f"),p(),g(4,"input",51),K("change",function(i){return we(n),Ie(U().upload(i))}),p()(),g(5,"div",52),H(6,"div",53),p(),cr()}if(2&t){const n=U();I(6),Xd("width",n.uploadPercent,"%")}}function Rme(t,e){if(1&t){const n=tt();ur(0),H(1,"img",54),g(2,"button",55),K("click",function(){return we(n),Ie(U().deleteImage())}),_(3,"\u0412\u0438\u0434\u0430\u043b\u0438\u0442\u0438"),p(),cr()}if(2&t){const n=U();I(1),P("src",n.valueByControle("imagePath"),sr)}}function Pme(t,e){if(1&t){const n=tt();g(0,"tr")(1,"td"),_(2),p(),g(3,"td"),_(4),p(),g(5,"td"),_(6),ps(7,"slice"),p(),g(8,"td"),_(9),p(),g(10,"td"),H(11,"img",56),p(),g(12,"td"),_(13),p(),g(14,"td"),_(15),p(),g(16,"td"),_(17),p(),g(18,"td"),_(19),p(),g(20,"td"),_(21),p(),g(22,"td"),_(23),p(),g(24,"td"),_(25),p(),g(26,"td"),_(27),p(),g(28,"td")(29,"button",57),K("click",function(){const o=we(n).$implicit;return Ie(U().editProduct(o))}),_(30,"\u0420\u0435\u0434\u0430\u0433\u0443\u0432\u0430\u0442\u0438"),p(),g(31,"button",58),K("click",function(){const o=we(n).$implicit;return Ie(U().deleteProduct(o))}),_(32," \u0412\u0438\u0434\u0430\u043b\u0438\u0442\u0438 "),p()()()}if(2&t){const n=e.$implicit,r=e.index,i=U();I(2),re(r+1),I(2),re(n.category.name),I(2),re(gs(7,14,n.name,0,10)),I(3),re(n.path),I(2),P("src",n.imagePath,sr),I(2),re(n.price),I(2),re(n.matrix),I(2),re(n.display),I(2),re(n.memory),I(2),re(n.bluetooth),I(2),re(n.chargingMethod),I(2),re(n.material),I(2),re(n.produced),I(4),P("disabled",i.editStatus)}}let xme=(()=>{class t{constructor(n,r,i,o){this.fb=n,this.productServise=r,this.categoryServise=i,this.ImageService=o,this.adminCategories=[],this.adminProduct=[],this.editStatus=!1,this.isUploaded=!1}ngOnInit(){this.innitProductForm(),this.loadCategories(),this.loadProducts()}loadCategories(){this.categoryServise.getAllFirebase().subscribe(n=>{this.adminCategories=n,this.productForm.patchValue({category:this.adminCategories[0].id})})}innitProductForm(){this.productForm=this.fb.group({category:[null,Ge.required],name:[null,Ge.required],path:[null,Ge.required],description:[null,Ge.required],imagePath:[null,Ge.required],price:[null,Ge.required],matrix:[null,Ge.required],display:[null,Ge.required],memory:[null,Ge.required],bluetooth:[null,Ge.required],chargingMethod:[null,Ge.required],material:[null,Ge.required],produced:[null,Ge.required],count:[1]})}loadProducts(){this.productServise.getAllFirebase().subscribe(n=>{this.adminProduct=n})}addProduct(){this.editStatus?this.productServise.updateFirebase(this.productForm.value,this.currentProductId).then(()=>{this.productForm.value.count=1,this.loadProducts()}):this.productServise.createFirebase(this.productForm.value).then(()=>{this.loadProducts()}),this.editStatus=!1,this.productForm.reset(),this.isUploaded=!1,this.uploadPercent=0}editProduct(n){this.productForm.patchValue({category:n.category,name:n.name,path:n.path,description:n.description,imagePath:n.imagePath,price:n.price,matrix:n.matrix,display:n.display,memory:n.memory,bluetooth:n.bluetooth,chargingMethod:n.chargingMethod,material:n.material,produced:n.produced}),this.editStatus=!0,this.currentProductId=n.id,this.isUploaded=!0}deleteProduct(n){this.deleteIndex=n.id}confirmDelete(){void 0!==this.deleteIndex&&this.productServise.deleteFirebase(this.deleteIndex).then(()=>{this.loadProducts()})}upload(n){const r=n.target.files[0];this.ImageService.uploadFile("images",r.name,r).then(i=>{this.productForm.patchValue({imagePath:i}),this.isUploaded=!0}).catch(i=>{console.log(i)})}deleteImage(){this.ImageService.deleteUploadFile(this.valueByControle("imagePath")).then(()=>{this.isUploaded=!1,this.uploadPercent=0,this.productForm.patchValue({imagePath:null})}).catch(n=>{console.log(n)})}valueByControle(n){return this.productForm.get(n)?.value}static#e=this.\u0275fac=function(r){return new(r||t)(E(Nc),E(Ty),E(tH),E(nH))};static#t=this.\u0275cmp=Ue({type:t,selectors:[["app-admin-product"]],decls:108,vars:7,consts:[[1,"row"],[1,"col-12","border","border-light-subtle"],[3,"formGroup","ngSubmit"],[1,"mb-3"],[1,"form-label"],["aria-label","Default select example","formControlName","category",1,"form-select","mt-2"],["category",""],[3,"ngValue",4,"ngFor","ngForOf"],[1,"col","mb-3"],["for","name",1,"form-label"],["formControlName","name","name","name","id","name","placeholder","\u0406\u043c\u044f..",1,"form-control"],["for","path",1,"form-label"],["formControlName","path","name","path","type","text","id","path",1,"form-control"],["for","description",1,"form-label"],["formControlName","description","name","description","id","description","placeholder","\u041e\u043f\u0438\u0441..",1,"form-control"],[1,"mb-3","d-flex"],["for","matrix",1,"form-label"],["formControlName","matrix","name","matrix","type","text","id","matrix",1,"form-control"],["for","price",1,"form-label"],["formControlName","price","name","price","type","number","id","price",1,"form-control"],["for","display",1,"form-label"],["formControlName","display","name","display","type","text","id","display",1,"form-control"],["for","memory",1,"form-label"],["formControlName","memory","name","memory","type","text","id","memory",1,"form-control"],["for","bluetooth",1,"form-label"],["formControlName","bluetooth","name","bluetooth","type","text","id","bluetooth",1,"form-control"],["for","chargingMethod",1,"form-label"],["formControlName","chargingMethod","name","chargingMethod","type","text","id","chargingMethod",1,"form-control"],["for","material",1,"form-label"],["formControlName","material","name","material","type","text","id","material",1,"form-control"],["for","produced",1,"form-label"],["formControlName","produced","name","produced","type","text","id","produced",1,"form-control"],[4,"ngIf"],[1,"mb-2"],["type","submit",1,"btn","btn-success",3,"disabled"],[1,"col-12","mt-3","border","border-light-subtle"],[1,"table"],["scope","col"],[4,"ngFor","ngForOf"],["id","confirmDeleteModal","role","dialog","aria-labelledby","confirmDeleteModalLabel","aria-hidden","true",1,"modal","fade"],["role","document",1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],["id","confirmDeleteModalLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary"],["type","button","data-bs-dismiss","modal",1,"btn","btn-danger",3,"click"],[3,"ngValue"],["for","formFile",1,"form-label"],["type","file","id","formFile",1,"form-control",3,"change"],["role","progressbar","aria-label","Success striped example","aria-valuemin","0","aria-valuemax","100",1,"progress","mb-2"],[1,"progress-bar","progress-bar-striped","bg-success"],["alt","","width","100px",3,"src"],["type","button",1,"btn","btn-danger",3,"click"],["alt","","height","75px",3,"src"],["type","button",1,"btn","btn-warning","me-2",3,"click"],["type","button","data-bs-toggle","modal","data-bs-target","#confirmDeleteModal",1,"btn","btn-danger",3,"disabled","click"]],template:function(r,i){1&r&&(g(0,"div",0)(1,"div",1)(2,"form",2),K("ngSubmit",function(){return i.addProduct()}),g(3,"div",3)(4,"label",4),_(5,"\u041a\u0430\u0442\u0435\u0433\u043e\u0440\u0456\u044f"),p(),g(6,"select",5,6),B(8,Sme,2,2,"option",7),p()(),g(9,"div",0)(10,"div",8)(11,"label",9),_(12,"\u0406\u043c\u044f"),p(),H(13,"input",10),p(),g(14,"div",8)(15,"label",11),_(16,"\u0428\u043b\u044f\u0445"),p(),H(17,"input",12),p()(),g(18,"div",3)(19,"label",13),_(20,"\u041e\u043f\u0438\u0441"),p(),H(21,"textarea",14),p(),g(22,"div",15)(23,"div",3)(24,"label",16),_(25,"\u0422\u0438\u043f \u043c\u0430\u0442\u0440\u0438\u0446\u0456"),p(),H(26,"input",17),p(),g(27,"div",3)(28,"label",18),_(29,"\u0426\u0456\u043d\u0430"),p(),H(30,"input",19),p(),g(31,"div",3)(32,"label",20),_(33,"\u0414\u0456\u0441\u043f\u043b\u0435\u0439"),p(),H(34,"input",21),p(),g(35,"div",3)(36,"label",22),_(37,"\u041f\u0430\u043c\u044f\u0442\u044c"),p(),H(38,"input",23),p(),g(39,"div",3)(40,"label",24),_(41,"Bluetooth"),p(),H(42,"input",25),p(),g(43,"div",3)(44,"label",26),_(45,"\u0417\u0430\u0440\u044f\u0434\u043a\u0430"),p(),H(46,"input",27),p(),g(47,"div",3)(48,"label",28),_(49,"\u041c\u0430\u0442\u0435\u0440\u0456\u0430\u043b"),p(),H(50,"input",29),p(),g(51,"div",3)(52,"label",30),_(53,"\u0412\u0438\u0440\u043e\u0431\u043b\u0435\u043d\u043e"),p(),H(54,"input",31),p()(),B(55,Ame,7,2,"ng-container",32),B(56,Rme,4,1,"ng-container",32),g(57,"div",33)(58,"button",34),_(59),p()()()(),g(60,"div",35)(61,"table",36)(62,"thead")(63,"tr")(64,"th",37),_(65,"#"),p(),g(66,"th",37),_(67,"\u041a\u0430\u0442\u0435\u0433\u043e\u0440\u0456\u044f"),p(),g(68,"th",37),_(69,"\u0406\u043c\u044f"),p(),g(70,"th",37),_(71,"\u0428\u043b\u044f\u0445"),p(),g(72,"th",37),_(73,"\u0417\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u043d\u044f"),p(),g(74,"th",37),_(75,"\u0426\u0456\u043d\u0430"),p(),g(76,"th",37),_(77,"\u041c\u0430\u0442\u0440\u0438\u0446\u044f"),p(),g(78,"th",37),_(79,"\u0414\u0456\u0441\u043f\u043b\u0435\u0439"),p(),g(80,"th",37),_(81,"\u041f\u0430\u043c\u044f\u0442\u044c"),p(),g(82,"th",37),_(83,"Bluetooth"),p(),g(84,"th",37),_(85,"\u0417\u0430\u0440\u044f\u0434\u043a\u0430"),p(),g(86,"th",37),_(87,"\u041c\u0430\u0442\u0435\u0440\u0456\u0430\u043b"),p(),g(88,"th",37),_(89,"\u0412\u0438\u0440\u043e\u0431\u043b\u0435\u043d\u043e"),p(),g(90,"th",37),_(91,"\u0414\u0456\u0457"),p()()(),g(92,"tbody"),B(93,Pme,33,18,"tr",38),p()()()(),g(94,"div",39)(95,"div",40)(96,"div",41)(97,"div",42)(98,"h5",43),_(99,"\u041f\u0456\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u0438 \u0432\u0438\u0434\u0430\u043b\u0435\u043d\u043d\u044f"),p(),H(100,"button",44),p(),g(101,"div",45),_(102," \u0412\u0438 \u0432\u043f\u0435\u0432\u043d\u0435\u043d\u0456, \u0449\u043e \u0445\u043e\u0447\u0435\u0442\u0435 \u0432\u0438\u0434\u0430\u043b\u0438\u0442\u0438 \u0446\u0435\u0439 \u0435\u043b\u0435\u043c\u0435\u043d\u0442? "),p(),g(103,"div",46)(104,"button",47),_(105,"\u0421\u043a\u0430\u0441\u0443\u0432\u0430\u0442\u0438"),p(),g(106,"button",48),K("click",function(){return i.confirmDelete()}),_(107,"\u041f\u0456\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u0438 \u0432\u0438\u0434\u0430\u043b\u0435\u043d\u043d\u044f"),p()()()()()),2&r&&(I(2),P("formGroup",i.productForm),I(6),P("ngForOf",i.adminCategories),I(47),P("ngIf",!i.isUploaded),I(1),P("ngIf",i.isUploaded),I(2),P("disabled",i.productForm.invalid),I(1),re(i.editStatus?"\u0417\u0431\u0435\u0440\u0435\u0433\u0442\u0438":"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u0438"),I(34),P("ngForOf",i.adminProduct))},dependencies:[yn,On,Ca,r2,o2,xo,Zm,Xm,wa,Ia,No,Is,Pc]})}return t})();function Nme(t,e){if(1&t){const n=tt();ur(0),g(1,"div",3)(2,"label",25),_(3,"\u0417\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u043d\u044f"),p(),g(4,"input",26),K("change",function(i){return we(n),Ie(U().upload(i))}),p()(),g(5,"div",27),H(6,"div",28),p(),cr()}if(2&t){const n=U();I(6),Xd("width",n.uploadPercent,"%")}}function Mme(t,e){if(1&t){const n=tt();ur(0),H(1,"img",29),g(2,"button",30),K("click",function(){return we(n),Ie(U().deleteImage())}),_(3,"\u0412\u0438\u0434\u0430\u043b\u0438\u0442\u0438"),p(),cr()}if(2&t){const n=U();I(1),P("src",n.valueByControle("imagePath"),sr)}}function Ome(t,e){1&t&&(g(0,"span"),_(1," ... "),p())}function kme(t,e){if(1&t){const n=tt();g(0,"tr")(1,"td"),_(2),p(),g(3,"td"),_(4),p(),g(5,"td"),_(6),ps(7,"slice"),B(8,Ome,2,0,"span",8),p(),g(9,"td"),H(10,"img",31),p(),g(11,"td")(12,"button",32),K("click",function(){const o=we(n).$implicit;return Ie(U().editDiscount(o))}),_(13,"\u0420\u0435\u0434\u0430\u0433\u0443\u0432\u0430\u0442\u0438"),p(),g(14,"button",33),K("click",function(){const o=we(n).$implicit;return Ie(U().deleteDiscount(o))}),_(15," \u0412\u0438\u0434\u0430\u043b\u0438\u0442\u0438 "),p()()()}if(2&t){const n=e.$implicit,r=e.index,i=U();I(2),re(r+1),I(2),re(n.name),I(2),Nn("",gs(7,6,n.description,0,50)," "),I(2),P("ngIf",n.description.length>20),I(2),P("src",n.imagePath,sr),I(4),P("disabled",i.editStatus)}}let Fme=(()=>{class t{constructor(n,r,i){this.discountService=n,this.fb=r,this.storage=i,this.adminDiscount=[],this.editStatus=!1,this.isUploaded=!1}ngOnInit(){this.innitCategoryForm(),this.loadDiscounts()}innitCategoryForm(){this.discountForm=this.fb.group({description:[null,Ge.required],imagePath:[null,Ge.required],name:[null,Ge.required]})}loadDiscounts(){this.discountService.getAllFirebase().subscribe(n=>{this.adminDiscount=n})}addDiscount(){this.editStatus?this.discountService.updateFirebase(this.discountForm.value,this.currentDiscountId).then(()=>{this.loadDiscounts()}):(this.editStatus=!1,this.discountService.createFirebase(this.discountForm.value).then(()=>{this.loadDiscounts()})),this.discountForm.reset(),this.editStatus=!1,this.isUploaded=!1,this.uploadPercent=0}editDiscount(n){this.discountForm.patchValue({name:n.name,description:n.description,imagePath:n.imagePath}),this.editStatus=!0,this.currentDiscountId=n.id}deleteDiscount(n){this.deleteIndex=n.id}confirmDelete(){void 0!==this.deleteIndex&&this.discountService.deleteFirebase(this.deleteIndex).then(()=>{this.loadDiscounts()})}upload(n){const r=n.target.files[0];this.uploadFile("images",r.name,r).then(i=>{this.discountForm.patchValue({imagePath:i}),this.isUploaded=!0}).catch(i=>{console.log(i)})}uploadFile(n,r,i){var o=this;return w(function*(){const s=`${n}/${r}`;let a="";if(i)try{const u=Cp(o.storage,s),c=eH(u,i);Z$(c).subscribe(l=>{o.uploadPercent=l.progress}),yield c,a=yield X$(u)}catch(u){console.error(u)}else console.log("wrong format");return Promise.resolve(a)})()}valueByControle(n){return this.discountForm.get(n)?.value}deleteImage(){const n=Cp(this.storage,this.valueByControle("imagePath"));FS(n).then(()=>{console.log("File deleted"),this.isUploaded=!1,this.uploadPercent=0,this.discountForm.patchValue({imagePath:null})})}static#e=this.\u0275fac=function(r){return new(r||t)(E(ES),E(Nc),E(Wl))};static#t=this.\u0275cmp=Ue({type:t,selectors:[["app-admin-discount"]],decls:45,vars:6,consts:[[1,"row"],[1,"col-12","border","border-light-subtle"],[3,"formGroup","ngSubmit"],[1,"mb-3"],["for","name",1,"form-label"],["formControlName","name","name","name","id","name","placeholder","\u0406\u043c\u044f..",1,"form-control"],["for","description",1,"form-label"],["formControlName","description","name","description","id","description","placeholder","\u041e\u043f\u0438\u0441..",1,"form-control"],[4,"ngIf"],[1,"mb-2"],["type","submit",1,"btn","btn-success",3,"disabled"],[1,"col-12","mt-3","border","border-light-subtle"],[1,"table"],["scope","col"],[4,"ngFor","ngForOf"],["id","confirmDeleteModal","role","dialog","aria-labelledby","confirmDeleteModalLabel","aria-hidden","true",1,"modal","fade"],["role","document",1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],["id","confirmDeleteModalLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary"],["type","button","data-bs-dismiss","modal",1,"btn","btn-danger",3,"click"],["for","formFile",1,"form-label"],["type","file","id","formFile",1,"form-control",3,"change"],["role","progressbar","aria-label","Success striped example","aria-valuemin","0","aria-valuemax","100",1,"progress","mb-2"],[1,"progress-bar","progress-bar-striped","bg-success"],["alt","","width","100px",3,"src"],["type","button",1,"btn","btn-danger",3,"click"],["alt","","height","75px",3,"src"],["type","button",1,"btn","btn-warning","me-2",3,"click"],["type","button","data-bs-toggle","modal","data-bs-target","#confirmDeleteModal",1,"btn","btn-danger",3,"disabled","click"]],template:function(r,i){1&r&&(g(0,"div",0)(1,"div",1)(2,"form",2),K("ngSubmit",function(){return i.addDiscount()}),g(3,"div",3)(4,"label",4),_(5,"\u0406\u043c\u044f"),p(),H(6,"input",5),g(7,"label",6),_(8,"\u041e\u043f\u0438\u0441"),p(),H(9,"textarea",7),p(),B(10,Nme,7,2,"ng-container",8),B(11,Mme,4,1,"ng-container",8),g(12,"div",9)(13,"button",10),_(14),p()()()(),g(15,"div",11)(16,"table",12)(17,"thead")(18,"tr")(19,"th",13),_(20,"#"),p(),g(21,"th",13),_(22,"\u041d\u0430\u0437\u0432\u0430"),p(),g(23,"th",13),_(24,"\u041e\u043f\u0438\u0441"),p(),g(25,"th",13),_(26,"\u0417\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u043d\u044f"),p(),g(27,"th",13),_(28,"\u0414\u0456\u0457"),p()()(),g(29,"tbody"),B(30,kme,16,10,"tr",14),p()()()(),g(31,"div",15)(32,"div",16)(33,"div",17)(34,"div",18)(35,"h5",19),_(36,"\u041f\u0456\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u0438 \u0432\u0438\u0434\u0430\u043b\u0435\u043d\u043d\u044f"),p(),H(37,"button",20),p(),g(38,"div",21),_(39," \u0412\u0438 \u0432\u043f\u0435\u0432\u043d\u0435\u043d\u0456, \u0449\u043e \u0445\u043e\u0447\u0435\u0442\u0435 \u0432\u0438\u0434\u0430\u043b\u0438\u0442\u0438 \u0446\u0435\u0439 \u0435\u043b\u0435\u043c\u0435\u043d\u0442? "),p(),g(40,"div",22)(41,"button",23),_(42,"\u0421\u043a\u0430\u0441\u0443\u0432\u0430\u0442\u0438"),p(),g(43,"button",24),K("click",function(){return i.confirmDelete()}),_(44,"\u041f\u0456\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u0438 \u0432\u0438\u0434\u0430\u043b\u0435\u043d\u043d\u044f"),p()()()()()),2&r&&(I(2),P("formGroup",i.discountForm),I(8),P("ngIf",!i.isUploaded),I(1),P("ngIf",i.isUploaded),I(2),P("disabled",i.discountForm.invalid),I(1),re(i.editStatus?"\u0417\u0431\u0435\u0440\u0435\u0433\u0442\u0438":"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u0438"),I(16),P("ngForOf",i.adminDiscount))},dependencies:[yn,On,Ca,xo,wa,Ia,No,Is,Pc]})}return t})(),Vme=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275cmp=Ue({type:t,selectors:[["app-admin-news"]],decls:2,vars:0,template:function(r,i){1&r&&(g(0,"p"),_(1,"admin-news works!"),p())}})}return t})();function Lme(t,e){1&t&&(g(0,"li",30)(1,"a",31),_(2,"\u0421\u0442\u0430\u0442\u0443\u0441"),p()())}function Bme(t,e){1&t&&(g(0,"li",32)(1,"a",33),_(2,"\u0421\u0442\u0430\u0442\u0443\u0441"),p()())}function Ume(t,e){if(1&t){const n=tt();g(0,"tr",17)(1,"td",18),_(2),p(),g(3,"td",19),_(4),p(),g(5,"td",19)(6,"button",20),K("click",function(){const o=we(n).$implicit;return Ie(U().showOrder(o.order))}),_(7," \u041f\u0435\u0440\u0435\u0433\u043b\u044f\u043d\u0443\u0442\u0438 "),p()(),g(8,"td",19),_(9),p(),g(10,"td",21)(11,"p",22)(12,"span",23),_(13),p(),_(14,"\u0433\u0440\u043d"),p()(),g(15,"td",24),B(16,Lme,3,0,"li",25),B(17,Bme,3,0,"li",26),p(),g(18,"td")(19,"div",27)(20,"button",28),K("click",function(){const o=we(n).$implicit;return Ie(U().successOrder(o,o.id))}),_(21,"\u041f\u043e\u0447\u0430\u0442\u0438 \u043e\u0431\u0440\u043e\u0431\u043a\u0443"),p(),g(22,"button",29),K("click",function(){const o=we(n).$implicit;return Ie(U().deleteBuy(o.id))}),_(23,"\u0412\u0456\u0434\u0445\u0438\u043b\u0438\u0442\u0438"),p()()()()}if(2&t){const n=e.$implicit,r=e.index;I(2),Nn("\u2116 ",r+1,""),I(2),Nn(" ",n.address," "),I(5),Nn(" ",n.phone_number," "),I(4),re(n.totalPrice),I(3),P("ngIf",n.progress),I(1),P("ngIf",!n.progress)}}function jme(t,e){if(1&t&&(g(0,"div")(1,"p"),_(2),p()()),2&t){const n=e.$implicit;I(2),w1("",n.name," - ",n.quantity," \u0448\u0442.")}}function $me(t,e){if(1&t&&(g(0,"div"),B(1,jme,3,2,"div",34),p()),2&t){const n=U();I(1),P("ngForOf",n.selectedOrderIndex)}}let Hme=(()=>{class t{constructor(n){this.afs=n,this.allOrders=[],this.allBuys=[],this.selectedOrderIndex=[],this.users=[]}ngOnInit(){var n=this;return w(function*(){n.innitBuys()})()}innitBuys(){var n=this;return w(function*(){const r=g$(),i=zfe(r,"users"),o=m$(i);(yield qfe(o)).docs.forEach(a=>{const u=a.data().buys;u&&Array.isArray(u)&&n.allBuys.push(...u)}),console.log(n.allBuys)})()}showOrder(n){this.selectedOrderIndex=n}successOrder(n,r){return w(function*(){n.progress=!0})()}deleteBuy(n){return w(function*(){})()}static#e=this.\u0275fac=function(r){return new(r||t)(E(Wr))};static#t=this.\u0275cmp=Ue({type:t,selectors:[["app-admin-order"]],decls:32,vars:2,consts:[[1,"orders__wrapper"],[1,"orders__table"],[1,"table"],[1,"table__header"],[1,"header","table__item"],[1,"order__wrapper"],["class","table__main",4,"ngFor","ngForOf"],["id","exampleModal","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],["id","exampleModalLabel",1,"modal-title","fs-5"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],[4,"ngIf"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary"],[1,"table__main"],[1,"main__order","table__item"],[1,"main__address","table__item"],["type","button","data-bs-toggle","modal","data-bs-target","#exampleModal",1,"btn","btn-outline-secondary",3,"click"],[1,"main__total","table__item"],[1,"main__total_text"],[1,"total__text_bold"],[1,"main__status","table__item"],["class","status__list list__done",4,"ngIf"],["class","status__list list__no",4,"ngIf"],[2,"display","flex"],[1,"btn","btn-outline-success","me-1",3,"click"],[1,"btn","btn-outline-danger",3,"click"],[1,"status__list","list__done"],[1,"status__list_done"],[1,"status__list","list__no"],[1,"status__list_no"],[4,"ngFor","ngForOf"]],template:function(r,i){1&r&&(g(0,"div",0)(1,"div",1)(2,"table",2)(3,"tr",3)(4,"th",4),_(5,"\u2116 \u0437\u0430\u043c\u043e\u0432\u043b\u0435\u043d\u043d\u044f"),p(),g(6,"th",4),_(7,"\u0410\u0434\u0440\u0435\u0441\u0430"),p(),g(8,"th",4),_(9,"\u0417\u0430\u043c\u043e\u0432\u043b\u0435\u043d\u043e"),p(),g(10,"th",4),_(11,"\u041d\u043e\u043c\u0435\u0440 \u0442\u0435\u043b\u0435\u0444\u043e\u043d\u0443"),p(),g(12,"th",4),_(13,"\u0421\u0443\u043c\u0430"),p(),g(14,"th",4),_(15,"\u0421\u0442\u0430\u0442\u0443\u0441"),p(),g(16,"th",4),_(17," \u041f\u0440\u043e\u0446\u0435\u0441"),p()(),g(18,"tbody",5),B(19,Ume,24,6,"tr",6),p()()()(),g(20,"div",7)(21,"div",8)(22,"div",9)(23,"div",10)(24,"h1",11),_(25,"\u0417\u0430\u043c\u043e\u0432\u043b\u0435\u043d\u043e"),p(),H(26,"button",12),p(),g(27,"div",13),B(28,$me,2,1,"div",14),p(),g(29,"div",15)(30,"button",16),_(31,"\u0417\u0430\u043a\u0440\u0438\u0442\u0438"),p()()()()()),2&r&&(I(19),P("ngForOf",i.allBuys),I(9),P("ngIf",null!==i.selectedOrderIndex))},dependencies:[yn,On],styles:[".orders__wrapper[_ngcontent-%COMP%]{width:100%}.table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse}.table__header[_ngcontent-%COMP%]{width:100%;border-bottom:2px solid #c4f5b9}.table__item[_ngcontent-%COMP%]{padding:30px 0;color:#252525;text-align:left;font-weight:500}.table__main[_ngcontent-%COMP%]{border-bottom:2px solid lightgray}.status__list_done[_ngcontent-%COMP%]{color:#00a700}.status__list_no[_ngcontent-%COMP%]{color:red}.status__list_repeat[_ngcontent-%COMP%]{color:#6ac9ec}.list__done[_ngcontent-%COMP%]{color:#00a700;list-style-type:disc}.list__no[_ngcontent-%COMP%]{color:red;list-style-type:disc}.header__order[_ngcontent-%COMP%]{width:20%}.header__date[_ngcontent-%COMP%]{width:22%}.header__address[_ngcontent-%COMP%]{width:20%}.header__total[_ngcontent-%COMP%]{width:15%}.header__status[_ngcontent-%COMP%]{width:30%}"]})}return t})(),Gme=(()=>{class t{constructor(n){this.router=n}canActivate(n,r){const i=JSON.parse(localStorage.getItem("currentUser"));return!(!i||i.role!==uu.ADMIN)||(this.router.navigate([""]),!1)}static#e=this.\u0275fac=function(r){return new(r||t)(j(Vn))};static#t=this.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function zme(t,e){if(1&t){const n=tt();g(0,"button",12),K("click",function(){return we(n),Ie(U().loginUser())}),_(1,"\u041b\u043e\u0433\u0456\u043d"),p()}2&t&&P("disabled",U().authForm.invalid)}function qme(t,e){if(1&t){const n=tt();g(0,"button",12),K("click",function(){return we(n),Ie(U().registerUser())}),_(1,"\u0420\u0435\u0454\u0441\u0442\u0440\u0430\u0446\u0456\u044f"),p()}2&t&&P("disabled",U().authForm.invalid)}let Wme=(()=>{class t{constructor(n,r,i,o,s){this.fb=n,this.accountService=r,this.route=i,this.auth=o,this.afs=s,this.isLogin=!1}ngOnInit(){this.initAuthForm()}ngOnDestroy(){this.loginSubscription.unsubscribe()}initAuthForm(){this.authForm=this.fb.group({email:[null,[Ge.required,Ge.email]],password:[null,Ge.required]})}loginUser(){const{email:n,password:r}=this.authForm.value;this.login(n,r).then(()=>{console.log("login done")}).catch(i=>{console.log("login error",i)})}login(n,r){var i=this;return w(function*(){const o=yield function Bse(t,e,n){return to(t.app)?Promise.reject(vn(t)):WI(Vt(t),YV.credential(e,n)).catch(function(){var r=w(function*(i){throw"auth/password-does-not-meet-requirements"===i.code&&nT(t),i});return function(i){return r.apply(this,arguments)}}())}(i.auth,n,r);i.loginSubscription=Iy(gr(i.afs,"users",o.user.uid)).subscribe(s=>{const a={...s,uid:o.user.uid};localStorage.setItem("currentUser",JSON.stringify(a)),s&&s.role===uu.USER?i.route.navigate(["/cabinet"]):s&&s.role===uu.ADMIN&&i.route.navigate(["/admin"]),i.accountService.isUserLogin$.next(!0)},s=>{console.log(s)})})()}changeIsLogin(){this.isLogin=!this.isLogin}registerUser(){const{email:n,password:r}=this.authForm.value;this.emailSignUp(n,r).then(()=>{this.isLogin=!this.isLogin,this.authForm.reset()}).catch(i=>{})}emailSignUp(n,r){var i=this;return w(function*(){const o=yield Nue(i.auth,n,r),s={email:o.user.email,firstName:"",lastName:"",phoneNumber:"",address:"",orders:[],role:"USER"};_$(gr(i.afs,"users",o.user.uid),s)})()}static#e=this.\u0275fac=function(r){return new(r||t)(E(Nc),E(bp),E(Vn),E(Z_),E(Wr))};static#t=this.\u0275cmp=Ue({type:t,selectors:[["app-authorization"]],decls:18,vars:5,consts:[[1,"row"],[1,"col-4","border","border-light-subtle","m-auto","mt-5","mb-5"],[1,"center","mb-5","mt-5"],[1,"loginForm","p-3",3,"formGroup","ngSubmit"],[1,"mb-3"],["for","email",1,"form-label","center","mt-2"],["formControlName","email","name","email","id","email",1,"form-control"],["for","password",1,"form-label","center"],["formControlName","password","name","password","type","password","id","password",1,"form-control"],[1,"center","mb-3"],["type","submit","class","btn btn-success",3,"disabled","click",4,"ngIf"],[1,"goRegistration","mb-4",3,"click"],["type","submit",1,"btn","btn-success",3,"disabled","click"]],template:function(r,i){1&r&&(g(0,"div",0)(1,"div",1)(2,"h3",2),_(3),p(),g(4,"form",3),K("ngSubmit",function(){return i.loginUser()}),g(5,"div",4)(6,"label",5),_(7,"Email"),p(),H(8,"input",6),p(),g(9,"div",4)(10,"label",7),_(11,"\u041f\u0430\u0440\u043e\u043b\u044c"),p(),H(12,"input",8),p(),g(13,"div",9),B(14,zme,2,1,"button",10),B(15,qme,2,1,"button",10),p(),g(16,"a",11),K("click",function(){return i.changeIsLogin()}),_(17),p()()()()),2&r&&(I(3),re(i.isLogin?"\u0420\u0435\u0454\u0441\u0442\u0440\u0430\u0446\u0456\u044f":"\u0410\u0432\u0442\u043e\u0440\u0438\u0437\u0430\u0446\u0456\u044f"),I(1),P("formGroup",i.authForm),I(10),P("ngIf",!i.isLogin),I(1),P("ngIf",i.isLogin),I(2),re(i.isLogin?"\u0423 \u0432\u0430\u0441 \u0454 \u0430\u043a\u0430\u0443\u0442?":"\u041d\u0435\u043c\u0430\u0454 \u0430\u043a\u0430\u0443\u043d\u0442\u0443?"))},dependencies:[On,Ca,xo,wa,Ia,No,Is],styles:[".center[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}.goRegistration[_ngcontent-%COMP%]{color:#808080fa;display:flex;align-items:center;justify-content:center;font-size:13px;cursor:pointer}.row[_ngcontent-%COMP%]{--bs-gutter-x: -.5rem}"]})}return t})();function Kme(t,e){if(1&t){const n=tt();ur(0),g(1,"form",9)(2,"div",10)(3,"div",11)(4,"div",12),_(5,"1"),p(),g(6,"h2",13),_(7,"\u041e\u0441\u043e\u0431\u0438\u0441\u0442\u0456 \u0434\u0430\u043d\u0456"),p()(),g(8,"div",14)(9,"div",15)(10,"div",16)(11,"p"),_(12,"\u0406\u043c\u044f"),p(),H(13,"input",17),p(),g(14,"div",16)(15,"p"),_(16,"\u0424\u0430\u043c\u0456\u043b\u0456\u044f"),p(),H(17,"input",18),p()(),g(18,"div",19)(19,"p"),_(20,"\u041d\u043e\u043c\u0435\u0440 \u0442\u0435\u043b\u0435\u0444\u043e\u043d\u0443"),p(),H(21,"input",20),p(),g(22,"div",21),H(23,"input",22),p()(),g(24,"div",23)(25,"button",24),K("click",function(){return we(n),Ie(U().editPersonalData())}),_(26,"\u0417\u0431\u0435\u0440\u0435\u0433\u0442\u0438 \u0437\u043c\u0456\u043d\u0438"),p()()()(),cr()}if(2&t){const n=U();I(1),P("formGroup",n.editForm),I(12),P("value",n.currentUser.firstName),I(4),P("value",n.currentUser.lastName),I(4),P("value",n.currentUser.phone),I(2),P("value",n.currentUser.email)}}function Qme(t,e){1&t&&(g(0,"p",49),_(1,"\u0412 \u043e\u0431\u0440\u043e\u0431\u0446\u0456"),p())}function Jme(t,e){1&t&&(g(0,"p",50),_(1,"\u0412\u0438\u043a\u043e\u043d\u0430\u043d\u043e"),p())}function Yme(t,e){if(1&t){const n=tt();g(0,"tbody",36)(1,"tr",37)(2,"td",38),_(3),p(),g(4,"td",39),_(5),p(),g(6,"td",40),_(7),p(),g(8,"td",41)(9,"p",42)(10,"span",43),_(11),p(),_(12,"\u0433\u0440\u043d"),p()(),g(13,"td",44),B(14,Qme,2,0,"p",45),B(15,Jme,2,0,"p",46),p(),g(16,"td",47)(17,"button",48),K("click",function(){const o=we(n).index;return Ie(U(2).deleteBuy(o))}),_(18,"\u0412\u0456\u0434\u043c\u0456\u043d\u0438\u0442\u0438"),p()()()()}if(2&t){const n=e.$implicit,r=e.index;I(3),Nn("\u2116 ",r+1,""),I(2),re(n.phone_number),I(2),Nn(" ",n.address," "),I(4),re(n.totalPrice),I(3),P("ngIf",!n.progress),I(1),P("ngIf",n.progress)}}function Zme(t,e){if(1&t&&(ur(0),g(1,"div",25)(2,"div",26)(3,"table",27)(4,"tr",28)(5,"th",29),_(6,"\u2116 \u0437\u0430\u043c\u043e\u0432\u043b\u0435\u043d\u043d\u044f"),p(),g(7,"th",30),_(8,"\u041a\u043e\u043d\u0442\u0430\u043a\u0442\u043d\u0438\u0439 \u043d\u043e\u043c\u0435\u0440"),p(),g(9,"th",31),_(10,"\u0410\u0434\u0440\u0435\u0441\u0430"),p(),g(11,"th",32),_(12,"\u0421\u0443\u043c\u0430"),p(),g(13,"th",33),_(14,"\u0421\u0442\u0430\u0442\u0443\u0441"),p(),g(15,"th",34),_(16,"\u0414\u0456\u0457"),p()(),B(17,Yme,19,6,"tbody",35),p()()(),cr()),2&t){const n=U();I(17),P("ngForOf",n.buys)}}function Xme(t,e){1&t&&(ur(0),g(1,"div",51)(2,"div",52)(3,"h2",53),_(4,"\u0417\u043c\u0456\u043d\u0430 \u043f\u0430\u0440\u043e\u043b\u044e"),p()(),g(5,"div",54)(6,"div",55),H(7,"input",56),p(),g(8,"div",57),H(9,"input",58),p(),g(10,"div",59),H(11,"input",60),p()(),g(12,"div",61)(13,"button",62),_(14,"\u0421\u043a\u0430\u0441\u0443\u0432\u0430\u0442\u0438"),p(),g(15,"button",63),_(16,"\u0417\u0431\u0435\u0440\u0435\u0433\u0442\u0438 \u0437\u043c\u0456\u043d\u0438"),p()()(),cr())}const e_e=[{path:"",component:Yfe},{path:"discount",component:npe},{path:"discount/:id",component:rpe},{path:"product/:category/:id",component:cpe},{path:"product/:category",component:upe},{path:"delivery",component:lpe},{path:"payment",component:dpe},{path:"about",component:hpe},{path:"contacts",component:fpe},{path:"checkout",component:Ope},{path:"auth",component:Wme},{path:"cabinet",component:(()=>{class t{constructor(n,r,i,o){this.accountService=n,this.router=r,this.fb=i,this.afs=o,this.isPersonalDataOpen=!1,this.isHistoryOrdersOpen=!1,this.isChangingPasswordOpen=!1}ngOnInit(){this.getPersonalData(),this.initEditForm(),this.historyUpdate()}initEditForm(){this.editForm=this.fb.group({firstName:[this.currentUser?.firstName,Ge.required],lastName:[this.currentUser?.lastName,Ge.required],phone:[this.currentUser?.phone,Ge.required],email:[this.currentUser?.email,Ge.required]})}getPersonalData(){const n=localStorage.getItem("currentUser");this.currentUser=n?JSON.parse(n):void 0}togglePersonalData(){this.isPersonalDataOpen=!this.isPersonalDataOpen,this.isHistoryOrdersOpen=!1,this.isChangingPasswordOpen=!1}toggleHistoryOrders(){this.isHistoryOrdersOpen=!this.isHistoryOrdersOpen,this.isPersonalDataOpen=!1,this.isChangingPasswordOpen=!1}toggleChangePassword(){this.isChangingPasswordOpen=!this.isChangingPasswordOpen,this.isHistoryOrdersOpen=!1,this.isPersonalDataOpen=!1}logout(){this.router.navigate(["/"]),localStorage.removeItem("currentUser"),this.accountService.isUserLogin$.next(!0)}editPersonalData(){const n=localStorage.getItem("currentUser");if(n){const r=JSON.parse(n);Object.assign(r,this.editForm.value),localStorage.setItem("currentUser",JSON.stringify(r)),this.accountService.updateUserData(r.uid,this.editForm.value).then(()=>console.log("success")).catch(i=>console.error(i)),this.accountService.isUserLogin$.next(!0)}}historyUpdate(){const n=localStorage.getItem("currentUser");if(!n)return;const r=JSON.parse(n);this.buys=r.buys}deleteBuy(n){var r=this;return w(function*(){const i=localStorage.getItem("currentUser");if(!i)return;const o=JSON.parse(i);if(o&&Array.isArray(o.buys)){o.buys.splice(n,1),localStorage.setItem("currentUser",JSON.stringify(o));const s=gr(r.afs,"users",o.uid);try{yield Hl(s,{...o}),console.log("Document successfully updated in Firestore."),r.historyUpdate()}catch(a){console.error("Error updating document:",a)}}})()}static#e=this.\u0275fac=function(r){return new(r||t)(E(bp),E(Vn),E(Nc),E(Wr))};static#t=this.\u0275cmp=Ue({type:t,selectors:[["app-cabinet"]],decls:18,vars:9,consts:[[1,"box"],[1,"cabinet__section"],[1,"container"],[1,"wrapper"],[1,"cabinet__nav"],[1,"cabinet__wrapper_items"],["type","button",1,"cabinet__item_btn",3,"click"],[1,"cabinet__block"],[4,"ngIf"],[3,"formGroup"],[1,"cabinet__info"],[1,"cabinet__block_header"],[1,"cabinet__header_inner"],[1,"block__header_title"],[1,"cabinet__block_main"],[1,"main__fullname_wrapper"],[1,"main__fullname_wrapper_item"],["formControlName","firstName","type","text",1,"main__firstname","main__input",3,"value"],["formControlName","lastName","type","text",1,"main__lastname","main__input",3,"value"],[1,"main__phone_wrapper"],["formControlName","phone","type","number",1,"main__phone","main__input",3,"value"],[1,"main__email_wrapper"],["formControlName","email","type","email",1,"main__email","main__input",3,"value"],[1,"cabinet__block_footer"],["type","button",1,"block__footer_save",3,"click"],[1,"orders__wrapper"],[1,"orders__table"],[1,"table"],[1,"table__header"],[1,"header__order","table__item"],[1,"header__date","table__item"],[1,"header__address","table__item"],[1,"header__total","table__item"],[1,"header__status","table__item"],[1,"header__action","table__item"],["class","order__wrapper",4,"ngFor","ngForOf"],[1,"order__wrapper"],[1,"table__main"],[1,"main__order","table__item"],[1,"main__date","table__item"],[1,"main__address","table__item"],[1,"main__total","table__item"],[1,"main__total_text"],[1,"total__text_bold"],[1,"main__status","table__item"],["class","status__list_progress",4,"ngIf"],["class","status__list_done",4,"ngIf"],[1,"main__action","table__item"],[1,"btn","btn-outline-danger",3,"click"],[1,"status__list_progress"],[1,"status__list_done"],[1,"password__wrapper"],[1,"password__header"],[1,"password__header_title"],[1,"password__main"],[1,"password__current_wrapper"],["type","password","placeholder","\u0412\u0430\u0448 \u043f\u043e\u0442\u043e\u0447\u043d\u0438\u0439 \u043f\u0430\u0440\u043e\u043b\u044c",1,"current__password_input","main__input"],[1,"password__new_wrapper"],["type","password","placeholder","\u041d\u043e\u0432\u0438\u0439 \u043f\u0430\u0440\u043e\u043b\u044c",1,"new__password_input","main__input"],[1,"password__repeat_wrapper"],["type","password","placeholder","\u041f\u043e\u0432\u0442\u043e\u0440\u0456\u0442\u044c \u043f\u0430\u0440\u043e\u043b\u044c",1,"repeat__password_input","main__input"],[1,"password__footer"],["type","button",1,"password__footer_exit"],["type","button",1,"password__footer_save"]],template:function(r,i){1&r&&(g(0,"div",0)(1,"section",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"button",6),K("click",function(){return i.togglePersonalData()}),_(7,"\u041e\u0441\u043e\u0431\u0438\u0441\u0442\u0456 \u0434\u0430\u043d\u0456"),p(),g(8,"button",6),K("click",function(){return i.toggleHistoryOrders()}),_(9,"\u0406\u0441\u0442\u043e\u0440\u0456\u044f \u0437\u0430\u043c\u043e\u0432\u043b\u0435\u043d\u044c"),p(),g(10,"button",6),K("click",function(){return i.toggleChangePassword()}),_(11,"\u0417\u043c\u0456\u043d\u0430 \u043f\u0430\u0440\u043e\u043b\u044e"),p(),g(12,"button",6),K("click",function(){return i.logout()}),_(13,"\u0412\u0438\u0439\u0442\u0438 \u0437 \u0430\u043a\u0430\u0443\u043d\u0442\u0443"),p()()(),g(14,"div",7),B(15,Kme,27,5,"ng-container",8),B(16,Zme,18,1,"ng-container",8),B(17,Xme,17,0,"ng-container",8),p()()()()()),2&r&&(I(6),Oe("active",i.isPersonalDataOpen),I(2),Oe("active",i.isHistoryOrdersOpen),I(2),Oe("active",i.isChangingPasswordOpen),I(5),P("ngIf",i.isPersonalDataOpen),I(1),P("ngIf",i.isHistoryOrdersOpen),I(1),P("ngIf",i.isChangingPasswordOpen))},dependencies:[yn,On,Ca,xo,Zm,wa,Ia,No,Is],styles:[".cabinet__wrapper_items[_ngcontent-%COMP%]{display:flex;align-items:center;flex-direction:column}.cabinet__item_btn[_ngcontent-%COMP%]{width:200px;height:60px;background:none;border:none;font-size:16px;color:#252525;cursor:pointer;border-top:1px solid rgb(238,238,238);border-right:1px solid rgb(238,238,238);border-bottom:1px solid rgb(238,238,238)}.cabinet__block[_ngcontent-%COMP%]{width:74%}.cabinet__block_header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:20px}.cabinet__block_main[_ngcontent-%COMP%]{margin-top:20px;display:flex;align-items:center;justify-content:center;flex-direction:column;gap:20px}.cabinet__block_footer[_ngcontent-%COMP%]{width:100%;display:flex;align-items:center;justify-content:space-between;margin-top:40px}.cabinet__header_inner[_ngcontent-%COMP%]{width:26px;height:26px;background:#c4f5b9;border-radius:4px;color:#252525;font-weight:700;display:flex;align-items:center;justify-content:center}.cabinet__address_wrapper[_ngcontent-%COMP%]{margin-top:40px;display:flex;align-items:center;gap:20px}.cabinet__address_inner[_ngcontent-%COMP%]{width:26px;height:26px;background:#c4f5b9;border-radius:4px;color:#252525;font-weight:700;display:flex;align-items:center;justify-content:center}.container[_ngcontent-%COMP%]{max-width:1200px;margin:60px auto}.wrapper[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:space-between}.block__header_title[_ngcontent-%COMP%]{font-size:22px;font-weight:700}.block__footer_exit[_ngcontent-%COMP%]{width:260px;height:58px;background:none;border:2px solid #c4f5b9;border-radius:8px;font-size:16px;font-weight:700;color:#252525;text-transform:uppercase;transition:.4s;cursor:pointer}.block__footer_exit[_ngcontent-%COMP%]:hover{background:#c4f5b9}.block__footer_save[_ngcontent-%COMP%]{width:260px;height:58px;background:#c4f5b9;border:2px solid transparent;border-radius:8px;font-size:16px;font-weight:700;color:#252525;text-transform:uppercase;transition:.4s;cursor:pointer}.block__footer_save[_ngcontent-%COMP%]:hover{background:none;border-color:#c4f5b9}.main__input[_ngcontent-%COMP%]{height:58px;border:1px solid lightgray;border-radius:10px;color:#252525;padding:0 20px;font-size:16px;outline-color:#c4f5b9}.main__fullname_wrapper[_ngcontent-%COMP%]{width:100%;display:flex;align-items:center;justify-content:space-between}.main__phone[_ngcontent-%COMP%], .main__phone_wrapper[_ngcontent-%COMP%], .main__email[_ngcontent-%COMP%], .main__email_wrapper[_ngcontent-%COMP%]{width:100%}.active[_ngcontent-%COMP%]{border:none;border-top:5px solid #c4f5b9;font-weight:700;color:#252525}.orders__wrapper[_ngcontent-%COMP%]{width:100%}.table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse}.table__header[_ngcontent-%COMP%]{width:100%;border-bottom:2px solid #c4f5b9}.table__item[_ngcontent-%COMP%]{padding:30px 0;color:#252525;text-align:left;font-weight:500}.table__main[_ngcontent-%COMP%]{border-bottom:2px solid lightgray}.header__order[_ngcontent-%COMP%]{width:20%}.header__date[_ngcontent-%COMP%]{width:22%}.header__address[_ngcontent-%COMP%]{width:20%}.header__total[_ngcontent-%COMP%]{width:15%}.header__status[_ngcontent-%COMP%]{width:30%}.main__order[_ngcontent-%COMP%]{font-weight:700}.main__status[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between}.total__text_bold[_ngcontent-%COMP%]{font-weight:700}.status__list_done[_ngcontent-%COMP%]{color:#00a700}.status__list_progress[_ngcontent-%COMP%]{color:#5c5c5c}.list__done[_ngcontent-%COMP%]{color:#00a700;list-style-type:disc}.list__progress[_ngcontent-%COMP%]{color:#5c5c5c;list-style-type:disc}.password__wrapper[_ngcontent-%COMP%]{width:72%;display:flex;align-items:flex-start;justify-content:center;flex-direction:column;gap:20px}.password__header[_ngcontent-%COMP%]{width:100%}.password__main[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:center;flex-direction:column;gap:20px}.password__footer[_ngcontent-%COMP%]{width:100%;display:flex;align-items:center;justify-content:space-between}.password__footer_exit[_ngcontent-%COMP%]{width:260px;height:58px;background:none;border:2px solid #c4f5b9;border-radius:8px;font-size:16px;font-weight:700;color:#252525;text-transform:uppercase;transition:.4s;cursor:pointer}.password__footer_exit[_ngcontent-%COMP%]:hover{background:#c4f5b9}.password__footer_save[_ngcontent-%COMP%]{width:260px;height:58px;background:#c4f5b9;border:2px solid transparent;border-radius:8px;font-size:16px;font-weight:700;color:#252525;text-transform:uppercase;transition:.4s;cursor:pointer}.password__footer_save[_ngcontent-%COMP%]:hover{background:none;border-color:#c4f5b9}.current__password_input[_ngcontent-%COMP%], .new__password_input[_ngcontent-%COMP%], .repeat__password_input[_ngcontent-%COMP%]{width:100%}"]})}return t})(),canActivate:[(t,e)=>{const n=JSON.parse(localStorage.getItem("currentUser"));return!(!n||n.role!==uu.USER)}]},{path:"admin",component:Bpe,canActivate:[Gme],children:[{path:"",pathMatch:"full",component:rH},{path:"category",component:rH},{path:"product",component:xme},{path:"discount",component:Fme},{path:"news",component:Vme},{path:"order",component:Hme}]}];let t_e=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Me({type:t});static#n=this.\u0275inj=Re({imports:[UF.forRoot(e_e),UF]})}return t})(),n_e=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275cmp=Ue({type:t,selectors:[["app-footer"]],decls:26,vars:0,consts:[[1,"footer"],[1,"container"],[1,"row","justify-content-center"],[1,"col-md-12","text-center"],[1,"footer-heading","mb-4"],["href","#",1,"logo"],[1,"menu"],["href","#"],[1,"ftco-footer-social","p-0","justify-content-center",2,"display","flex","list-style-type","none"],["href","#",1,"me-3"],["src","/assets/twitter.svg","alt","","width","25px"],["src","/assets/facebook.svg","alt","","width","25px"],["src","/assets/instagram.svg","alt","","width","25px"]],template:function(r,i){1&r&&(g(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h2",4)(5,"a",5),_(6,"FitShop"),p()(),g(7,"p",6)(8,"a",7),_(9,"\u0413\u043e\u043b\u043e\u0432\u043d\u0430"),p(),g(10,"a",7),_(11,"\u0414\u043e\u0441\u0442\u0430\u0432\u043a\u0430 \u0442\u0430 \u043e\u043f\u043b\u0430\u0442\u0430"),p(),g(12,"a",7),_(13,"\u041f\u0440\u043e \u043d\u0430\u0441"),p(),g(14,"a",7),_(15,"\u041a\u043e\u043d\u0442\u0430\u043a\u0442\u0438"),p()(),g(16,"ul",8)(17,"li")(18,"a",9),H(19,"img",10),p()(),g(20,"li")(21,"a",9),H(22,"img",11),p()(),g(23,"li")(24,"a",7),H(25,"img",12),p()()()()()()())},styles:[".footer[_ngcontent-%COMP%]{padding:20px 0;background:#121212}.footer[_ngcontent-%COMP%]   .footer-heading[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{color:#fff}.footer[_ngcontent-%COMP%]   .menu[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fff9;margin:0 10px;text-transform:uppercase;letter-spacing:1px}"]})}return t})(),r_e=(()=>{class t{constructor(){this.title="shop"}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275cmp=Ue({type:t,selectors:[["app-root"]],decls:4,vars:0,template:function(r,i){1&r&&(H(0,"app-header"),g(1,"main"),H(2,"router-outlet"),p(),H(3,"app-footer"))},dependencies:[g_,wS,n_e]})}return t})();const i_e=["addListener","removeListener"],o_e=["addEventListener","removeEventListener"],s_e=["on","off"];function Gn(t,e,n,r){if(Ce(n)&&(r=n,n=void 0),r)return Gn(t,e,n).pipe(VE(r));const[i,o]=function c_e(t){return Ce(t.addEventListener)&&Ce(t.removeEventListener)}(t)?o_e.map(s=>a=>t[s](e,a,n)):function a_e(t){return Ce(t.addListener)&&Ce(t.removeListener)}(t)?i_e.map(iH(t,e)):function u_e(t){return Ce(t.on)&&Ce(t.off)}(t)?s_e.map(iH(t,e)):[];if(!i&&mv(t))return an(s=>Gn(s,e,n))(sn(t));if(!i)throw new TypeError("Invalid event target");return new Fe(s=>{const a=(...u)=>s.next(1<u.length?u:u[0]);return i(a),()=>o(a)})}function iH(t,e){return n=>r=>t[n](e,r)}const{isArray:d_e}=Array;function sH(t){return 1===t.length&&d_e(t[0])?t[0]:t}function VS(...t){const e=Zp(t),n=sH(t);return n.length?new Fe(r=>{let i=n.map(()=>[]),o=n.map(()=>!1);r.add(()=>{i=o=null});for(let s=0;!r.closed&&s<n.length;s++)sn(n[s]).subscribe(lt(r,a=>{if(i[s].push(a),i.every(u=>u.length)){const u=i.map(c=>c.shift());r.next(e?e(...u):u),i.some((c,l)=>!c.length&&o[l])&&r.complete()}},()=>{o[s]=!0,!i[s].length&&r.complete()}));return()=>{i=o=null}}):Zr}function LS(...t){const e=Zp(t);return St((n,r)=>{const i=t.length,o=new Array(i);let s=t.map(()=>!1),a=!1;for(let u=0;u<i;u++)sn(t[u]).subscribe(lt(r,c=>{o[u]=c,!a&&!s[u]&&(s[u]=!0,(a=s.every(_i))&&(s=null))},ta));n.subscribe(lt(r,u=>{if(a){const c=[u,...o];r.next(e?e(...c):c)}}))})}Math,Math,Math;const H0e=["*"],vye=["dialog"];function hu(t){return"string"==typeof t}function fu(t){return null!=t}function Xl(t){return(t||document.body).getBoundingClientRect()}const BH={animation:!0,transitionTimerDelayMs:5},dve=()=>{},{transitionTimerDelayMs:hve}=BH,Mp=new Map,Or=(t,e,n,r)=>{let i=r.context||{};const o=Mp.get(e);if(o)switch(r.runningTransition){case"continue":return Zr;case"stop":t.run(()=>o.transition$.complete()),i=Object.assign(o.context,i),Mp.delete(e)}const s=n(e,r.animation,i)||dve;if(!r.animation||"none"===window.getComputedStyle(e).transitionProperty)return t.run(()=>s()),ce(void 0).pipe(function cve(t){return e=>new Fe(n=>e.subscribe({next:s=>t.run(()=>n.next(s)),error:s=>t.run(()=>n.error(s)),complete:()=>t.run(()=>n.complete())}))}(t));const a=new $e,u=new $e,c=a.pipe(function f_e(...t){return e=>Dh(e,ce(...t))}(!0));Mp.set(e,{transition$:a,complete:()=>{u.next(),u.complete()},context:i});const l=function lve(t){const{transitionDelay:e,transitionDuration:n}=window.getComputedStyle(t);return 1e3*(parseFloat(e)+parseFloat(n))}(e);return t.runOutsideAngular(()=>{const d=Gn(e,"transitionend").pipe(kt(c),dn(({target:f})=>f===e));(function aH(...t){return 1===(t=sH(t)).length?sn(t[0]):new Fe(function h_e(t){return e=>{let n=[];for(let r=0;n&&!e.closed&&r<t.length;r++)n.push(sn(t[r]).subscribe(lt(e,i=>{if(n){for(let o=0;o<n.length;o++)o!==r&&n[o].unsubscribe();n=null}e.next(i)})))}}(t))})(function oH(t=0,e,n=goe){let r=-1;return null!=e&&(RA(e)?n=e:r=e),new Fe(i=>{let o=function l_e(t){return t instanceof Date&&!isNaN(t)}(t)?+t-n.now():t;o<0&&(o=0);let s=0;return n.schedule(function(){i.closed||(i.next(s++),0<=r?this.schedule(void 0,r):i.complete())},o)})}(l+hve).pipe(kt(c)),d,u).pipe(kt(c)).subscribe(()=>{Mp.delete(e),t.run(()=>{s(),a.next(),a.complete()})})}),a.asObservable()};let Ly=(()=>{class t{constructor(){this.animation=BH.animation}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),KH=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Me({type:t});static#n=this.\u0275inj=Re({})}return t})(),QH=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Me({type:t});static#n=this.\u0275inj=Re({})}return t})(),ZH=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Me({type:t});static#n=this.\u0275inj=Re({})}return t})(),XH=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Me({type:t});static#n=this.\u0275inj=Re({})}return t})();var ct=function(t){return t[t.Tab=9]="Tab",t[t.Enter=13]="Enter",t[t.Escape=27]="Escape",t[t.Space=32]="Space",t[t.PageUp=33]="PageUp",t[t.PageDown=34]="PageDown",t[t.End=35]="End",t[t.Home=36]="Home",t[t.ArrowLeft=37]="ArrowLeft",t[t.ArrowUp=38]="ArrowUp",t[t.ArrowRight=39]="ArrowRight",t[t.ArrowDown=40]="ArrowDown",t}(ct||{});typeof navigator<"u"&&navigator.userAgent&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2||/Android/.test(navigator.userAgent));const s8=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function a8(t){const e=Array.from(t.querySelectorAll(s8)).filter(n=>-1!==n.tabIndex);return[e[0],e[e.length-1]]}new Date(1882,10,12),new Date(2174,10,25);let b8=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Me({type:t});static#n=this.\u0275inj=Re({})}return t})(),I8=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Me({type:t});static#n=this.\u0275inj=Re({})}return t})();class yu{constructor(e,n,r){this.nodes=e,this.viewRef=n,this.componentRef=r}}let dbe=(()=>{class t{constructor(n,r){this._el=n,this._zone=r}ngOnInit(){this._zone.onStable.asObservable().pipe(Fn(1)).subscribe(()=>{Or(this._zone,this._el.nativeElement,(n,r)=>{r&&Xl(n),n.classList.add("show")},{animation:this.animation,runningTransition:"continue"})})}hide(){return Or(this._zone,this._el.nativeElement,({classList:n})=>n.remove("show"),{animation:this.animation,runningTransition:"stop"})}static#e=this.\u0275fac=function(r){return new(r||t)(E(Qe),E(Te))};static#t=this.\u0275cmp=Ue({type:t,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1055"],hostVars:6,hostBindings:function(r,i){2&r&&(pa("modal-backdrop"+(i.backdropClass?" "+i.backdropClass:"")),Oe("show",!i.animation)("fade",i.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},standalone:!0,features:[si],decls:0,vars:0,template:function(r,i){},encapsulation:2})}return t})();class T8{update(e){}close(e){}dismiss(e){}}const hbe=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","fullscreen","keyboard","scrollable","size","windowClass","modalDialogClass"],fbe=["animation","backdropClass"];class pbe{_applyWindowOptions(e,n){hbe.forEach(r=>{fu(n[r])&&(e[r]=n[r])})}_applyBackdropOptions(e,n){fbe.forEach(r=>{fu(n[r])&&(e[r]=n[r])})}update(e){this._applyWindowOptions(this._windowCmptRef.instance,e),this._backdropCmptRef&&this._backdropCmptRef.instance&&this._applyBackdropOptions(this._backdropCmptRef.instance,e)}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe(kt(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe(kt(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._windowCmptRef.instance.shown.asObservable()}constructor(e,n,r,i){this._windowCmptRef=e,this._contentRef=n,this._backdropCmptRef=r,this._beforeDismiss=i,this._closed=new $e,this._dismissed=new $e,this._hidden=new $e,e.instance.dismissEvent.subscribe(o=>{this.dismiss(o)}),this.result=new Promise((o,s)=>{this._resolve=o,this._reject=s}),this.result.then(null,()=>{})}close(e){this._windowCmptRef&&(this._closed.next(e),this._resolve(e),this._removeModalElements())}_dismiss(e){this._dismissed.next(e),this._reject(e),this._removeModalElements()}dismiss(e){if(this._windowCmptRef)if(this._beforeDismiss){const n=this._beforeDismiss();!function FH(t){return t&&t.then}(n)?!1!==n&&this._dismiss(e):n.then(r=>{!1!==r&&this._dismiss(e)},()=>{})}else this._dismiss(e)}_removeModalElements(){const e=this._windowCmptRef.instance.hide(),n=this._backdropCmptRef?this._backdropCmptRef.instance.hide():ce(void 0);e.subscribe(()=>{const{nativeElement:r}=this._windowCmptRef.location;r.parentNode.removeChild(r),this._windowCmptRef.destroy(),this._contentRef&&this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._windowCmptRef=null,this._contentRef=null}),n.subscribe(()=>{if(this._backdropCmptRef){const{nativeElement:r}=this._backdropCmptRef.location;r.parentNode.removeChild(r),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),VS(e,n).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}}var hA=function(t){return t[t.BACKDROP_CLICK=0]="BACKDROP_CLICK",t[t.ESC=1]="ESC",t}(hA||{});let gbe=(()=>{class t{constructor(n,r,i){this._document=n,this._elRef=r,this._zone=i,this._closed$=new $e,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new ae,this.shown=new $e,this.hidden=new $e}get fullscreenClass(){return!0===this.fullscreen?" modal-fullscreen":hu(this.fullscreen)?` modal-fullscreen-${this.fullscreen}-down`:""}dismiss(n){this.dismissEvent.emit(n)}ngOnInit(){this._elWithFocus=this._document.activeElement,this._zone.onStable.asObservable().pipe(Fn(1)).subscribe(()=>{this._show()})}ngOnDestroy(){this._disableEventHandling()}hide(){const{nativeElement:n}=this._elRef,r={animation:this.animation,runningTransition:"stop"},s=VS(Or(this._zone,n,()=>n.classList.remove("show"),r),Or(this._zone,this._dialogEl.nativeElement,()=>{},r));return s.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),s}_show(){const n={animation:this.animation,runningTransition:"continue"};VS(Or(this._zone,this._elRef.nativeElement,(o,s)=>{s&&Xl(o),o.classList.add("show")},n),Or(this._zone,this._dialogEl.nativeElement,()=>{},n)).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){const{nativeElement:n}=this._elRef;this._zone.runOutsideAngular(()=>{Gn(n,"keydown").pipe(kt(this._closed$),dn(i=>i.which===ct.Escape)).subscribe(i=>{this.keyboard?requestAnimationFrame(()=>{i.defaultPrevented||this._zone.run(()=>this.dismiss(hA.ESC))}):"static"===this.backdrop&&this._bumpBackdrop()});let r=!1;Gn(this._dialogEl.nativeElement,"mousedown").pipe(kt(this._closed$),hn(()=>r=!1),ei(()=>Gn(n,"mouseup").pipe(kt(this._closed$),Fn(1))),dn(({target:i})=>n===i)).subscribe(()=>{r=!0}),Gn(n,"click").pipe(kt(this._closed$)).subscribe(({target:i})=>{n===i&&("static"===this.backdrop?this._bumpBackdrop():!0===this.backdrop&&!r&&this._zone.run(()=>this.dismiss(hA.BACKDROP_CLICK))),r=!1})})}_disableEventHandling(){this._closed$.next()}_setFocus(){const{nativeElement:n}=this._elRef;if(!n.contains(document.activeElement)){const r=n.querySelector("[ngbAutofocus]"),i=a8(n)[0];(r||i||n).focus()}}_restoreFocus(){const n=this._document.body,r=this._elWithFocus;let i;i=r&&r.focus&&n.contains(r)?r:n,this._zone.runOutsideAngular(()=>{setTimeout(()=>i.focus()),this._elWithFocus=null})}_bumpBackdrop(){"static"===this.backdrop&&Or(this._zone,this._elRef.nativeElement,({classList:n})=>(n.add("modal-static"),()=>n.remove("modal-static")),{animation:this.animation,runningTransition:"continue"})}static#e=this.\u0275fac=function(r){return new(r||t)(E(tn),E(Qe),E(Te))};static#t=this.\u0275cmp=Ue({type:t,selectors:[["ngb-modal-window"]],viewQuery:function(r,i){if(1&r&&function ya(t,e,n){const r=Le();r.firstCreatePass&&(bO(r,new _O(t,e,n),-1),2==(2&e)&&(r.staticViewQueries=!0)),vO(r,O(),e)}(vye,7),2&r){let o;nt(o=rt())&&(i._dialogEl=o.first)}},hostAttrs:["role","dialog","tabindex","-1"],hostVars:7,hostBindings:function(r,i){2&r&&(Ye("aria-modal",!0)("aria-labelledby",i.ariaLabelledBy)("aria-describedby",i.ariaDescribedBy),pa("modal d-block"+(i.windowClass?" "+i.windowClass:"")),Oe("fade",i.animation))},inputs:{animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",backdrop:"backdrop",centered:"centered",fullscreen:"fullscreen",keyboard:"keyboard",scrollable:"scrollable",size:"size",windowClass:"windowClass",modalDialogClass:"modalDialogClass"},outputs:{dismissEvent:"dismiss"},standalone:!0,features:[si],ngContentSelectors:H0e,decls:4,vars:2,consts:[["role","document"],["dialog",""],[1,"modal-content"]],template:function(r,i){1&r&&(function ON(t){const e=O()[Ht][Wn];if(!e.projection){const r=e.projection=Pd(t?t.length:1,null),i=r.slice();let o=e.child;for(;null!==o;){const s=t?rW(o,t):0;null!==s&&(i[s]?i[s].projectionNext=o:r[s]=o,i[s]=o),o=o.next}}}(),g(0,"div",0,1)(2,"div",2),function kN(t,e=0,n){const r=O(),i=Le(),o=lc(i,Ae+t,16,null,n||null);null===o.projection&&(o.projection=e),zv(),(!r[Eo]||Bu())&&32!=(32&o.flags)&&function o9(t,e,n){LP(e[ge],0,e,n,yb(t,n,e),NP(n.parent||e[Wn],n,e))}(i,r,o)}(3),p()()),2&r&&pa("modal-dialog"+(i.size?" modal-"+i.size:"")+(i.centered?" modal-dialog-centered":"")+i.fullscreenClass+(i.scrollable?" modal-dialog-scrollable":"")+(i.modalDialogClass?" "+i.modalDialogClass:""))},styles:["ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}\n"],encapsulation:2})}return t})(),mbe=(()=>{class t{constructor(n){this._document=n}hide(){const n=Math.abs(window.innerWidth-this._document.documentElement.clientWidth),r=this._document.body,i=r.style,{overflow:o,paddingRight:s}=i;if(n>0){const a=parseFloat(window.getComputedStyle(r).paddingRight);i.paddingRight=`${a+n}px`}return i.overflow="hidden",()=>{n>0&&(i.paddingRight=s),i.overflow=o}}static#e=this.\u0275fac=function(r){return new(r||t)(j(tn))};static#t=this.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),_be=(()=>{class t{constructor(n,r,i,o,s,a,u){this._applicationRef=n,this._injector=r,this._environmentInjector=i,this._document=o,this._scrollBar=s,this._rendererFactory=a,this._ngZone=u,this._activeWindowCmptHasChanged=new $e,this._ariaHiddenValues=new Map,this._scrollBarRestoreFn=null,this._modalRefs=[],this._windowCmpts=[],this._activeInstances=new ae,this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){const c=this._windowCmpts[this._windowCmpts.length-1];((t,e,n,r=!1)=>{t.runOutsideAngular(()=>{const i=Gn(e,"focusin").pipe(kt(n),ve(o=>o.target));Gn(e,"keydown").pipe(kt(n),dn(o=>o.which===ct.Tab),LS(i)).subscribe(([o,s])=>{const[a,u]=a8(e);(s===a||s===e)&&o.shiftKey&&(u.focus(),o.preventDefault()),s===u&&!o.shiftKey&&(a.focus(),o.preventDefault())}),r&&Gn(e,"click").pipe(kt(n),LS(i),ve(o=>o[1])).subscribe(o=>o.focus())})})(this._ngZone,c.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(c.location.nativeElement)}})}_restoreScrollBar(){const n=this._scrollBarRestoreFn;n&&(this._scrollBarRestoreFn=null,n())}_hideScrollBar(){this._scrollBarRestoreFn||(this._scrollBarRestoreFn=this._scrollBar.hide())}open(n,r,i){const o=i.container instanceof HTMLElement?i.container:fu(i.container)?this._document.querySelector(i.container):this._document.body,s=this._rendererFactory.createRenderer(null,null);if(!o)throw new Error(`The specified modal container "${i.container||"body"}" was not found in the DOM.`);this._hideScrollBar();const a=new T8,u=(n=i.injector||n).get(ar,null)||this._environmentInjector,c=this._getContentRef(n,u,r,a,i);let l=!1!==i.backdrop?this._attachBackdrop(o):void 0,d=this._attachWindowComponent(o,c.nodes),h=new pbe(d,c,l,i.beforeDismiss);return this._registerModalRef(h),this._registerWindowCmpt(d),h.hidden.pipe(Fn(1)).subscribe(()=>Promise.resolve(!0).then(()=>{this._modalRefs.length||(s.removeClass(this._document.body,"modal-open"),this._restoreScrollBar(),this._revertAriaHidden())})),a.close=f=>{h.close(f)},a.dismiss=f=>{h.dismiss(f)},a.update=f=>{h.update(f)},h.update(i),1===this._modalRefs.length&&s.addClass(this._document.body,"modal-open"),l&&l.instance&&l.changeDetectorRef.detectChanges(),d.changeDetectorRef.detectChanges(),h}get activeInstances(){return this._activeInstances}dismissAll(n){this._modalRefs.forEach(r=>r.dismiss(n))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(n){let r=aE(dbe,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector});return this._applicationRef.attachView(r.hostView),n.appendChild(r.location.nativeElement),r}_attachWindowComponent(n,r){let i=aE(gbe,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector,projectableNodes:r});return this._applicationRef.attachView(i.hostView),n.appendChild(i.location.nativeElement),i}_getContentRef(n,r,i,o,s){return i?i instanceof Rt?this._createFromTemplateRef(i,o):hu(i)?this._createFromString(i):this._createFromComponent(n,r,i,o,s):new yu([])}_createFromTemplateRef(n,r){const o=n.createEmbeddedView({$implicit:r,close(s){r.close(s)},dismiss(s){r.dismiss(s)}});return this._applicationRef.attachView(o),new yu([o.rootNodes],o)}_createFromString(n){const r=this._document.createTextNode(`${n}`);return new yu([[r]])}_createFromComponent(n,r,i,o,s){const u=aE(i,{environmentInjector:r,elementInjector:zt.create({providers:[{provide:T8,useValue:o}],parent:n})}),c=u.location.nativeElement;return s.scrollable&&c.classList.add("component-host-scrollable"),this._applicationRef.attachView(u.hostView),new yu([[c]],u.hostView,u)}_setAriaHidden(n){const r=n.parentElement;r&&n!==this._document.body&&(Array.from(r.children).forEach(i=>{i!==n&&"SCRIPT"!==i.nodeName&&(this._ariaHiddenValues.set(i,i.getAttribute("aria-hidden")),i.setAttribute("aria-hidden","true"))}),this._setAriaHidden(r))}_revertAriaHidden(){this._ariaHiddenValues.forEach((n,r)=>{n?r.setAttribute("aria-hidden",n):r.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(n){const r=()=>{const i=this._modalRefs.indexOf(n);i>-1&&(this._modalRefs.splice(i,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(n),this._activeInstances.emit(this._modalRefs),n.result.then(r,r)}_registerWindowCmpt(n){this._windowCmpts.push(n),this._activeWindowCmptHasChanged.next(),n.onDestroy(()=>{const r=this._windowCmpts.indexOf(n);r>-1&&(this._windowCmpts.splice(r,1),this._activeWindowCmptHasChanged.next())})}static#e=this.\u0275fac=function(r){return new(r||t)(j(_s),j(zt),j(ar),j(tn),j(mbe),j(Wb),j(Te))};static#t=this.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),ybe=(()=>{class t{constructor(n){this._ngbConfig=n,this.backdrop=!0,this.fullscreen=!1,this.keyboard=!0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(n){this._animation=n}static#e=this.\u0275fac=function(r){return new(r||t)(j(Ly))};static#t=this.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),vbe=(()=>{class t{constructor(n,r,i){this._injector=n,this._modalStack=r,this._config=i}open(n,r={}){const i={...this._config,animation:this._config.animation,...r};return this._modalStack.open(this._injector,n,i)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(n){this._modalStack.dismissAll(n)}hasOpenModals(){return this._modalStack.hasOpenModals()}static#e=this.\u0275fac=function(r){return new(r||t)(j(zt),j(_be),j(ybe))};static#t=this.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),C8=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Me({type:t});static#n=this.\u0275inj=Re({providers:[vbe]})}return t})(),A8=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Me({type:t});static#n=this.\u0275inj=Re({})}return t})(),F8=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Me({type:t});static#n=this.\u0275inj=Re({})}return t})(),V8=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Me({type:t});static#n=this.\u0275inj=Re({})}return t})(),L8=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Me({type:t});static#n=this.\u0275inj=Re({})}return t})(),B8=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Me({type:t});static#n=this.\u0275inj=Re({})}return t})(),U8=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Me({type:t});static#n=this.\u0275inj=Re({})}return t})(),j8=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Me({type:t});static#n=this.\u0275inj=Re({})}return t})(),$8=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Me({type:t});static#n=this.\u0275inj=Re({})}return t})(),H8=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Me({type:t});static#n=this.\u0275inj=Re({})}return t})();new Z("live announcer delay",{providedIn:"root",factory:function Obe(){return 100}});let G8=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Me({type:t});static#n=this.\u0275inj=Re({})}return t})(),z8=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Me({type:t});static#n=this.\u0275inj=Re({})}return t})();const Fbe=[KH,QH,ZH,XH,b8,I8,C8,A8,z8,F8,V8,L8,B8,U8,j8,$8,H8,G8];let Vbe=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Me({type:t});static#n=this.\u0275inj=Re({imports:[Fbe,KH,QH,ZH,XH,b8,I8,C8,A8,z8,F8,V8,L8,B8,U8,j8,$8,H8,G8]})}return t})(),Lbe=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Me({type:t,bootstrap:[r_e]});static#n=this.\u0275inj=Re({providers:[wS],imports:[CX,t_e,Vbe,Pee,xee,tte,Soe(()=>Aoe(Cy_firebase)),wme(()=>Ime()),Gfe(()=>g$()),xue(()=>Mue())]})}return t})();IX().bootstrapModule(Lbe).catch(t=>console.error(t))},614:()=>{const Ce=":";const Yp=function(A,...D){if(Yp.translate){const k=Yp.translate(A,D);A=k[0],D=k[1]}let N=hv(A[0],A.raw[0]);for(let k=1;k<A.length;k++)N+=D[k-1]+hv(A[k],A.raw[k]);return N},vA=":";function hv(A,D){return D.charAt(0)===vA?A.substring(function cd(A,D){for(let N=1,k=1;N<A.length;N++,k++)if("\\"===D[k])k++;else if(A[N]===Ce)return N;throw new Error(`Unterminated $localize metadata block in "${D}".`)}(A,D)+1):A}globalThis.$localize=Yp}},Ce=>{var es=ts=>Ce(Ce.s=ts);es(614),es(333)}]);